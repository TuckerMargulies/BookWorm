{"version":3,"file":"index.esm.js","sources":["../../node_modules/core-js/library/modules/_to-integer.js","../../node_modules/core-js/library/modules/_defined.js","../../node_modules/core-js/library/modules/_string-at.js","../../node_modules/core-js/library/modules/_library.js","../../node_modules/core-js/library/modules/_global.js","../../node_modules/core-js/library/modules/_core.js","../../node_modules/core-js/library/modules/_a-function.js","../../node_modules/core-js/library/modules/_ctx.js","../../node_modules/core-js/library/modules/_is-object.js","../../node_modules/core-js/library/modules/_an-object.js","../../node_modules/core-js/library/modules/_fails.js","../../node_modules/core-js/library/modules/_descriptors.js","../../node_modules/core-js/library/modules/_dom-create.js","../../node_modules/core-js/library/modules/_ie8-dom-define.js","../../node_modules/core-js/library/modules/_to-primitive.js","../../node_modules/core-js/library/modules/_object-dp.js","../../node_modules/core-js/library/modules/_property-desc.js","../../node_modules/core-js/library/modules/_hide.js","../../node_modules/core-js/library/modules/_export.js","../../node_modules/core-js/library/modules/_redefine.js","../../node_modules/core-js/library/modules/_has.js","../../node_modules/core-js/library/modules/_iterators.js","../../node_modules/core-js/library/modules/_cof.js","../../node_modules/core-js/library/modules/_iobject.js","../../node_modules/core-js/library/modules/_to-iobject.js","../../node_modules/core-js/library/modules/_to-length.js","../../node_modules/core-js/library/modules/_to-absolute-index.js","../../node_modules/core-js/library/modules/_array-includes.js","../../node_modules/core-js/library/modules/_shared.js","../../node_modules/core-js/library/modules/_uid.js","../../node_modules/core-js/library/modules/_shared-key.js","../../node_modules/core-js/library/modules/_object-keys-internal.js","../../node_modules/core-js/library/modules/_enum-bug-keys.js","../../node_modules/core-js/library/modules/_object-keys.js","../../node_modules/core-js/library/modules/_object-dps.js","../../node_modules/core-js/library/modules/_html.js","../../node_modules/core-js/library/modules/_object-create.js","../../node_modules/core-js/library/modules/_wks.js","../../node_modules/core-js/library/modules/_set-to-string-tag.js","../../node_modules/core-js/library/modules/_iter-create.js","../../node_modules/core-js/library/modules/_to-object.js","../../node_modules/core-js/library/modules/_object-gpo.js","../../node_modules/core-js/library/modules/_iter-define.js","../../node_modules/core-js/library/modules/es6.string.iterator.js","../../node_modules/core-js/library/modules/_add-to-unscopables.js","../../node_modules/core-js/library/modules/_iter-step.js","../../node_modules/core-js/library/modules/es6.array.iterator.js","../../node_modules/core-js/library/modules/web.dom.iterable.js","../../node_modules/core-js/library/modules/_classof.js","../../node_modules/core-js/library/modules/_an-instance.js","../../node_modules/core-js/library/modules/_iter-call.js","../../node_modules/core-js/library/modules/_is-array-iter.js","../../node_modules/core-js/library/modules/core.get-iterator-method.js","../../node_modules/core-js/library/modules/_for-of.js","../../node_modules/core-js/library/modules/_species-constructor.js","../../node_modules/core-js/library/modules/_invoke.js","../../node_modules/core-js/library/modules/_task.js","../../node_modules/core-js/library/modules/_microtask.js","../../node_modules/core-js/library/modules/_new-promise-capability.js","../../node_modules/core-js/library/modules/_perform.js","../../node_modules/core-js/library/modules/_promise-resolve.js","../../node_modules/core-js/library/modules/_redefine-all.js","../../node_modules/core-js/library/modules/_set-species.js","../../node_modules/core-js/library/modules/_iter-detect.js","../../node_modules/core-js/library/modules/es6.promise.js","../../node_modules/core-js/library/modules/es7.promise.finally.js","../../node_modules/core-js/library/modules/es7.promise.try.js","../../node_modules/core-js/library/fn/promise.js","../../node_modules/babel-runtime/core-js/promise.js","../../node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js","../../node_modules/webrtc-adapter/src/js/utils.js","../../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../../node_modules/sdp/sdp.js","../../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../../node_modules/webrtc-adapter/src/js/common_shim.js","../../node_modules/webrtc-adapter/src/js/adapter_factory.js","../../node_modules/webrtc-adapter/src/js/adapter_core.js","../../node_modules/core-js/library/modules/_wks-ext.js","../../node_modules/core-js/library/fn/symbol/iterator.js","../../node_modules/babel-runtime/core-js/symbol/iterator.js","../../node_modules/core-js/library/modules/_meta.js","../../node_modules/core-js/library/modules/_wks-define.js","../../node_modules/core-js/library/modules/_object-gops.js","../../node_modules/core-js/library/modules/_object-pie.js","../../node_modules/core-js/library/modules/_enum-keys.js","../../node_modules/core-js/library/modules/_is-array.js","../../node_modules/core-js/library/modules/_object-gopn.js","../../node_modules/core-js/library/modules/_object-gopn-ext.js","../../node_modules/core-js/library/modules/_object-gopd.js","../../node_modules/core-js/library/modules/es6.symbol.js","../../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../../node_modules/core-js/library/modules/es7.symbol.observable.js","../../node_modules/core-js/library/fn/symbol/index.js","../../node_modules/babel-runtime/core-js/symbol.js","../../node_modules/babel-runtime/helpers/typeof.js","../../node_modules/core-js/library/modules/_set-proto.js","../../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../../node_modules/core-js/library/fn/object/set-prototype-of.js","../../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../../node_modules/core-js/library/modules/_object-sap.js","../../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../../node_modules/core-js/library/fn/object/get-prototype-of.js","../../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../node_modules/babel-runtime/helpers/classCallCheck.js","../../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../../node_modules/core-js/library/modules/es6.object.create.js","../../node_modules/core-js/library/fn/object/create.js","../../node_modules/babel-runtime/core-js/object/create.js","../../node_modules/babel-runtime/helpers/inherits.js","../../src/lib/customError.ts","../../src/lib/browserHelper.ts","../../src/lib/camera.ts","../../src/lib/cameraAccess.ts","../../src/lib/imageSettings.ts","../../node_modules/core-js/library/fn/json/stringify.js","../../node_modules/babel-runtime/core-js/json/stringify.js","../../node_modules/core-js/library/modules/_object-assign.js","../../node_modules/core-js/library/modules/es6.object.assign.js","../../node_modules/core-js/library/fn/object/assign.js","../../node_modules/babel-runtime/core-js/object/assign.js","../../node_modules/core-js/library/modules/es6.object.define-property.js","../../node_modules/core-js/library/fn/object/define-property.js","../../node_modules/babel-runtime/core-js/object/define-property.js","../../node_modules/babel-runtime/helpers/createClass.js","../../node_modules/eventemitter3/index.js","../../src/lib/workers/engineSDKWorker.ts","../../src/lib/barcode.ts","../../src/lib/parser.ts","../../node_modules/core-js/library/modules/_object-to-array.js","../../node_modules/core-js/library/modules/es7.object.values.js","../../node_modules/core-js/library/fn/object/values.js","../../node_modules/babel-runtime/core-js/object/values.js","../../node_modules/core-js/library/modules/core.get-iterator.js","../../node_modules/core-js/library/fn/get-iterator.js","../../node_modules/babel-runtime/core-js/get-iterator.js","../../node_modules/core-js/library/modules/es6.object.keys.js","../../node_modules/core-js/library/fn/object/keys.js","../../node_modules/babel-runtime/core-js/object/keys.js","../../node_modules/core-js/library/modules/_create-property.js","../../node_modules/core-js/library/modules/es6.array.from.js","../../node_modules/core-js/library/fn/array/from.js","../../node_modules/babel-runtime/core-js/array/from.js","../../node_modules/babel-runtime/helpers/toConsumableArray.js","../../node_modules/core-js/library/modules/_validate-collection.js","../../node_modules/core-js/library/modules/_collection-strong.js","../../node_modules/core-js/library/modules/_array-species-constructor.js","../../node_modules/core-js/library/modules/_array-species-create.js","../../node_modules/core-js/library/modules/_array-methods.js","../../node_modules/core-js/library/modules/_collection.js","../../node_modules/core-js/library/modules/es6.set.js","../../node_modules/core-js/library/modules/_array-from-iterable.js","../../node_modules/core-js/library/modules/_collection-to-json.js","../../node_modules/core-js/library/modules/es7.set.to-json.js","../../node_modules/core-js/library/modules/_set-collection-of.js","../../node_modules/core-js/library/modules/es7.set.of.js","../../node_modules/core-js/library/modules/_set-collection-from.js","../../node_modules/core-js/library/modules/es7.set.from.js","../../node_modules/core-js/library/fn/set.js","../../node_modules/babel-runtime/core-js/set.js","../../src/lib/symbologySettings.ts","../../src/lib/scanSettings.ts","../../src/lib/scanner.ts","../../node_modules/howler/dist/howler.core.min.js","../../src/lib/assets/base64assets.ts","../../node_modules/core-js/library/modules/es6.math.hypot.js","../../node_modules/core-js/library/fn/math/hypot.js","../../node_modules/babel-runtime/core-js/math/hypot.js","../../src/lib/cameraSettings.ts","../../src/lib/barcodePickerCameraManager.ts","../../src/lib/barcodePicker.ts","../../src/index.ts"],"sourcesContent":["// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","!function(){\"use strict\";if(\"undefined\"!=typeof window){var t=window.navigator.userAgent.match(/Edge\\/(\\d{2})\\./),e=!!t&&parseInt(t[1],10)>=16;if(\"objectFit\"in document.documentElement.style!=!1&&!e)return void(window.objectFitPolyfill=function(){return!1});var i=function(t){var e=window.getComputedStyle(t,null),i=e.getPropertyValue(\"position\"),n=e.getPropertyValue(\"overflow\"),o=e.getPropertyValue(\"display\");i&&\"static\"!==i||(t.style.position=\"relative\"),\"hidden\"!==n&&(t.style.overflow=\"hidden\"),o&&\"inline\"!==o||(t.style.display=\"block\"),0===t.clientHeight&&(t.style.height=\"100%\"),-1===t.className.indexOf(\"object-fit-polyfill\")&&(t.className=t.className+\" object-fit-polyfill\")},n=function(t){var e=window.getComputedStyle(t,null),i={\"max-width\":\"none\",\"max-height\":\"none\",\"min-width\":\"0px\",\"min-height\":\"0px\",top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\",\"margin-top\":\"0px\",\"margin-right\":\"0px\",\"margin-bottom\":\"0px\",\"margin-left\":\"0px\"};for(var n in i){e.getPropertyValue(n)!==i[n]&&(t.style[n]=i[n])}},o=function(t,e,i){var n,o,l,a,d;if(i=i.split(\" \"),i.length<2&&(i[1]=i[0]),\"x\"===t)n=i[0],o=i[1],l=\"left\",a=\"right\",d=e.clientWidth;else{if(\"y\"!==t)return;n=i[1],o=i[0],l=\"top\",a=\"bottom\",d=e.clientHeight}return n===l||o===l?void(e.style[l]=\"0\"):n===a||o===a?void(e.style[a]=\"0\"):\"center\"===n||\"50%\"===n?(e.style[l]=\"50%\",void(e.style[\"margin-\"+l]=d/-2+\"px\")):n.indexOf(\"%\")>=0?(n=parseInt(n),void(n<50?(e.style[l]=n+\"%\",e.style[\"margin-\"+l]=d*(n/-100)+\"px\"):(n=100-n,e.style[a]=n+\"%\",e.style[\"margin-\"+a]=d*(n/-100)+\"px\"))):void(e.style[l]=n)},l=function(t){var e=t.dataset?t.dataset.objectFit:t.getAttribute(\"data-object-fit\"),l=t.dataset?t.dataset.objectPosition:t.getAttribute(\"data-object-position\");e=e||\"cover\",l=l||\"50% 50%\";var a=t.parentNode;i(a),n(t),t.style.position=\"absolute\",t.style.height=\"100%\",t.style.width=\"auto\",\"scale-down\"===e&&(t.style.height=\"auto\",t.clientWidth<a.clientWidth&&t.clientHeight<a.clientHeight?(o(\"x\",t,l),o(\"y\",t,l)):(e=\"contain\",t.style.height=\"100%\")),\"none\"===e?(t.style.width=\"auto\",t.style.height=\"auto\",o(\"x\",t,l),o(\"y\",t,l)):\"cover\"===e&&t.clientWidth>a.clientWidth||\"contain\"===e&&t.clientWidth<a.clientWidth?(t.style.top=\"0\",t.style.marginTop=\"0\",o(\"x\",t,l)):\"scale-down\"!==e&&(t.style.width=\"100%\",t.style.height=\"auto\",t.style.left=\"0\",t.style.marginLeft=\"0\",o(\"y\",t,l))},a=function(t){if(void 0===t)t=document.querySelectorAll(\"[data-object-fit]\");else if(t&&t.nodeName)t=[t];else{if(\"object\"!=typeof t||!t.length||!t[0].nodeName)return!1;t=t}for(var i=0;i<t.length;i++)if(t[i].nodeName){var n=t[i].nodeName.toLowerCase();\"img\"!==n||e?\"video\"===n&&(t[i].readyState>0?l(t[i]):t[i].addEventListener(\"loadedmetadata\",function(){l(this)})):t[i].complete?l(t[i]):t[i].addEventListener(\"load\",function(){l(this)})}return!0};document.addEventListener(\"DOMContentLoaded\",function(){a()}),window.addEventListener(\"resize\",function(){a()}),window.objectFitPolyfill=a}}();","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\n// Utility methods.\nmodule.exports = {\n  extractVersion: extractVersion,\n  wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    if (navigator.mozGetUserMedia) { // Firefox.\n      result.browser = 'firefox';\n      result.version = extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera.\n      // Version matches Chrome/WebRTC version.\n      result.browser = 'chrome';\n      result.version = extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (window.RTCPeerConnection &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n      result.browser = 'safari';\n      result.version = extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    } else if (!('RTCRtpTransceiver' in window)) {\n      utils.wrapPeerConnectionEvent(window, 'track', function(e) {\n        if (!e.transceiver) {\n          e.transceiver = {receiver: e.receiver};\n        }\n        return e;\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrackWithNative: function(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n        return pc._shimmedLocalStreams[streamId][0];\n      });\n    };\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      var sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      var existingSenders = pc.getSenders();\n      origAddStream.apply(this, arguments);\n      var newSenders = pc.getSenders().filter(function(newSender) {\n        return existingSenders.indexOf(newSender) === -1;\n      });\n      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            pc._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (pc._shimmedLocalStreams[streamId].length === 1) {\n            delete pc._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 65) {\n      return this.shimAddTrackRemoveTrackWithNative(window);\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      pc._reverseStreams = pc._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return pc._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var pc = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(pc, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var pc = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(pc, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var pc = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(pc, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5],\n  };\n}\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction fixStatsType(stat) {\n  return {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  }[stat.type] || stat.type;\n}\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    var trackId = transceiver.rtpSender._initialTrackId ||\n        transceiver.rtpSender.track.id;\n    transceiver.rtpSender._initialTrackId = trackId;\n    // spec.\n    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n        trackId + '\\r\\n';\n    sdp += 'a=' + msid;\n    // for Chrome. Legacy should no longer be required.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n\n    // RTX\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\n\nfunction makeError(name, description) {\n  var e = new Error(description);\n  e.name = name;\n  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n  e.code = {\n    NotSupportedError: 9,\n    InvalidStateError: 11,\n    InvalidAccessError: 15,\n    TypeError: undefined,\n    OperationError: undefined\n  }[name];\n  return e;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  // https://w3c.github.io/mediacapture-main/#mediastream\n  // Helper function to add the track to the stream and\n  // dispatch the event ourselves.\n  function addTrackToStreamAndFireEvent(track, stream) {\n    stream.addTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n        {track: track}));\n  }\n\n  function removeTrackFromStreamAndFireEvent(track, stream) {\n    stream.removeTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n        {track: track}));\n  }\n\n  function fireAddTrack(pc, track, receiver, streams) {\n    var trackEvent = new Event('track');\n    trackEvent.track = track;\n    trackEvent.receiver = receiver;\n    trackEvent.transceiver = {receiver: receiver};\n    trackEvent.streams = streams;\n    window.setTimeout(function() {\n      pc._dispatchEvent('track', trackEvent);\n    });\n  }\n\n  var RTCPeerConnection = function(config) {\n    var pc = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.connectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      throw(makeError('NotSupportedError',\n          'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers.push(new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        }));\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n    this._isClosed = false;\n  };\n\n  // set up event handlers on prototype\n  RTCPeerConnection.prototype.onicecandidate = null;\n  RTCPeerConnection.prototype.onaddstream = null;\n  RTCPeerConnection.prototype.ontrack = null;\n  RTCPeerConnection.prototype.onremovestream = null;\n  RTCPeerConnection.prototype.onsignalingstatechange = null;\n  RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n  RTCPeerConnection.prototype.onconnectionstatechange = null;\n  RTCPeerConnection.prototype.onicegatheringstatechange = null;\n  RTCPeerConnection.prototype.onnegotiationneeded = null;\n  RTCPeerConnection.prototype.ondatachannel = null;\n\n  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n    if (this._isClosed) {\n      return;\n    }\n    this.dispatchEvent(event);\n    if (typeof this['on' + name] === 'function') {\n      this['on' + name](event);\n    }\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this._dispatchEvent('icegatheringstatechange', event);\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (which is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      associatedRemoteMediaStreams: [],\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    if (!doNotAdd) {\n      this.transceivers.push(transceiver);\n    }\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call addTrack on a closed peerconnection.');\n    }\n\n    var alreadyExists = this.transceivers.find(function(s) {\n      return s.track === track;\n    });\n\n    if (alreadyExists) {\n      throw makeError('InvalidAccessError', 'Track already exists.');\n    }\n\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var pc = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        pc.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        pc.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeTrack = function(sender) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call removeTrack on a closed peerconnection.');\n    }\n\n    if (!(sender instanceof window.RTCRtpSender)) {\n      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n          'does not implement interface RTCRtpSender.');\n    }\n\n    var transceiver = this.transceivers.find(function(t) {\n      return t.rtpSender === sender;\n    });\n\n    if (!transceiver) {\n      throw makeError('InvalidAccessError',\n          'Sender was not created by this connection.');\n    }\n    var stream = transceiver.stream;\n\n    transceiver.rtpSender.stop();\n    transceiver.rtpSender = null;\n    transceiver.track = null;\n    transceiver.stream = null;\n\n    // remove the stream from the set of local streams\n    var localStreams = this.transceivers.map(function(t) {\n      return t.stream;\n    });\n    if (localStreams.indexOf(stream) === -1 &&\n        this.localStreams.indexOf(stream) > -1) {\n      this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n    }\n\n    this._maybeFireNegotiationNeeded();\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var pc = this;\n    stream.getTracks().forEach(function(track) {\n      var sender = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (sender) {\n        pc.removeTrack(sender);\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var pc = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var pc = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var bufferedCandidateEvents =\n      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (pc.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        // also the usernameFragment. TODO: update SDP to take both variants.\n        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n\n        var serializedCandidate = SDPUtils.writeCandidate(cand);\n        event.candidate = Object.assign(event.candidate,\n            SDPUtils.parseCandidate(serializedCandidate));\n\n        event.candidate.candidate = serializedCandidate;\n        event.candidate.toJSON = function() {\n          return {\n            candidate: event.candidate.candidate,\n            sdpMid: event.candidate.sdpMid,\n            sdpMLineIndex: event.candidate.sdpMLineIndex,\n            usernameFragment: event.candidate.usernameFragment\n          };\n        };\n      }\n\n      // update local description.\n      var sections = SDPUtils.getMediaSections(pc.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      pc.localDescription.sdp =\n          SDPUtils.getDescription(pc.localDescription.sdp) +\n          sections.join('');\n      var complete = pc.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (pc.iceGatheringState !== 'gathering') {\n        pc.iceGatheringState = 'gathering';\n        pc._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        pc._dispatchEvent('icecandidate', event);\n      }\n      if (complete) {\n        pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n        pc.iceGatheringState = 'complete';\n        pc._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      bufferedCandidateEvents.forEach(function(e) {\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var pc = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      pc._updateIceConnectionState();\n      pc._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      pc._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      pc._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      if (transceiver.recvEncodingParameters.length) {\n        params.encodings = transceiver.recvEncodingParameters;\n      } else {\n        params.encodings = [{}];\n      }\n      params.rtcp = {\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.rtcpParameters.cname) {\n        params.rtcp.cname = transceiver.rtcpParameters.cname;\n      }\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set local ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        pc._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(pc.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n        if (!rejected && !transceiver.rejected) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!pc.usingBundle || sdpMLineIndex === 0) {\n            pc._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          pc._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    pc.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-local-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set remote ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var streams = {};\n    pc.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    pc.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      pc.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if ((kind === 'application' && protocol === 'DTLS/SCTP') || rejected) {\n        // TODO: this is dangerous in the case where a non-rejected m-line\n        //     becomes rejected.\n        pc.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          kind: kind,\n          rejected: true\n        };\n        return;\n      }\n\n      if (!rejected && pc.transceivers[sdpMLineIndex] &&\n          pc.transceivers[sdpMLineIndex].rejected) {\n        // recycle a rejected transceiver.\n        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          pc.transceivers[sdpMLineIndex]) {\n        pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n        pc.transceivers[sdpMLineIndex].iceGatherer =\n            pc.transceivers[0].iceGatherer;\n        pc.transceivers[sdpMLineIndex].iceTransport =\n            pc.transceivers[0].iceTransport;\n        pc.transceivers[sdpMLineIndex].dtlsTransport =\n            pc.transceivers[0].dtlsTransport;\n        if (pc.transceivers[sdpMLineIndex].rtpSender) {\n          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex] ||\n            pc._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid && remoteMsid.stream === '-') {\n              // no-op. a stream id of '-' means: no associated stream.\n            } else if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            if (stream) {\n              addTrackToStreamAndFireEvent(track, stream);\n              transceiver.associatedRemoteMediaStreams.push(stream);\n            }\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n          transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n            var nativeTrack = s.getTracks().find(function(t) {\n              return t.id === transceiver.rtpReceiver.track.id;\n            });\n            if (nativeTrack) {\n              removeTrackFromStreamAndFireEvent(nativeTrack, s);\n            }\n          });\n          transceiver.associatedRemoteMediaStreams = [];\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        pc._transceive(pc.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        pc.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        pc._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams.default);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (pc._dtlsRole === undefined) {\n      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    pc.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-remote-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (pc.remoteStreams.indexOf(stream) === -1) {\n          pc.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            pc._dispatchEvent('addstream', event);\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          fireAddTrack(pc, track, receiver, [stream]);\n        });\n      }\n    });\n    receiverList.forEach(function(item) {\n      if (item[2]) {\n        return;\n      }\n      fireAddTrack(pc, item[0], item[1], []);\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(pc && pc.transceivers)) {\n        return;\n      }\n      pc.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._isClosed = true;\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this._dispatchEvent('signalingstatechange', event);\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var pc = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (pc.needNegotiation) {\n        pc.needNegotiation = false;\n        var event = new Event('negotiationneeded');\n        pc._dispatchEvent('negotiationneeded', event);\n      }\n    }, 0);\n  };\n\n  // Update the ice connection state.\n  RTCPeerConnection.prototype._updateIceConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n    });\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.checking > 0) {\n      newState = 'checking';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    } else if (states.completed > 0) {\n      newState = 'completed';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this._dispatchEvent('iceconnectionstatechange', event);\n    }\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.connectionState) {\n      this.connectionState = newState;\n      var event = new Event('connectionstatechange');\n      this._dispatchEvent('connectionstatechange', event);\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createOffer after close'));\n    }\n\n    var numAudioTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    var offerOptions = arguments[0];\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    pc.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        pc._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        pc._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = transceiver.mid || SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n            pc.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n\n        // for subsequent offers, we might have to re-use the payload\n        // type of the last offer.\n        if (transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.codecs) {\n          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                codec.clockRate === remoteCodec.clockRate) {\n              codec.preferredPayloadType = remoteCodec.payloadType;\n            }\n          });\n        }\n      });\n      localCapabilities.headerExtensions.forEach(function(hdrExt) {\n        var remoteExtensions = transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.headerExtensions || [];\n        remoteExtensions.forEach(function(rHdrExt) {\n          if (hdrExt.uri === rHdrExt.uri) {\n            hdrExt.id = rHdrExt.id;\n          }\n        });\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (pc._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, pc._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !pc.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer after close'));\n    }\n\n    if (!(pc.signalingState === 'have-remote-offer' ||\n        pc.signalingState === 'have-local-pranswer')) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer in signalingState ' + pc.signalingState));\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    if (pc.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n        pc.remoteDescription.sdp).length;\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.rejected) {\n        if (transceiver.kind === 'application') {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n        } else if (transceiver.kind === 'audio') {\n          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n              'a=rtpmap:0 PCMU/8000\\r\\n';\n        } else if (transceiver.kind === 'video') {\n          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n              'a=rtpmap:120 VP8/90000\\r\\n';\n        }\n        sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=inactive\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, pc._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var pc = this;\n    var sections;\n    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n        candidate.sdpMid)) {\n      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n    }\n\n    // TODO: needs to go into ops queue.\n    return new Promise(function(resolve, reject) {\n      if (!pc.remoteDescription) {\n        return reject(makeError('InvalidStateError',\n            'Can not add ICE candidate without a remote description'));\n      } else if (!candidate || candidate.candidate === '') {\n        for (var j = 0; j < pc.transceivers.length; j++) {\n          if (pc.transceivers[j].rejected) {\n            continue;\n          }\n          pc.transceivers[j].iceTransport.addRemoteCandidate({});\n          sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n          sections[j] += 'a=end-of-candidates\\r\\n';\n          pc.remoteDescription.sdp =\n              SDPUtils.getDescription(pc.remoteDescription.sdp) +\n              sections.join('');\n          if (pc.usingBundle) {\n            break;\n          }\n        }\n      } else {\n        var sdpMLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < pc.transceivers.length; i++) {\n            if (pc.transceivers[i].mid === candidate.sdpMid) {\n              sdpMLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        if (transceiver) {\n          if (transceiver.rejected) {\n            return resolve();\n          }\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component && cand.component !== 1) {\n            return resolve();\n          }\n          // when using bundle, avoid adding candidates to the wrong\n          // ice transport. And avoid adding candidates added in the SDP.\n          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n              return reject(makeError('OperationError',\n                  'Can not add ICE candidate'));\n            }\n          }\n\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n          sections[sdpMLineIndex] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          pc.remoteDescription.sdp =\n              SDPUtils.getDescription(pc.remoteDescription.sdp) +\n              sections.join('');\n        } else {\n          return reject(makeError('OperationError',\n              'Can not add ICE candidate'));\n        }\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function(selector) {\n    if (selector && selector instanceof window.MediaStreamTrack) {\n      var senderOrReceiver = null;\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.rtpSender &&\n            transceiver.rtpSender.track === selector) {\n          senderOrReceiver = transceiver.rtpSender;\n        } else if (transceiver.rtpReceiver &&\n            transceiver.rtpReceiver.track === selector) {\n          senderOrReceiver = transceiver.rtpReceiver;\n        }\n      });\n      if (!senderOrReceiver) {\n        throw makeError('InvalidAccessError', 'Invalid selector.');\n      }\n      return senderOrReceiver.getStats();\n    }\n\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    return Promise.all(promises).then(function(allStats) {\n      var results = new Map();\n      allStats.forEach(function(stats) {\n        stats.forEach(function(stat) {\n          results.set(stat.id, stat);\n        });\n      });\n      return results;\n    });\n  };\n\n  // fix low-level stat names and return Map instead of object.\n  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',\n    'RTCIceTransport', 'RTCDtlsTransport'];\n  ortcObjects.forEach(function(ortcObjectName) {\n    var obj = window[ortcObjectName];\n    if (obj && obj.prototype && obj.prototype.getStats) {\n      var nativeGetstats = obj.prototype.getStats;\n      obj.prototype.getStats = function() {\n        return nativeGetstats.apply(this)\n        .then(function(nativeStats) {\n          var mapStats = new Map();\n          Object.keys(nativeStats).forEach(function(id) {\n            nativeStats[id].type = fixStatsType(nativeStats[id]);\n            mapStats.set(id, nativeStats[id]);\n          });\n          return mapStats;\n        });\n      };\n    }\n  });\n\n  // legacy callback shims. Should be moved to adapter.js some days.\n  var methods = ['createOffer', 'createAnswer'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[0] === 'function' ||\n          typeof args[1] === 'function') { // legacy\n        return nativeMethod.apply(this, [arguments[2]])\n        .then(function(description) {\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, [description]);\n          }\n        }, function(error) {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function' ||\n          typeof args[2] === 'function') { // legacy\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        }, function(error) {\n          if (typeof args[2] === 'function') {\n            args[2].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  // getStats is special. It doesn't have a spec legacy method yet we support\n  // getStats(something, cb) without error callbacks.\n  ['getStats'].forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function') {\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  return RTCPeerConnection;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n    // Edge currently only implements the RTCDtmfSender, not the\n    // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n    if (window.RTCDtmfSender && !window.RTCDTMFSender) {\n      window.RTCDTMFSender = window.RTCDtmfSender;\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if (!window.RTCPeerConnection ||\n        'removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(pc, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var pc = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            pc.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          var pc = this;\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(function(stream) {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              var event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n        }\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n        }\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype)) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      if (args.candidate && args.candidate.length) {\n        // Augment the native candidate with the parsed fields.\n        var nativeCandidate = new NativeRTCIceCandidate(args);\n        var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n        var augmentedCandidate = Object.assign(nativeCandidate,\n            parsedCandidate);\n\n        // Add a serializer that does not serialize the extra attributes.\n        augmentedCandidate.toJSON = function() {\n          return {\n            candidate: augmentedCandidate.candidate,\n            sdpMid: augmentedCandidate.sdpMid,\n            sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n            usernameFragment: augmentedCandidate.usernameFragment,\n          };\n        };\n        return augmentedCandidate;\n      }\n      return new NativeRTCIceCandidate(args);\n    };\n    window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  },\n\n  shimMaxMessageSize: function(window) {\n    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n      return;\n    }\n    var browserDetails = utils.detectBrowser(window);\n\n    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n          return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n      });\n    }\n\n    var sctpInDescription = function(description) {\n      var sections = SDPUtils.splitSections(description.sdp);\n      sections.shift();\n      return sections.some(function(mediaSection) {\n        var mLine = SDPUtils.parseMLine(mediaSection);\n        return mLine && mLine.kind === 'application'\n            && mLine.protocol.indexOf('SCTP') !== -1;\n      });\n    };\n\n    var getRemoteFirefoxVersion = function(description) {\n      // TODO: Is there a better solution for detecting Firefox?\n      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (match === null || match.length < 2) {\n        return -1;\n      }\n      var version = parseInt(match[1], 10);\n      // Test for NaN (yes, this is ugly)\n      return version !== version ? -1 : version;\n    };\n\n    var getCanSendMaxMessageSize = function(remoteIsFirefox) {\n      // Every implementation we know can send at least 64 KiB.\n      // Note: Although Chrome is technically able to send up to 256 KiB, the\n      //       data does not reach the other peer reliably.\n      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n      var canSendMaxMessageSize = 65536;\n      if (browserDetails.browser === 'firefox') {\n        if (browserDetails.version < 57) {\n          if (remoteIsFirefox === -1) {\n            // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n            // fragmentation.\n            canSendMaxMessageSize = 16384;\n          } else {\n            // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n            // messages. Thus, supporting ~2 GiB when sending.\n            canSendMaxMessageSize = 2147483637;\n          }\n        } else {\n          // Currently, all FF >= 57 will reset the remote maximum message size\n          // to the default value when a data channel is created at a later\n          // stage. :(\n          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n          canSendMaxMessageSize =\n            browserDetails.version === 57 ? 65535 : 65536;\n        }\n      }\n      return canSendMaxMessageSize;\n    };\n\n    var getMaxMessageSize = function(description, remoteIsFirefox) {\n      // Note: 65536 bytes is the default value from the SDP spec. Also,\n      //       every implementation we know supports receiving 65536 bytes.\n      var maxMessageSize = 65536;\n\n      // FF 57 has a slightly incorrect default remote max message size, so\n      // we need to adjust it here to avoid a failure when sending.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n      if (browserDetails.browser === 'firefox'\n           && browserDetails.version === 57) {\n        maxMessageSize = 65535;\n      }\n\n      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n      if (match.length > 0) {\n        maxMessageSize = parseInt(match[0].substr(19), 10);\n      } else if (browserDetails.browser === 'firefox' &&\n                  remoteIsFirefox !== -1) {\n        // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n      }\n      return maxMessageSize;\n    };\n\n    var origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n      var pc = this;\n      pc._sctp = null;\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        var maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        var sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get: function() {\n            return maxMessageSize;\n          }\n        });\n        pc._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  },\n\n  shimSendThrowTypeError: function(window) {\n    if (!(window.RTCPeerConnection &&\n        'createDataChannel' in window.RTCPeerConnection.prototype)) {\n      return;\n    }\n\n    // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n    var origCreateDataChannel =\n      window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function() {\n      var pc = this;\n      var dataChannel = origCreateDataChannel.apply(pc, arguments);\n      var origDataChannelSend = dataChannel.send;\n\n      // Patch 'send' method\n      dataChannel.send = function() {\n        var dc = this;\n        var data = arguments[0];\n        var length = data.length || data.size || data.byteLength;\n        if (length > pc.sctp.maxMessageSize) {\n          throw new DOMException('Message too large (can send a maximum of ' +\n            pc.sctp.maxMessageSize + ' bytes)', 'TypeError');\n        }\n        return origDataChannelSend.apply(dc, arguments);\n      };\n\n      return dataChannel;\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","/**\n * @hidden\n */\nexport class CustomError extends Error {\n  constructor(\n    {\n      name = \"\",\n      message = \"\"\n    }: {\n      name?: string;\n      message?: string;\n    } = {}\n  ) {\n    super(message);\n    Object.setPrototypeOf(this, CustomError.prototype);\n    this.name = name;\n  }\n}\n","import { CustomError } from \"./customError\";\n\n/**\n * @hidden\n */\nexport namespace BrowserHelper {\n  /**\n   * @returns The first matching error indicating a missing browser feature, or undefined.\n   */\n  export function checkBrowserCompatibility(): Error | undefined {\n    if (/; wv\\)/.test(window.navigator.userAgent)) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser (WebView)\"\n      });\n    }\n\n    if (window.navigator.mediaDevices == null || typeof window.navigator.mediaDevices.getUserMedia !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Worker\") || typeof (<any>window).Worker !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Web Worker is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"WebAssembly\") || typeof (<any>window).WebAssembly !== \"object\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"WebAssembly is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Blob\") || typeof (<any>window).Blob !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Blob object is not supported on this OS / Browser\"\n      });\n    }\n\n    if (\n      !window.hasOwnProperty(\"URL\") ||\n      (typeof (<any>window).URL !== \"function\" && typeof (<any>window).URL !== \"object\") ||\n      typeof (<any>window).URL.createObjectURL !== \"function\"\n    ) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"URL object is not supported on this OS / Browser\"\n      });\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Get a value from a cookie.\n   *\n   * @param key The key for the cookie for which to get the value.\n   * @returns The cookie value for the given key, empty string if not found.\n   */\n  function getCookieValue(key: string): string {\n    const cookieMatch: RegExpMatchArray | null = document.cookie.match(`(^|;)\\\\s*${key}\\\\s*=\\\\s*([^;]+)`);\n\n    if (cookieMatch == null) {\n      return \"\";\n    } else {\n      const cookieValue: string | undefined = cookieMatch.pop();\n\n      // istanbul ignore next\n      return cookieValue == null ? \"\" : cookieValue;\n    }\n  }\n\n  /**\n   * Store a value in a cookie.\n   *\n   * @param key The key for the cookie.\n   * @param value The value of the cookie.\n   * @param expirationDays The amount of days after which the cookie will expire.\n   */\n  function setCookieValue(key: string, value: string, expirationDays: number): void {\n    const date: Date = new Date();\n    date.setTime(date.getTime() + expirationDays * 24 * 60 * 60 * 1000);\n    document.cookie = `${key}=${value};expires=${date.toUTCString()}`;\n  }\n\n  /**\n   * Get a device id for the current browser, when available it's retrieved from a cookie,\n   * when not it's randomly generated and stored in a cookie to be retrieved by later calls.\n   *\n   * @returns The device id for the current browser.\n   */\n  export function getDeviceId(): string {\n    const cookieKey: string = \"scandit-device-id\";\n    const storedDeviceId: string = getCookieValue(cookieKey);\n    if (storedDeviceId !== \"\") {\n      return storedDeviceId;\n    }\n    const hexCharacters: string = \"0123456789abcdef\";\n    let randomDeviceId: string = \"\";\n    for (let i: number = 0; i < 40; ++i) {\n      // tslint:disable-next-line:insecure-random\n      randomDeviceId += hexCharacters.charAt(Math.floor(Math.random() * 16));\n    }\n    setCookieValue(cookieKey, randomDeviceId, 3650);\n\n    return randomDeviceId;\n  }\n}\n","/**\n * A camera for video input available to be used on the device.\n */\nexport interface Camera {\n  /**\n   * The unique identifier for the device, can change between page loads.\n   */\n  readonly deviceId: string;\n  /**\n   * The label describing the device.\n   */\n  readonly label: string;\n  /**\n   * The type of camera, back or front (not guaranteed to be correct, depending on the device).\n   */\n  readonly cameraType: Camera.Type;\n  /**\n   * The current video resolution if and when the camera is in use, given as width and height in pixels.\n   */\n  currentResolution?: { width: number; height: number };\n}\n\nexport namespace Camera {\n  /**\n   * Camera type (not guaranteed to be correct, depending on the device).\n   */\n  export enum Type {\n    /**\n     * Front facing camera.\n     */\n    FRONT_DEPRECATED = 0,\n    /**\n     * Back facing camera.\n     */\n    BACK_DEPRECATED = 1,\n    /**\n     * Front facing camera.\n     */\n    FRONT = \"front\",\n    /**\n     * Back facing camera.\n     */\n    BACK = \"back\"\n  }\n}\n","import { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CustomError } from \"./customError\";\n\n/**\n * A helper object to interact with cameras.\n */\nexport namespace CameraAccess {\n  /**\n   * @hidden\n   *\n   * Handle localized camera labels. Supported languages:\n   * English, German, French, Spanish (spain), Portuguese (brasil), Portuguese (portugal), Italian,\n   * Chinese (simplified), Chinese (traditional), Japanese, Russian, Turkish, Dutch, Arabic, Thai, Swedish,\n   * Danish, Vietnamese, Norwegian, Polish, Finnish, Indonesian, Hebrew, Greek, Romanian, Hungarian, Czech,\n   * Catalan, Slovak, Ukraininan, Croatian, Malay, Hindi.\n   */\n  const backCameraKeywords: string[] = [\n    \"rear\",\n    \"back\",\n    \"rück\",\n    \"arrière\",\n    \"trasera\",\n    \"trás\",\n    \"traseira\",\n    \"posteriore\",\n    \"后面\",\n    \"後面\",\n    \"背面\",\n    \"后置\", // alternative\n    \"後置\", // alternative\n    \"背置\", // alternative\n    \"задней\",\n    \"الخلفية\",\n    \"후\",\n    \"arka\",\n    \"achterzijde\",\n    \"หลัง\",\n    \"baksidan\",\n    \"bagside\",\n    \"sau\",\n    \"bak\",\n    \"tylny\",\n    \"takakamera\",\n    \"belakang\",\n    \"אחורית\",\n    \"πίσω\",\n    \"spate\",\n    \"hátsó\",\n    \"zadní\",\n    \"darrere\",\n    \"zadná\",\n    \"задня\",\n    \"stražnja\",\n    \"belakang\",\n    \"बैक\"\n  ];\n\n  /**\n   * @hidden\n   */\n  export let mediaStream: MediaStream;\n\n  /**\n   * Get a list of cameras (if any) available on the device, a camera access permission is requested to the user\n   * the first time this method is called if needed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   *\n   * @returns A promise resolving to the array of available [[Camera]] objects (could be empty).\n   */\n  export function getCameras(): Promise<Camera[]> {\n    return new Promise((resolve, reject) => {\n      const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n      if (unsupportedBrowserError != null) {\n        return reject(unsupportedBrowserError);\n      }\n\n      let accessPermissionPromise: Promise<any> = Promise.resolve();\n      if (mediaStream == null) {\n        accessPermissionPromise = navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: false\n        });\n      }\n\n      accessPermissionPromise\n        .then(stream => {\n          if (stream != null) {\n            mediaStream = stream;\n          }\n\n          return enumerateDevices()\n            .then(devices => {\n              const cameras: Camera[] = devices\n                .filter(device => {\n                  return device.kind === \"videoinput\";\n                })\n                .map(videoDevice => {\n                  const label: string = videoDevice.label != null ? videoDevice.label : \"\";\n                  const lowercaseLabel: string = label.toLowerCase();\n\n                  return {\n                    deviceId: videoDevice.deviceId,\n                    label: label,\n                    cameraType: backCameraKeywords.some(keyword => {\n                      return lowercaseLabel.indexOf(keyword) !== -1;\n                    })\n                      ? Camera.Type.BACK\n                      : Camera.Type.FRONT\n                  };\n                });\n              if (\n                cameras.length > 1 &&\n                !cameras.some(camera => {\n                  return camera.cameraType === Camera.Type.BACK;\n                })\n              ) {\n                const camera: Camera = cameras.slice(-1)[0];\n                cameras[cameras.length - 1] = {\n                  deviceId: camera.deviceId,\n                  label: camera.label,\n                  cameraType: Camera.Type.BACK\n                };\n              }\n\n              mediaStream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return resolve(cameras);\n            })\n            .catch(error => {\n              mediaStream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return reject(error);\n            });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n\n  /**\n   * @hidden\n   *\n   * Try to access a given camera for video input at the given resolution level.\n   *\n   * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\n   * resulting in higher to lower video resolutions.\n   * @param camera The camera to try to access for video input.\n   * @returns A promise resolving to the <tt>MediaStream</tt> object coming from the accessed camera.\n   */\n  export function accessCameraStream(resolutionFallbackLevel: number, camera?: Camera): Promise<MediaStream> {\n    const getUserMediaParams: any = {\n      audio: false,\n      video: {}\n    };\n    if (resolutionFallbackLevel === 0) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1400,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1440,\n          max: 1440\n        }\n      };\n    } else if (resolutionFallbackLevel === 1) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1200,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1200,\n          max: 1200\n        }\n      };\n    } else if (resolutionFallbackLevel === 2) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1080,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1080,\n          max: 1080\n        }\n      };\n    } else if (resolutionFallbackLevel === 3) {\n      getUserMediaParams.video = {\n        width: {\n          min: 960,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 960,\n          max: 960\n        }\n      };\n    } else if (resolutionFallbackLevel === 4) {\n      getUserMediaParams.video = {\n        width: {\n          min: 720,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 768\n        }\n      };\n    } else if (resolutionFallbackLevel === 5) {\n      getUserMediaParams.video = {\n        width: {\n          min: 640,\n          ideal: 960,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 720\n        }\n      };\n    }\n\n    if (camera === undefined) {\n      getUserMediaParams.video = true;\n    } else {\n      getUserMediaParams.video.deviceId = {\n        exact: camera.deviceId\n      };\n    }\n\n    return navigator.mediaDevices.getUserMedia(getUserMediaParams);\n  }\n\n  /**\n   * @hidden\n   *\n   * Get a list of available devices in a cross-browser compatible way.\n   *\n   * @returns A promise resolving to the <tt>MediaDeviceInfo</tt> array of all available devices.\n   */\n  function enumerateDevices(): Promise<MediaDeviceInfo[]> {\n    if (typeof (<any>window.navigator).enumerateDevices === \"function\") {\n      return (<any>window.navigator).enumerateDevices();\n    } else if (\n      typeof (<any>window.navigator).mediaDevices === \"object\" &&\n      typeof (<any>window.navigator).mediaDevices.enumerateDevices === \"function\"\n    ) {\n      return window.navigator.mediaDevices.enumerateDevices();\n    } else {\n      return new Promise((resolve, reject) => {\n        try {\n          (<any>window).MediaStreamTrack.getSources((devices: MediaDeviceInfo[]) => {\n            resolve(\n              devices\n                .filter(device => {\n                  return device.kind.toLowerCase() === \"video\" || device.kind.toLowerCase() === \"videoinput\";\n                })\n                .map(device => {\n                  return {\n                    deviceId: device.deviceId != null ? device.deviceId : \"\",\n                    groupId: device.groupId,\n                    kind: <MediaDeviceKind>\"videoinput\",\n                    label: device.label\n                  };\n                })\n            );\n          });\n        } catch (error) {\n          reject(\n            new CustomError({\n              name: \"UnsupportedBrowserError\",\n              message: \"Media devices are not supported on this OS / Browser\"\n            })\n          );\n        }\n      });\n    }\n  }\n}\n","/**\n * A configuration object to define the properties of an image to be scanned.\n */\nexport interface ImageSettings {\n  /**\n   * The width of the image (columns of pixels).\n   */\n  readonly width: number;\n  /**\n   * The height of the image (rows of pixels).\n   */\n  readonly height: number;\n  /**\n   * The format of the pixel data, meaning the mapping of array bytes to image pixels.\n   */\n  readonly format: ImageSettings.Format;\n}\n\nexport namespace ImageSettings {\n  // Warning: the values of Format are important as the engine web worker relies on them without type checking.\n  /**\n   * Image bytes format/layout.\n   */\n  export enum Format {\n    /**\n     * Single-channel 8-bit gray scale image.\n     */\n    GRAY_8U = 0,\n    /**\n     * RGB image with 8 bits per color channel.\n     */\n    RGB_8U = 1,\n    /**\n     * RGBA image with 8 bits per color channel.\n     */\n    RGBA_8U = 2\n  }\n}\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// tslint:disable:no-string-literal\nimport { ImageSettings } from \"../imageSettings\";\nimport { Parser } from \"../parser\";\n\n// TODO: Find a nice way to use typescript WebWorker lib/types just for worker files\n/**\n * @hidden\n */\ndeclare const importScripts: (...urls: string[]) => void;\n/**\n * @hidden\n */\ndeclare const postMessage: (message: any, transfer?: any[] | undefined) => void;\n\n/**\n * @hidden\n */\ntype FileSystemType = {};\n\n/**\n * @hidden\n */\ndeclare const Module: {\n  HEAPU8: Uint8Array;\n  asm: any;\n  lengthBytesUTF8(str: string): number;\n  UTF8ToString(ptr: number): string;\n  stringToUTF8(str: string, outPtr: number, maxBytesToWrite: number): void;\n  _malloc(size: number): number;\n  _free(ptr: number): void;\n  callMain(): void;\n};\n\n/**\n * @hidden\n */\ndeclare namespace FS {\n  function syncfs(populate: boolean, callback: (e: any) => any): void;\n  function syncfs(callback: (e: any) => any, populate?: boolean): void;\n  function mount(fsType: FileSystemType, opts: any, mountpoint: string): any;\n  function mkdir(path: string, mode?: number): any;\n}\n\n/**\n * @hidden\n */\ndeclare const IDBFS: FileSystemType;\n\n/**\n * @hidden\n */\ndeclare type ScanWorkUnit = {\n  requestId: number;\n  data: ArrayBuffer;\n};\n\n/**\n * @hidden\n */\ndeclare type ParseWorkUnit = {\n  requestId: number;\n  dataFormat: Parser.DataFormat;\n  dataString: string;\n  options: string;\n};\n\n/**\n * @hidden\n */\n// tslint:disable-next-line:max-func-body-length\nfunction engineSDKWorkerFunction(): void {\n  let imageBufferPointer: number | undefined;\n  let licenseKey: string;\n  let settings: string;\n  let imageSettings: ImageSettings;\n  let wasmLoaded: boolean = false;\n  let scannerSettingsReady: boolean = false;\n  let scannerImageSettingsReady: boolean = false;\n  const scanQueue: ScanWorkUnit[] = [];\n  const parseQueue: ParseWorkUnit[] = [];\n  let contextAvailable: boolean = false;\n  let scanWorkSubmitted: boolean = false;\n  let parseWorkSubmitted: boolean = false;\n  let blurryDecodingEnabled: boolean = false;\n\n  // Adapted from: https://github.com/mdn/webassembly-examples/blob/master/wasm-utils.js\n  function instantiateWasmWithCache(\n    wasmURI: string,\n    wasmVersion: number,\n    importObject: any,\n    successCallback: (instance: any) => void\n  ): void {\n    const dbName: string = \"scandit_wasm_cache\";\n    const storeName: string = \"scandit_wasm_cache\";\n    let db: IDBDatabase;\n    function loadDatabase(resolve: (result: any) => void, reject: (result: any) => void): void {\n      let openDBRequest: IDBOpenDBRequest;\n      try {\n        openDBRequest = indexedDB.open(dbName, wasmVersion);\n      } catch (error) {\n        return reject(`Failed to open scandit-sdk WebAssembly cache database: ${error}`);\n      }\n      openDBRequest.onerror = () => {\n        return reject(\"Failed to open scandit-sdk WebAssembly cache database\");\n      };\n      openDBRequest.onsuccess = () => {\n        db = openDBRequest.result;\n        const store: IDBObjectStore = db.transaction([storeName]).objectStore(storeName);\n        const request: IDBRequest = store.get(wasmURI);\n        request.onerror = () => {\n          return reject(\"Failed to open scandit-sdk WebAssembly cache database\");\n        };\n        request.onsuccess = () => {\n          if (request.result != null) {\n            return resolve(request.result);\n          } else {\n            return reject(\"No cached version of the scandit-sdk WebAssembly code has been found\");\n          }\n        };\n      };\n      openDBRequest.onupgradeneeded = () => {\n        db = openDBRequest.result;\n        if (db.objectStoreNames.contains(storeName)) {\n          db.deleteObjectStore(storeName);\n        }\n        db.createObjectStore(storeName);\n      };\n    }\n    function storeInDatabase(moduleObject: any): void {\n      try {\n        const store: IDBObjectStore = db.transaction([storeName], \"readwrite\").objectStore(storeName);\n        const request: IDBRequest = store.put(moduleObject, wasmURI);\n        request.onerror = error => {\n          console.debug(`Failed to cache scandit-sdk WebAssembly code: ${error}`);\n        };\n        request.onsuccess = () => {\n          console.debug(\"Successfully cached scandit-sdk WebAssembly code\");\n        };\n      } catch (error) {\n        if (error.name === \"DataCloneError\") {\n          console.debug(\"Failed to cache scandit-sdk WebAssembly code: This browser doesn't support this feature yet\");\n        } else {\n          console.debug(`Failed to cache scandit-sdk WebAssembly code: ${error}`);\n        }\n      }\n    }\n\n    loadDatabase(\n      moduleObject => {\n        console.debug(\"Found cached scandit-sdk WebAssembly code\");\n        // Note that here instantiate() returns the instance directly, not inside another object\n        (<any>self).WebAssembly.instantiate(moduleObject, importObject).then((instance: any) => {\n          successCallback(instance);\n        });\n      },\n      errMsg => {\n        console.debug(errMsg);\n        function instantiate(): void {\n          fetch(wasmURI)\n            .then(response => response.arrayBuffer())\n            .then(bytes => {\n              (<any>self).WebAssembly.instantiate(bytes, importObject).then((results: any) => {\n                if (db != null) {\n                  storeInDatabase(results.module);\n                }\n                successCallback(results.instance);\n              });\n            });\n        }\n        function instantiateStreaming(): void {\n          (<any>self).WebAssembly.instantiateStreaming(fetch(wasmURI), importObject)\n            .then((results: any) => {\n              if (db != null) {\n                storeInDatabase(results.module);\n              }\n              successCallback(results.instance);\n            })\n            .catch((error: Error) => {\n              console.warn(`wasm streaming compile failed: ${error}, falling back to ArrayBuffer instantiation`);\n              instantiate();\n            });\n        }\n\n        if (typeof (<any>self).WebAssembly.instantiateStreaming === \"function\") {\n          instantiateStreaming();\n        } else {\n          instantiate();\n        }\n      }\n    );\n  }\n\n  function loadLibrary(deviceId: string, libraryLocation: string): void {\n    const customModule: any = {\n      arguments: [deviceId],\n      instantiateWasm: (importObject: any, successCallback: (instance: any) => void) => {\n        const wasmURI: string = `${libraryLocation}scandit-engine-sdk.wasm`;\n        const wasmVersion: number = \"%WASM_VERSION%\"\n          .split(\".\")\n          .map((n, i) => parseInt(n, 10) * Math.pow(10, 6 - i * 3))\n          .reduce((a, b) => a + b);\n\n        instantiateWasmWithCache(wasmURI, wasmVersion, importObject, successCallback);\n\n        return {};\n      },\n      noInitialRun: true,\n      preRun: () => {\n        try {\n          FS.mkdir(\"/scandit_sync_folder\");\n        } catch (error) {\n          if (error.code !== \"EEXIST\") {\n            throw error;\n          }\n        }\n        FS.mount(IDBFS, {}, \"/scandit_sync_folder\");\n        FS.syncfs(true, () => {\n          Module.callMain();\n          wasmLoaded = true;\n          postMessage([\"status\", \"ready\"]);\n          workOnScanQueue();\n          workOnParseQueue();\n        });\n      }\n    };\n    (<any>self).Module = customModule;\n\n    if (typeof importScripts === \"function\") {\n      try {\n        importScripts(`${libraryLocation}scandit-engine-sdk.min.js`);\n      } catch (error) {\n        console.warn(error);\n        console.error(\n          `Couldn't retrieve Scandit SDK Engine library at ${libraryLocation}scandit-engine-sdk.min.js, ` +\n            \"did you configure the path for it correctly?\"\n        );\n      }\n    }\n  }\n\n  function createContext(): void {\n    if (contextAvailable || licenseKey == null || !wasmLoaded) {\n      return;\n    }\n\n    const licenseKeyLength: number = Module.lengthBytesUTF8(licenseKey) + 1;\n    const licenseKeyPointer: number = Module._malloc(licenseKeyLength);\n    Module.stringToUTF8(licenseKey, licenseKeyPointer, licenseKeyLength);\n    Module.asm._create_context(licenseKeyPointer);\n    Module._free(licenseKeyPointer);\n\n    contextAvailable = true;\n  }\n\n  function setupSettings(): void {\n    if (settings == null || !contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    scannerSettingsReady = false;\n\n    if (licenseKey == null) {\n      console.error(\"No license key found, the library must be set up before the scanning engine can be used\");\n\n      return;\n    }\n\n    const settingsLength: number = Module.lengthBytesUTF8(settings) + 1;\n    const settingsPointer: number = Module._malloc(settingsLength);\n    Module.stringToUTF8(settings, settingsPointer, settingsLength);\n    const resultPointer: number = Module.asm._scanner_settings_new_from_json(\n      settingsPointer,\n      blurryDecodingEnabled ? 1 : 0\n    );\n    Module._free(settingsPointer);\n\n    const result: string = Module.UTF8ToString(resultPointer);\n    if (result !== \"\") {\n      scannerSettingsReady = true;\n      console.debug(JSON.parse(result));\n    }\n  }\n\n  function setupImageSettings(): void {\n    if (imageSettings == null || !wasmLoaded) {\n      return;\n    }\n\n    scannerImageSettingsReady = false;\n\n    let channels: number;\n    // TODO: For now it's not possible to use imported variables as the worker doesn't have access at runtime\n    switch (imageSettings.format.valueOf()) {\n      case 0: // GRAY_8U\n        channels = 1;\n        break;\n      case 1: // RGB_8U\n        channels = 3;\n        break;\n      case 2: // RGBA_8U\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    Module.asm._scanner_image_settings_new(imageSettings.width, imageSettings.height, channels);\n    if (imageBufferPointer != null) {\n      Module._free(imageBufferPointer);\n      imageBufferPointer = undefined;\n    }\n    imageBufferPointer = Module._malloc(imageSettings.width * imageSettings.height * channels);\n\n    scannerImageSettingsReady = true;\n  }\n\n  function scanImage(imageData: ArrayBuffer): string {\n    Module.HEAPU8.set(new Uint8Array(imageData), imageBufferPointer);\n\n    return Module.UTF8ToString(Module.asm._scanner_scan(imageBufferPointer));\n  }\n\n  function parseString(dataFormat: Parser.DataFormat, dataString: string, options: string): string {\n    const dataStringLength: number = Module.lengthBytesUTF8(dataString) + 1;\n    const dataStringPointer: number = Module._malloc(dataStringLength);\n    Module.stringToUTF8(dataString, dataStringPointer, dataStringLength);\n    const optionsLength: number = Module.lengthBytesUTF8(options) + 1;\n    const optionsPointer: number = Module._malloc(optionsLength);\n    Module.stringToUTF8(options, optionsPointer, optionsLength);\n    const resultPointer: number = Module.asm._parser_parse_string(\n      dataFormat.valueOf(),\n      dataStringPointer,\n      dataStringLength - 1,\n      optionsPointer\n    );\n    Module._free(dataStringPointer);\n    Module._free(optionsPointer);\n\n    return Module.UTF8ToString(resultPointer);\n  }\n\n  function workOnScanQueue(): void {\n    if ((!scannerSettingsReady || !scannerImageSettingsReady) && scanQueue.length !== 0) {\n      createContext();\n      setupSettings();\n      setupImageSettings();\n    }\n\n    if (!scannerSettingsReady || !scannerImageSettingsReady) {\n      return;\n    }\n\n    let currentScanWorkUnit: ScanWorkUnit;\n    let resultData: string;\n    while (scanQueue.length !== 0) {\n      currentScanWorkUnit = <ScanWorkUnit>scanQueue.shift();\n      resultData = scanImage(currentScanWorkUnit.data);\n      const result: any = JSON.parse(resultData);\n      // Important! We send back data that is actually ignored by the receiver (currentScanWorkUnit.data).\n      // This is needed however because some browsers run out of memory due to no GC being run\n      // if this data is not send back (cleared) by the worker for some weird reason...\n      if (result.error != null) {\n        postMessage(\n          [\n            \"work-error\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              error: result.error\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else if (result.result != null) {\n        postMessage(\n          [\n            \"work-result\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              result: result.result\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else {\n        console.error(\"Unrecognized Scandit Engine result:\", result);\n        postMessage([\"\"], [currentScanWorkUnit.data]);\n      }\n    }\n  }\n\n  function workOnParseQueue(): void {\n    if (!contextAvailable && parseQueue.length !== 0) {\n      createContext();\n    }\n\n    if (!contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    let currentParseWorkUnit: ParseWorkUnit;\n    let resultData: string;\n    while (parseQueue.length !== 0) {\n      currentParseWorkUnit = <ParseWorkUnit>parseQueue.shift();\n      resultData = parseString(\n        currentParseWorkUnit.dataFormat,\n        currentParseWorkUnit.dataString,\n        currentParseWorkUnit.options\n      );\n      const result: any = JSON.parse(resultData);\n      if (result.error != null) {\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: result.error\n          }\n        ]);\n      } else if (result.result != null) {\n        postMessage([\n          \"parse-string-result\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            result: result.result\n          }\n        ]);\n      } else {\n        console.error(\"Unrecognized Scandit Parser result:\", result);\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: {\n              errorCode: -1,\n              errorMessage: \"Unknown Scandit Parser error\"\n            }\n          }\n        ]);\n      }\n    }\n  }\n\n  onmessage = e => {\n    // Setting settings triggers license verification and activation: delay until first frame processed\n    const data: any = e.data;\n    switch (data.type) {\n      case \"enable-blurry-decoding\":\n        blurryDecodingEnabled = true;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"load-library\":\n        loadLibrary(data.deviceId, data.libraryLocation);\n        break;\n      case \"license-key\":\n        licenseKey = data.licenseKey;\n        createContext();\n        if (parseWorkSubmitted) {\n          workOnParseQueue();\n        }\n        break;\n      case \"settings\":\n        settings = data.settings;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"image-settings\":\n        imageSettings = data.imageSettings;\n        if (scanWorkSubmitted) {\n          setupImageSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"work\":\n        scanWorkSubmitted = true;\n        scanQueue.push({\n          requestId: data.requestId,\n          data: data.data\n        });\n        workOnScanQueue();\n        break;\n      case \"parse-string\":\n        parseWorkSubmitted = true;\n        parseQueue.push({\n          requestId: data.requestId,\n          dataFormat: data.dataFormat,\n          dataString: data.dataString,\n          options: data.options\n        });\n        workOnParseQueue();\n        break;\n      default:\n        break;\n    }\n  };\n}\n\n/**\n * @hidden\n */\nexport const engineSDKWorker: Blob = new Blob([`(${engineSDKWorkerFunction.toString()})()`], {\n  type: \"text/javascript\"\n});\n","import { BarcodeEncodingRange } from \"./barcodeEncodingRange\";\nimport { Quadrilateral } from \"./quadrilateral\";\n\n/**\n * A barcode result.\n */\nexport interface Barcode {\n  /**\n   * The symbology type.\n   */\n  readonly symbology: Barcode.Symbology;\n  /**\n   * The data encoded in the barcode interpreted as a UTF-8 string.\n   * If the raw data is not a valid UTF-8 string, this field will be an empty string.\n   */\n  readonly data: string;\n  /**\n   * The raw data encoded in the barcode, given as an array of bytes.\n   * To interpret this correctly you may have to use the information contained in encodingArray.\n   */\n  readonly rawData: Uint8Array;\n  /**\n   * The location of the barcode.\n   */\n  readonly location: Quadrilateral;\n  /**\n   * Whether the barcode is part of a composite code.\n   */\n  readonly compositeFlag: Barcode.CompositeFlag;\n  /**\n   * Whether the barcode is a GS1 data carrier.\n   */\n  readonly isGs1DataCarrier: boolean;\n  /**\n   * The data encoding of the data in the barcode, given as an array of encoding ranges.\n   */\n  readonly encodingArray: BarcodeEncodingRange[];\n}\n\nexport namespace Barcode {\n  // Deprecated but useful function for easy UTF-8 handling\n  /**\n   * @hidden\n   */\n  declare function escape(s: string): string;\n\n  /**\n   * @hidden\n   *\n   * Create a [[Barcode]] object from a partial object returned by the external Scandit Engine library.\n   * The <i>rawData</i> and <i>data</i> fields are computed and stored.\n   *\n   * @param result The barcode result coming from the external Scandit Engine library.\n   * @returns The generated [[Barcode]] object.\n   */\n  export function createFromWASMResult(result: any): Barcode {\n    let decodedData: string;\n    try {\n      decodedData = decodeURIComponent(escape(String.fromCharCode.apply(null, result.rawData)));\n    } catch (error) {\n      decodedData = \"\";\n    }\n\n    return {\n      symbology: result.symbology,\n      data: decodedData,\n      rawData: new Uint8Array(result.rawData),\n      location: {\n        topLeft: { x: result.location[0][0], y: result.location[0][1] },\n        topRight: { x: result.location[1][0], y: result.location[1][1] },\n        bottomRight: { x: result.location[2][0], y: result.location[2][1] },\n        bottomLeft: { x: result.location[3][0], y: result.location[3][1] }\n      },\n      compositeFlag: result.compositeFlag,\n      isGs1DataCarrier: result.isGs1DataCarrier,\n      encodingArray: result.encodingArray\n    };\n  }\n\n  /**\n   * Barcode symbology type.\n   */\n  export enum Symbology {\n    EAN13 = \"ean13\",\n    EAN8 = \"ean8\",\n    UPCA = \"upca\",\n    UPCE = \"upce\",\n    CODE128 = \"code128\",\n    CODE39 = \"code39\",\n    CODE93 = \"code93\",\n    INTERLEAVED_2_OF_5 = \"itf\",\n    QR = \"qr\",\n    DATA_MATRIX = \"data-matrix\",\n    PDF417 = \"pdf417\",\n    MSI_PLESSEY = \"msi-plessey\",\n    GS1_DATABAR = \"databar\",\n    GS1_DATABAR_EXPANDED = \"databar-expanded\",\n    CODABAR = \"codabar\",\n    AZTEC = \"aztec\",\n    TWO_DIGIT_ADD_ON = \"two-digit-add-on\",\n    FIVE_DIGIT_ADD_ON = \"five-digit-add-on\",\n    MAXICODE = \"maxicode\",\n    CODE11 = \"code11\",\n    GS1_DATABAR_LIMITED = \"databar-limited\",\n    CODE25 = \"code25\",\n    MICRO_PDF417 = \"micropdf417\",\n    RM4SCC = \"rm4scc\",\n    KIX = \"kix\",\n    DOTCODE = \"dotcode\"\n  }\n\n  /**\n   * Flags to hint that two codes form a composite code.\n   */\n  export enum CompositeFlag {\n    /**\n     * Code is not part of a composite code.\n     */\n    NONE = 0x0,\n    /**\n     * Code could be part of a composite code. This flag is set by linear (1D) symbologies that have\n     * no composite flag support but can be part of a composite code like the EAN/UPC symbology family.\n     */\n    UNKNOWN = 0x1,\n    /**\n     * Code is the linear component of a composite code. This flag can be set by GS1 DataBar or GS1-128 (Code 128).\n     */\n    LINKED = 0x2,\n    /**\n     * Code is a GS1 Composite Code Type A (CC - A).This flag can be set by MicroPDF417 codes.\n     */\n    GS1_A = 0x4,\n    /**\n     * Code is a GS1 Composite Code Type B (CC-B). This flag can be set by MicroPDF417 codes.\n     */\n    GS1_B = 0x8,\n    /**\n     * Code is a GS1 Composite Code Type C (CC-C). This flag can be set by PDF417 codes.\n     */\n    GS1_C = 0x10\n  }\n\n  // istanbul ignore next\n  export namespace Symbology {\n    // tslint:disable:no-unnecessary-qualifier\n    /**\n     * Get the humanized name of a symbology.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The humanized name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toHumanizedName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"EAN-13\";\n        case Symbology.EAN8:\n          return \"EAN-8\";\n        case Symbology.UPCA:\n          return \"UPC-A\";\n        case Symbology.UPCE:\n          return \"UPC-E\";\n        case Symbology.CODE128:\n          return \"Code 128\";\n        case Symbology.CODE39:\n          return \"Code 39\";\n        case Symbology.CODE93:\n          return \"Code 93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"Interleaved Two of Five\";\n        case Symbology.QR:\n          return \"QR\";\n        case Symbology.DATA_MATRIX:\n          return \"Data Matrix\";\n        case Symbology.PDF417:\n          return \"PDF417\";\n        case Symbology.MSI_PLESSEY:\n          return \"MSI-Plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"GS1 DataBar 14\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"GS1 DataBar Expanded\";\n        case Symbology.CODABAR:\n          return \"Codabar\";\n        case Symbology.AZTEC:\n          return \"Aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"Two-Digit Add-On\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"Five-Digit Add-On\";\n        case Symbology.MAXICODE:\n          return \"MaxiCode\";\n        case Symbology.CODE11:\n          return \"Code 11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"GS1 DataBar Limited\";\n        case Symbology.CODE25:\n          return \"Code 25\";\n        case Symbology.MICRO_PDF417:\n          return \"MicroPDF417\";\n        case Symbology.RM4SCC:\n          return \"RM4SCC\";\n        case Symbology.KIX:\n          return \"KIX\";\n        case Symbology.DOTCODE:\n          return \"DotCode\";\n        default:\n          return \"Unknown\";\n      }\n    }\n\n    /**\n     * Get the JSON key name of a symbology, used for JSON-formatted ScanSettings and Scandit Engine library.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The json key name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toJSONName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"ean13\";\n        case Symbology.EAN8:\n          return \"ean8\";\n        case Symbology.UPCA:\n          return \"upca\";\n        case Symbology.UPCE:\n          return \"upce\";\n        case Symbology.CODE128:\n          return \"code128\";\n        case Symbology.CODE39:\n          return \"code39\";\n        case Symbology.CODE93:\n          return \"code93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"itf\";\n        case Symbology.QR:\n          return \"qr\";\n        case Symbology.DATA_MATRIX:\n          return \"data-matrix\";\n        case Symbology.PDF417:\n          return \"pdf417\";\n        case Symbology.MSI_PLESSEY:\n          return \"msi-plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"databar\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"databar-expanded\";\n        case Symbology.CODABAR:\n          return \"codabar\";\n        case Symbology.AZTEC:\n          return \"aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"two-digit-add-on\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"five-digit-add-on\";\n        case Symbology.MAXICODE:\n          return \"maxicode\";\n        case Symbology.CODE11:\n          return \"code11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"databar-limited\";\n        case Symbology.CODE25:\n          return \"code25\";\n        case Symbology.MICRO_PDF417:\n          return \"micropdf417\";\n        case Symbology.RM4SCC:\n          return \"rm4scc\";\n        case Symbology.KIX:\n          return \"kix\";\n        case Symbology.DOTCODE:\n          return \"dotcode\";\n        default:\n          return \"unknown\";\n      }\n    }\n    // tslint:enable:no-unnecessary-qualifier\n  }\n}\n","import { ParserResult } from \"./parserResult\";\nimport { Scanner } from \"./scanner\";\n\n// Deprecated but useful function for easy UTF-8 handling\n/**\n * @hidden\n */\ndeclare function escape(s: string): string;\n\n/**\n * A data string parser.\n *\n * Parsers are capable of parsing one particular data format, which is passed to them during construction.\n *\n * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].\n * Note that you need to have a valid license with the parsing feature enabled to use the parser functionalities.\n *\n * For documentation on the available formats, check the official parser library documentation here:\n * https://docs.scandit.com/parser/formats.html.\n */\nexport class Parser {\n  private options: any;\n\n  /**\n   * @hidden\n   *\n   * @param scanner The [[Scanner]] object used to interact with the external Scandit library.\n   * @param dataFormat The data format for this parser.\n   */\n  constructor(private scanner: Scanner, private dataFormat: Parser.DataFormat) {}\n\n  /**\n   * Apply the option map to the parser, allowing the user to fine-tune the behaviour of the parser.\n   * Available options depend on the data format and are specified in the respective documentation.\n   *\n   * @param options The new options to be applied (replacing previous ones, if any).\n   */\n  public setOptions(options: object): void {\n    this.options = options;\n  }\n\n  /**\n   * Process the given raw data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataRaw The raw data to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseRawData(dataRaw: Uint8Array): Promise<ParserResult> {\n    let dataString: string;\n    try {\n      dataString = decodeURIComponent(escape(String.fromCharCode.apply(null, dataRaw)));\n    } catch (error) {\n      dataString = \"\";\n    }\n\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n\n  /**\n   * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataString The string to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataString: string): Promise<ParserResult> {\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n}\n\n// istanbul ignore next\nexport namespace Parser {\n  /**\n   * Data format of a string to be parsed into a set of key-value mappings by the Scandit Parser Library.\n   *\n   * See https://docs.scandit.com/parser/formats.html for more details.\n   */\n  export enum DataFormat {\n    /**\n     * GS1 Application Identifier (AI).\n     *\n     * See: http://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf.\n     */\n    GS1_AI = 1,\n    /**\n     * Health Industry Bar Code (HIBC).\n     *\n     * See: http://www.hibcc.org.\n     */\n    HIBC = 2,\n    /**\n     * AAMVA Driver License/Identification (DL/ID).\n     *\n     * See: http://www.aamva.org.\n     */\n    DLID = 3,\n    /**\n     * ICAO Machine Readable Travel Document (MRTD).\n     *\n     * See: https://www.icao.int.\n     */\n    MRTD = 4,\n    /**\n     * Swiss QR ISO 20022.\n     *\n     * See: https://www.paymentstandards.ch.\n     */\n    SWISSQR = 5\n  }\n}\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };","/**\n * A symbology-specific configuration object.\n *\n * See https://docs.scandit.com/stable/c_api/symbologies.html for more details.\n */\nexport class SymbologySettings {\n  private enabled: boolean;\n  private colorInvertedEnabled: boolean;\n  private activeSymbolCounts: number[];\n  private extensions: Set<SymbologySettings.Extension>;\n  private checksums: Set<SymbologySettings.Checksum>;\n  private customExtensions: boolean;\n  private customChecksums: boolean;\n\n  /**\n   * Creates a SymbologySettings instance.\n   *\n   * @param enabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the symbology is enabled for recognition.\n   * @param colorInvertedEnabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether color inverted recognition is enabled.\n   * @param activeSymbolCounts\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology range)</div>\n   * The list of active symbol counts.\n   * @param extensions\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology extensions)</div>\n   * The list/set of enabled extensions.\n   * @param checksums\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology checksums)</div>\n   * The list/set of enabled checksums.\n   */\n  constructor({\n    enabled = false,\n    colorInvertedEnabled = false,\n    activeSymbolCounts = [],\n    extensions = null,\n    checksums = null\n  }: {\n    enabled?: boolean;\n    colorInvertedEnabled?: boolean;\n    activeSymbolCounts?: number[];\n    extensions?: SymbologySettings.Extension[] | Set<SymbologySettings.Extension>;\n    checksums?: SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>;\n  } = {}) {\n    this.enabled = enabled;\n    this.colorInvertedEnabled = colorInvertedEnabled;\n    this.activeSymbolCounts = activeSymbolCounts;\n    this.customExtensions = extensions != null;\n    this.customChecksums = checksums != null;\n    if (extensions == null) {\n      extensions = [];\n    }\n    if (checksums == null) {\n      checksums = [];\n    }\n    this.extensions = new Set(\n      Array.from(extensions).filter(e => {\n        return (\n          e in SymbologySettings.Extension || Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n        );\n      })\n    );\n    this.checksums = new Set(\n      Array.from(checksums).filter(c => {\n        return (\n          c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n        );\n      })\n    );\n  }\n\n  /**\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isEnabled(): boolean {\n    return this.enabled;\n  }\n\n  /**\n   * Enable or disable recognition of the symbology.\n   *\n   * @param enabled Whether the symbology is enabled for recognition.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setEnabled(enabled: boolean): SymbologySettings {\n    this.enabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether color inverted recognition is enabled.\n   */\n  public isColorInvertedEnabled(): boolean {\n    return this.colorInvertedEnabled;\n  }\n\n  /**\n   * Enable or disable recognition of inverted-color symbology (in addition to normal colors).\n   *\n   * @param enabled Whether color inverted recognition is enabled.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setColorInvertedEnabled(enabled: boolean): SymbologySettings {\n    this.colorInvertedEnabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom list of active symbol counts.\n   * If never set, an empty array is returned\n   * but the Scandit Engine library will use the default list for the symbology.\n   *\n   * @returns The list of active symbol counts.\n   */\n  public getActiveSymbolCounts(): number[] {\n    return this.activeSymbolCounts;\n  }\n\n  /**\n   * Set the list of active symbol counts.\n   *\n   * @param activeSymbolCounts The list of active symbol counts.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCounts(activeSymbolCounts: number[]): SymbologySettings {\n    this.activeSymbolCounts = activeSymbolCounts;\n\n    return this;\n  }\n\n  /**\n   * Set the range of active symbol counts.\n   *\n   * @param minCount The minimum accepted number of symbols.\n   * @param maxCount The minimum accepted number of symbols.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCountsRange(minCount: number, maxCount: number): SymbologySettings {\n    this.activeSymbolCounts = Array.from({ length: maxCount - minCount + 1 }, (_, k) => {\n      return k + minCount;\n    });\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of extensions.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default extension set for the symbology.\n   *\n   * @returns The set of enabled extensions.\n   */\n  public getEnabledExtensions(): Set<SymbologySettings.Extension> {\n    return this.extensions;\n  }\n\n  /**\n   * Enable an extension or list/set of extensions\n   *\n   * @param extension The single extension or list/set of extensions to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    this.customExtensions = true;\n    if (typeof extension === \"object\") {\n      this.extensions = new Set([\n        ...this.extensions,\n        ...Array.from(extension).filter(e => {\n          return (\n            e in SymbologySettings.Extension ||\n            Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        extension in SymbologySettings.Extension ||\n        Object.values(SymbologySettings.Extension).indexOf(extension.toLowerCase()) !== -1\n      ) {\n        this.extensions.add(extension);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable an extension or list/set of extensions.\n   *\n   * @param extension The single extension or list/set of extensions to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    if (typeof extension === \"object\") {\n      this.extensions = new Set(\n        [...this.extensions].filter(x => {\n          return extension instanceof Array ? extension.indexOf(x) === -1 : !extension.has(x);\n        })\n      );\n    } else {\n      this.extensions.delete(extension);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of checksums.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default checksum set for the symbology.\n   *\n   * @returns The set of enabled checksums.\n   */\n  public getEnabledChecksums(): Set<SymbologySettings.Checksum> {\n    return this.checksums;\n  }\n\n  /**\n   * Enable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    this.customChecksums = true;\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set([\n        ...this.checksums,\n        ...Array.from(checksum).filter(c => {\n          return (\n            c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        checksum in SymbologySettings.Checksum ||\n        Object.values(SymbologySettings.Checksum).indexOf(checksum.toLowerCase()) !== -1\n      ) {\n        this.checksums.add(checksum);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set(\n        [...this.checksums].filter(x => {\n          return checksum instanceof Array ? checksum.indexOf(x) === -1 : !checksum.has(x);\n        })\n      );\n    } else {\n      this.checksums.delete(checksum);\n    }\n\n    return this;\n  }\n\n  protected toJSON(): object {\n    return {\n      enabled: this.enabled,\n      colorInvertedEnabled: this.colorInvertedEnabled,\n      activeSymbolCounts: this.activeSymbolCounts.length === 0 ? undefined : this.activeSymbolCounts,\n      extensions: this.customExtensions ? Array.from(this.extensions) : undefined,\n      checksums: this.customChecksums ? Array.from(this.checksums) : undefined\n    };\n  }\n}\n\n// istanbul ignore next\nexport namespace SymbologySettings {\n  /**\n   * Symbology extensions for particular functionalities, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Extension {\n    /**\n     * Improve scan performance when reading direct part marked (DPM) Data Matrix codes.\n     * Enabling this extension comes at the cost of increased frame processing times.\n     */\n    DIRECT_PART_MARKING_MODE = \"direct_part_marking_mode\",\n    /**\n     * Interpret the Code 39 / Code 93 code data using two symbols per output character to encode all ASCII characters.\n     */\n    FULL_ASCII = \"full_ascii\",\n    /**\n     * Enable scanning codes that have quiet zones (white area before and after the code) significantly smaller\n     * than what's allowed by the symbology specification.\n     */\n    RELAXED_SHARP_QUIET_ZONE_CHECK = \"relaxed_sharp_quiet_zone_check\",\n    /**\n     * Remove the leading zero digit from the result.\n     */\n    REMOVE_LEADING_ZERO = \"remove_leading_zero\",\n    /**\n     * Remove the leading zero digit from the result if the UPC-A representation extension \"RETURN_AS_UPCA\" is enabled.\n     */\n    REMOVE_LEADING_UPCA_ZERO = \"remove_leading_upca_zero\",\n    /**\n     * Transform the UPC-E result into its UPC-A representation.\n     */\n    RETURN_AS_UPCA = \"return_as_upca\",\n    /**\n     * Removes the leading FNC1 character that indicates a GS1 code.\n     */\n    STRIP_LEADING_FNC1 = \"strip_leading_fnc1\"\n  }\n\n  /**\n   * Checksum algorithms, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Checksum {\n    /**\n     * Modulo 10 checksum.\n     */\n    MOD_10 = \"mod10\",\n    /**\n     * Modulo 11 checksum.\n     */\n    MOD_11 = \"mod11\",\n    /**\n     * Modulo 16 checksum.\n     */\n    MOD_16 = \"mod16\",\n    /**\n     * Modulo 43 checksum.\n     */\n    MOD_43 = \"mod43\",\n    /**\n     * Modulo 47 checksum.\n     */\n    MOD_47 = \"mod47\",\n    /**\n     * Modulo 103 checksum.\n     */\n    MOD_103 = \"mod103\",\n    /**\n     * Two modulo 10 checksums.\n     */\n    MOD_1010 = \"mod1010\",\n    /**\n     * Modulo 11 and modulo 10 checksum.\n     */\n    MOD_1110 = \"mod1110\"\n  }\n}\n","import { Barcode } from \"./barcode\";\nimport { SearchArea } from \"./searchArea\";\nimport { SymbologySettings } from \"./symbologySettings\";\n/**\n * A configuration object for scanning options.\n *\n * Modified ScanSettings need to be applied to a scanner via\n * [[BarcodePicker.applyScanSettings]] or [[Scanner.applyScanSettings]] to take effect.\n */\nexport class ScanSettings {\n  // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n  private symbologySettings: { [symbology: string]: SymbologySettings };\n  private codeDuplicateFilter: number;\n  private maxNumberOfCodesPerFrame: number;\n  private baseSearchArea: SearchArea;\n  private searchArea: SearchArea;\n\n  /**\n   * Creates a ScanSettings instance.\n   *\n   * @param enabledSymbologies <div class=\"tsd-signature-symbol\">Default =&nbsp;[]</div>\n   * The single symbology or list/set of symbologies\n   * that should be initialized as enabled for recognition.\n   * @param codeDuplicateFilter <div class=\"tsd-signature-symbol\">Default =&nbsp;0</div>\n   * The duplicate filter specifying how often a code can be scanned.\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   * When the same code (data/symbology) is scanned within the specified interval it is filtered out as a duplicate.\n   * @param maxNumberOfCodesPerFrame <div class=\"tsd-signature-symbol\">Default =&nbsp;1</div>\n   * The maximum number of barcodes to be recognized every frame.\n   * @param searchArea <div class=\"tsd-signature-symbol\">Default =&nbsp;{ x: 0, y: 0, width: 1.0, height: 1.0 }</div>\n   * The area of the image in which barcodes are searched.\n   */\n  constructor({\n    enabledSymbologies = [],\n    codeDuplicateFilter = 0,\n    maxNumberOfCodesPerFrame = 1,\n    searchArea = { x: 0, y: 0, width: 1.0, height: 1.0 }\n  }: {\n    enabledSymbologies?: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>;\n    codeDuplicateFilter?: number;\n    maxNumberOfCodesPerFrame?: number;\n    searchArea?: SearchArea;\n  } = {}) {\n    this.symbologySettings = {};\n    this.enableSymbologies(enabledSymbologies);\n    this.codeDuplicateFilter = codeDuplicateFilter;\n    this.maxNumberOfCodesPerFrame = maxNumberOfCodesPerFrame;\n    this.baseSearchArea = { x: 0, y: 0, width: 1.0, height: 1.0 };\n    this.searchArea = searchArea;\n  }\n\n  /**\n   * @returns The configuration object as a JSON string.\n   */\n  public toJSONString(): string {\n    // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n    const symbologies: { [jsonSymbologyName: string]: SymbologySettings } = {};\n    Object.keys(this.symbologySettings).forEach(s => {\n      symbologies[Barcode.Symbology.toJSONName(<Barcode.Symbology>s)] = (<any>this.symbologySettings)[s];\n    });\n\n    const combinedSearchArea: SearchArea = {\n      x: Math.min(1, this.baseSearchArea.x + this.searchArea.x * this.baseSearchArea.width),\n      y: Math.min(1, this.baseSearchArea.y + this.searchArea.y * this.baseSearchArea.height),\n      width: Math.min(1, this.baseSearchArea.width * this.searchArea.width),\n      height: Math.min(1, this.baseSearchArea.height * this.searchArea.height)\n    };\n\n    const isFullSearchArea: boolean =\n      Math.round(combinedSearchArea.x * 100) === 0 &&\n      Math.round(combinedSearchArea.y * 100) === 0 &&\n      Math.round(combinedSearchArea.width * 100) === 100 &&\n      Math.round(combinedSearchArea.height * 100) === 100;\n\n    return JSON.stringify({\n      symbologies: symbologies,\n      codeDuplicateFilter: this.codeDuplicateFilter,\n      maxNumberOfCodesPerFrame: this.maxNumberOfCodesPerFrame,\n      searchArea: combinedSearchArea,\n      codeLocation1d: isFullSearchArea\n        ? undefined\n        : {\n            area: {\n              x: combinedSearchArea.x,\n              y: combinedSearchArea.y + combinedSearchArea.height * 0.75 / 2,\n              width: combinedSearchArea.width,\n              height: combinedSearchArea.height * 0.25\n            }\n          },\n      codeLocation2d: isFullSearchArea\n        ? undefined\n        : {\n            area: combinedSearchArea\n          }\n    });\n  }\n\n  /**\n   * Get the configuration object for a symbology (which can then be modified).\n   *\n   * @param symbology The symbology for which to retrieve the configuration.\n   * @returns The symbology configuration object for the specified symbology.\n   */\n  public getSymbologySettings(symbology: Barcode.Symbology): SymbologySettings {\n    const ls: string = symbology.toLowerCase();\n    if (this.symbologySettings.hasOwnProperty(ls)) {\n      return this.symbologySettings[ls];\n    } else {\n      this.symbologySettings[ls] = new SymbologySettings();\n\n      return this.symbologySettings[ls];\n    }\n  }\n\n  /**\n   * Get the recognition enabled status for a symbology.\n   *\n   * @param symbology The symbology for which to retrieve the recognition enabled status.\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isSymbologyEnabled(symbology: Barcode.Symbology): boolean {\n    const ls: string = symbology.toLowerCase();\n\n    return this.symbologySettings.hasOwnProperty(ls) && this.symbologySettings[ls].isEnabled();\n  }\n\n  /**\n   * Enable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to enable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public enableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, true);\n  }\n\n  /**\n   * Disable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to disable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public disableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, false);\n  }\n\n  /**\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @returns The code duplicate filter value.\n   */\n  public getCodeDuplicateFilter(): number {\n    return this.codeDuplicateFilter;\n  }\n\n  /**\n   * Set the code duplicate filter value.\n   *\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @param durationMilliseconds The new value (-1, 0, or positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setCodeDuplicateFilter(durationMilliseconds: number): ScanSettings {\n    this.codeDuplicateFilter = durationMilliseconds;\n\n    return this;\n  }\n\n  /**\n   * @returns The maximum number of barcodes to be recognized every frame.\n   */\n  public getMaxNumberOfCodesPerFrame(): number {\n    return this.maxNumberOfCodesPerFrame;\n  }\n\n  /**\n   * Set the maximum number of barcodes to be recognized every frame.\n   *\n   * @param limit The new value (non-zero positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setMaxNumberOfCodesPerFrame(limit: number): ScanSettings {\n    this.maxNumberOfCodesPerFrame = limit;\n\n    return this;\n  }\n\n  /**\n   * @returns The area of the image in which barcodes are searched.\n   */\n  public getSearchArea(): SearchArea {\n    return this.searchArea;\n  }\n\n  /**\n   * Set the area of the image in which barcodes are searched.\n   *\n   * @param searchArea The new search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setSearchArea(searchArea: SearchArea): ScanSettings {\n    this.searchArea = searchArea;\n\n    return this;\n  }\n\n  /**\n   * @hidden\n   *\n   * Set the base area of the image in which barcodes are searched, this is set automatically by a [[BarcodePicker]]\n   * and is combined with the searchArea to obtain the final combined search area.\n   *\n   * @param baseSearchArea The new base search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setBaseSearchArea(baseSearchArea: SearchArea): ScanSettings {\n    this.baseSearchArea = baseSearchArea;\n\n    return this;\n  }\n\n  private setSymbologiesEnabled(\n    symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>,\n    enabled: boolean\n  ): ScanSettings {\n    if (typeof symbology === \"object\") {\n      for (const s of symbology) {\n        const ls: string = s.toLowerCase();\n        if (s in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n          if (this.symbologySettings.hasOwnProperty(ls)) {\n            this.symbologySettings[ls].setEnabled(enabled);\n          } else {\n            this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n          }\n        }\n      }\n    } else {\n      const ls: string = symbology.toLowerCase();\n      if (symbology in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n        if (this.symbologySettings.hasOwnProperty(ls)) {\n          this.symbologySettings[ls].setEnabled(enabled);\n        } else {\n          this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n        }\n      }\n    }\n\n    return this;\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\n\nimport { engineSDKWorker } from \"./workers/engineSDKWorker\";\n\nimport { deviceId, scanditEngineLocation, userLicenseKey } from \"../index\";\nimport { Barcode } from \"./barcode\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { ParserField } from \"./parserField\";\nimport { ParserResult } from \"./parserResult\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A low-level scanner interacting with the external Scandit Engine library.\n * Used to set up scan / image settings and to process single image frames.\n *\n * The loading of the external Scandit Engine library can take some time, the [[onReady]] method\n * can be used to set up a listener function to be called when the library is loaded and the [[isReady]] method\n * can return the current status. The scanner will be ready to start scanning when the library is loaded.\n */\nexport class Scanner {\n  private scanSettings: ScanSettings;\n  private imageSettings: ImageSettings;\n  private engineSDKWorker: Worker;\n  private eventEmitter: EventEmitter;\n  private workerParseRequestId: number;\n  private workerScanRequestId: number;\n  private workerScanQueueLength: number;\n  private isReadyToWork: boolean;\n\n  /**\n   * Creates a Scanner instance.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Before processing an image the relative settings must also have been set.\n   *\n   * If the library has not been correctly configured yet a <tt>LibraryNotConfiguredError</tt> error is thrown.\n   *\n   * If a browser is incompatible a <tt>UnsupportedBrowserError</tt> error is thrown.\n   *\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options.\n   * @param imageSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The configuration object to define the properties of an image to be scanned.\n   */\n  constructor({\n    scanSettings = new ScanSettings(),\n    imageSettings\n  }: {\n    scanSettings?: ScanSettings;\n    imageSettings?: ImageSettings;\n  } = {}) {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      throw unsupportedBrowserError;\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      throw new CustomError({\n        name: \"LibraryNotConfiguredError\",\n        message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n      });\n    }\n\n    this.isReadyToWork = false;\n    this.workerScanQueueLength = 0;\n\n    this.engineSDKWorker = new Worker(URL.createObjectURL(engineSDKWorker));\n    this.engineSDKWorker.onmessage = this.engineWokerOnMessage.bind(this);\n    this.engineSDKWorker.postMessage({\n      type: \"load-library\",\n      deviceId: deviceId,\n      libraryLocation: scanditEngineLocation\n    });\n\n    this.eventEmitter = new EventEmitter();\n    this.workerParseRequestId = 0;\n    this.workerScanRequestId = 0;\n\n    this.applyLicenseKey(userLicenseKey);\n    this.applyScanSettings(scanSettings);\n    if (imageSettings != null) {\n      this.applyImageSettings(imageSettings);\n    }\n  }\n\n  /**\n   * Stop the internal <tt>WebWorker</tt> and destroy the scanner itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the scanner anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    if (this.engineSDKWorker != null) {\n      this.engineSDKWorker.terminate();\n    }\n    this.eventEmitter.removeAllListeners();\n  }\n\n  /**\n   * Applies a new set of scan settings to the scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): Scanner {\n    this.scanSettings = scanSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"settings\",\n      settings: this.scanSettings.toJSONString()\n    });\n\n    return this;\n  }\n\n  /**\n   * Applies a new set of image settings to the scanner (replacing old settings).\n   *\n   * @param imageSettings The image configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyImageSettings(imageSettings: ImageSettings): Scanner {\n    this.imageSettings = imageSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"image-settings\",\n      imageSettings: this.imageSettings\n    });\n\n    return this;\n  }\n\n  /**\n   * Process a given image using the previously set scanner and image settings,\n   * recognizing codes and retrieving the result as a list of barcodes (if any).\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * Depending on the current image settings, given <i>imageData</i> and scanning execution, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>NoImageSettings</tt>\n   * - <tt>ImageSettingsDataMismatch</tt>\n   * - <tt>ScanditEngineError</tt>\n   *\n   * @param imageData The image data given as a byte array, complying with the previously set image settings.\n   * @returns A promise resolving to the [[ScanResult]] object.\n   */\n  public processImage(imageData: Uint8ClampedArray): Promise<ScanResult> {\n    if (this.imageSettings == null) {\n      return Promise.reject(\n        new CustomError({ name: \"NoImageSettings\", message: \"No image settings set up in the scanner\" })\n      );\n    }\n\n    let channels: number;\n    switch (this.imageSettings.format.valueOf()) {\n      case ImageSettings.Format.GRAY_8U:\n        channels = 1;\n        break;\n      case ImageSettings.Format.RGB_8U:\n        channels = 3;\n        break;\n      case ImageSettings.Format.RGBA_8U:\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    if (this.imageSettings.width * this.imageSettings.height * channels !== imageData.length) {\n      return Promise.reject(\n        new CustomError({\n          name: \"ImageSettingsDataMismatch\",\n          message: \"The provided image data doesn't match the previously set image settings\"\n        })\n      );\n    }\n\n    this.workerScanRequestId++;\n    this.workerScanQueueLength++;\n\n    return new Promise<ScanResult>((resolve, reject) => {\n      const workResultEvent: string = `work-result-${this.workerScanRequestId}`;\n      const workErrorEvent: string = `work-error-${this.workerScanRequestId}`;\n      const originalImageData: Uint8ClampedArray = imageData.slice();\n      this.eventEmitter.once(workResultEvent, result => {\n        this.eventEmitter.removeAllListeners(workErrorEvent);\n        resolve({\n          barcodes: result.map(Barcode.createFromWASMResult),\n          imageData: originalImageData,\n          imageSettings: { ...this.imageSettings }\n        });\n      });\n      this.eventEmitter.once(workErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(workResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage(\n        {\n          type: \"work\",\n          requestId: this.workerScanRequestId,\n          data: imageData.buffer\n        },\n        [imageData.buffer]\n      );\n    });\n  }\n\n  /**\n   * @returns Whether the scanner is currently busy processing an image.\n   */\n  public isBusyProcessing(): boolean {\n    return this.workerScanQueueLength !== 0;\n  }\n\n  /**\n   * @returns Whether the scanner has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the scanner can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[Scanner]] object.\n   */\n  public onReady(listener: () => void): Scanner {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return new Parser(this, dataFormat);\n  }\n\n  /**\n   * @hidden\n   *\n   * Return the current scan settings, this is used automatically by a [[BarcodePicker]].\n   *\n   * @returns The current scan settings.\n   */\n  public getScanSettings(): ScanSettings {\n    return this.scanSettings;\n  }\n\n  /**\n   * @hidden\n   *\n   * Process a given string using the Scandit Parser library,\n   * parsing the data in the given format and retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataFormat The format of the given data.\n   * @param dataString The string containing the data to be parsed.\n   * @param options Options for the specific data format parser.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataFormat: Parser.DataFormat, dataString: string, options?: any): Promise<ParserResult> {\n    this.workerParseRequestId++;\n\n    return new Promise<ParserResult>((resolve, reject) => {\n      const parseStringResultEvent: string = `parse-string-result-${this.workerParseRequestId}`;\n      const parseStringErrorEvent: string = `parse-string-error-${this.workerParseRequestId}`;\n      this.eventEmitter.once(parseStringResultEvent, result => {\n        this.eventEmitter.removeAllListeners(parseStringErrorEvent);\n        const parserResult: ParserResult = {\n          jsonString: result,\n          fields: [],\n          fieldsByName: {}\n        };\n        (<ParserField[]>JSON.parse(result)).forEach(parserField => {\n          parserResult.fields.push(parserField);\n          parserResult.fieldsByName[parserField.name] = parserField;\n        });\n        resolve(parserResult);\n      });\n      this.eventEmitter.once(parseStringErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(parseStringResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage({\n        type: \"parse-string\",\n        requestId: this.workerParseRequestId,\n        dataFormat: dataFormat,\n        dataString: dataString,\n        options: options == null ? \"{}\" : JSON.stringify(options)\n      });\n    });\n  }\n\n  private applyLicenseKey(licenseKey: string): Scanner {\n    this.engineSDKWorker.postMessage({\n      type: \"license-key\",\n      licenseKey: licenseKey\n    });\n\n    return this;\n  }\n\n  private engineWokerOnMessage(ev: MessageEvent): void {\n    const messageType: string | undefined = ev.data[0];\n    const messageData: any | undefined = ev.data[1];\n\n    if (messageType === \"status\") {\n      if (messageData === \"ready\") {\n        this.isReadyToWork = true;\n        this.eventEmitter.emit(\"ready\");\n      }\n    } else if (messageType === \"work-result\" && messageData != null) {\n      this.eventEmitter.emit(`work-result-${messageData.requestId}`, messageData.result);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"work-error\" && messageData != null) {\n      this.eventEmitter.emit(`work-error-${messageData.requestId}`, messageData.error);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"parse-string-result\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-result-${messageData.requestId}`, messageData.result);\n    } else if (messageType === \"parse-string-error\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-error-${messageData.requestId}`, messageData.error);\n    }\n  }\n}\n","/*! howler.js v2.0.9 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com */\n!function(){\"use strict\";var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=\"canplaythrough\",e._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,\"\")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||\"running\":\"running\",e._autoSuspend(),!e.usingWebAudio)if(\"undefined\"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent=\"canplay\")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=\"undefined\"!=typeof Audio?new Audio:null}catch(n){return e}if(!t||\"function\"!=typeof t.canPlayType)return e;var o=t.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=e._navigator&&e._navigator.userAgent.match(/OPR\\/([0-6].)/g),a=r&&parseInt(r[0].split(\"/\")[1],10)<33;return e._codecs={mp3:!(a||!o&&!t.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!t.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!t.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!t.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(t.canPlayType(\"audio/x-m4a;\")||t.canPlayType(\"audio/m4a;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(t.canPlayType(\"audio/x-mp4;\")||t.canPlayType(\"audio/mp4;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),dolby:!!t.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(t.canPlayType(\"audio/x-flac;\")||t.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},e},_enableMobileAudio:function(){var e=this||n,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),o=!!(\"ontouchend\"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||o)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){n._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),\"function\"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener(\"touchstart\",r,!0),document.removeEventListener(\"touchend\",r,!0)}};return document.addEventListener(\"touchstart\",r,!0),document.addEventListener(\"touchend\",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state=\"suspending\",e.ctx.suspend().then(function(){e.state=\"suspended\",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return\"running\"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):\"suspended\"===e.state?(e.ctx.resume().then(function(){e.state=\"running\";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit(\"resume\")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):\"suspending\"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,t=function(e){var n=this;if(!e.src||0===e.src.length)return void console.error(\"An array of source files must be passed with any new Howl.\");n.init(e)};t.prototype={init:function(e){var t=this;return n.ctx||_(),t._autoplay=e.autoplay||!1,t._format=\"string\"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state=\"unloaded\",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.mobileAutoEnable&&n._enableMobileAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:\"play\",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)return void e._emit(\"loaderror\",null,\"No audio support.\");\"string\"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if(\"string\"!=typeof(i=e._src[r])){e._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}u=/^data:audio\\/([^;,]+);/i.exec(i),u||(u=/\\.([^.]+)$/.exec(i.split(\"?\",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),u&&n.codecs(u)){t=e._src[r];break}}return t?(e._src=t,e._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&a(e),e):void e._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")},play:function(e,t){var o=this,r=null;if(\"number\"==typeof e)r=e,e=null;else{if(\"string\"==typeof e&&\"loaded\"===o._state&&!o._sprite[e])return null;if(void 0===e){e=\"__default\";for(var a=0,u=0;u<o._sounds.length;u++)o._sounds[u]._paused&&!o._sounds[u]._ended&&(a++,r=o._sounds[u]._id);1===a?e=null:r=null}}var i=r?o._soundById(r):o._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||\"__default\"),\"loaded\"!==o._state){i._sprite=e,i._ended=!1;var d=i._id;return o._queue.push({event:\"play\",action:function(){o.play(d)}}),d}if(r&&!i._paused)return t||o._loadQueue(\"play\"),i._id;o._webAudio&&n._autoResume();var _=Math.max(0,i._seek>0?i._seek:o._sprite[e][0]/1e3),s=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-_),l=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=e,i._seek=_,i._start=o._sprite[e][0]/1e3,i._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,i._loop=!(!i._loop&&!o._sprite[e][2]);var c=i._node;if(o._webAudio){var f=function(){o._refreshBuffer(i);var e=i._muted||o._muted?0:i._volume;c.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===c.bufferSource.start?i._loop?c.bufferSource.noteGrainOn(0,_,86400):c.bufferSource.noteGrainOn(0,_,s):i._loop?c.bufferSource.start(0,_,86400):c.bufferSource.start(0,_,s),l!==1/0&&(o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l)),t||setTimeout(function(){o._emit(\"play\",i._id)},0)};\"running\"===n.state?f():(o.once(\"resume\",f),o._clearTimer(i._id))}else{var p=function(){c.currentTime=_,c.muted=i._muted||o._muted||n._muted||c.muted,c.volume=i._volume*n.volume(),c.playbackRate=i._rate;try{var r=c.play();if(\"undefined\"!=typeof Promise&&r instanceof Promise){o._playLock=!0;var a=function(){o._playLock=!1,t||o._emit(\"play\",i._id)};r.then(a,a)}else t||o._emit(\"play\",i._id);if(c.paused)return void o._emit(\"playerror\",i._id,\"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.\");\"__default\"!==e?o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l):(o._endTimers[i._id]=function(){o._ended(i),c.removeEventListener(\"ended\",o._endTimers[i._id],!1)},c.addEventListener(\"ended\",o._endTimers[i._id],!1))}catch(e){o._emit(\"playerror\",i._id,e)}},m=window&&window.ejecta||!c.readyState&&n._navigator.isCocoonJS;if(c.readyState>=3||m)p();else{var v=function(){p(),c.removeEventListener(n._canPlayEvent,v,!1)};c.addEventListener(n._canPlayEvent,v,!1),o._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"pause\",action:function(){n.pause(e)}}),n;for(var t=n._getSoundIds(e),o=0;o<t.length;o++){n._clearTimer(t[o]);var r=n._soundById(t[o]);if(r&&!r._paused&&(r._seek=n.seek(t[o]),r._rateSeek=0,r._paused=!0,n._stopFade(t[o]),r._node))if(n._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||n._emit(\"pause\",r?r._id:null)}return n},stop:function(e,n){var t=this;if(\"loaded\"!==t._state)return t._queue.push({event:\"stop\",action:function(){t.stop(e)}}),t;for(var o=t._getSoundIds(e),r=0;r<o.length;r++){t._clearTimer(o[r]);var a=t._soundById(o[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,t._stopFade(o[r]),a._node&&(t._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),n||t._emit(\"stop\",a._id))}return t},mute:function(e,t){var o=this;if(\"loaded\"!==o._state)return o._queue.push({event:\"mute\",action:function(){o.mute(e,t)}}),o;if(void 0===t){if(\"boolean\"!=typeof e)return o._muted;o._muted=e}for(var r=o._getSoundIds(t),a=0;a<r.length;a++){var u=o._soundById(r[a]);u&&(u._muted=e,u._interval&&o._stopFade(u._id),o._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,n.ctx.currentTime):u._node&&(u._node.muted=!!n._muted||e),o._emit(\"mute\",u._id))}return o},volume:function(){var e,t,o=this,r=arguments;if(0===r.length)return o._volume;if(1===r.length||2===r.length&&void 0===r[1]){o._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?o._soundById(t):o._sounds[0],a?a._volume:0;if(\"loaded\"!==o._state)return o._queue.push({event:\"volume\",action:function(){o.volume.apply(o,r)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(a=o._soundById(t[u]))&&(a._volume=e,r[2]||o._stopFade(t[u]),o._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),o._emit(\"volume\",a._id));return o},fade:function(e,t,o,r){var a=this;if(\"loaded\"!==a._state)return a._queue.push({event:\"fade\",action:function(){a.fade(e,t,o,r)}}),a;a.volume(e,r);for(var u=a._getSoundIds(r),i=0;i<u.length;i++){var d=a._soundById(u[i]);if(d){if(r||a._stopFade(u[i]),a._webAudio&&!d._muted){var _=n.ctx.currentTime,s=_+o/1e3;d._volume=e,d._node.gain.setValueAtTime(e,_),d._node.gain.linearRampToValueAtTime(t,s)}a._startFadeInterval(d,e,t,o,u[i],void 0===r)}}return a},_startFadeInterval:function(e,n,t,o,r,a){var u=this,i=n,d=t-n,_=Math.abs(d/.01),s=Math.max(4,_>0?o/_:o),l=Date.now();e._fadeTo=t,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),i+=d*r,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,u._webAudio?e._volume=i:u.volume(i,e._id,!0),a&&(u._volume=i),(t<n&&i<=t||t>n&&i>=t)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,u.volume(t,e._id),u._emit(\"fade\",e._id))},s)},_stopFade:function(e){var t=this,o=t._soundById(e);return o&&o._interval&&(t._webAudio&&o._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(o._interval),o._interval=null,t.volume(o._fadeTo,e),o._fadeTo=null,t._emit(\"fade\",e)),t},loop:function(){var e,n,t,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if(\"boolean\"!=typeof r[0])return!!(t=o._soundById(parseInt(r[0],10)))&&t._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=o._getSoundIds(n),u=0;u<a.length;u++)(t=o._soundById(a[u]))&&(t._loop=e,o._webAudio&&t._node&&t._node.bufferSource&&(t._node.bufferSource.loop=e,e&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop)));return o},rate:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var i;if(\"number\"!=typeof e)return i=o._soundById(t),i?i._rate:o._rate;if(\"loaded\"!==o._state)return o._queue.push({event:\"rate\",action:function(){o.rate.apply(o,r)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var d=0;d<t.length;d++)if(i=o._soundById(t[d])){i._rateSeek=o.seek(t[d]),i._playStart=o._webAudio?n.ctx.currentTime:i._playStart,i._rate=e,o._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):i._node&&(i._node.playbackRate=e);var _=o.seek(t[d]),s=(o._sprite[i._sprite][0]+o._sprite[i._sprite][1])/1e3-_,l=1e3*s/Math.abs(i._rate);!o._endTimers[t[d]]&&i._paused||(o._clearTimer(t[d]),o._endTimers[t[d]]=setTimeout(o._ended.bind(o,i),l)),o._emit(\"rate\",i._id)}return o},seek:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return o;if(\"loaded\"!==o._state)return o._queue.push({event:\"seek\",action:function(){o.seek.apply(o,r)}}),o;var i=o._soundById(t);if(i){if(!(\"number\"==typeof e&&e>=0)){if(o._webAudio){var d=o.playing(t)?n.ctx.currentTime-i._playStart:0,_=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(_+d*Math.abs(i._rate))}return i._node.currentTime}var s=o.playing(t);if(s&&o.pause(t,!0),i._seek=e,i._ended=!1,o._clearTimer(t),s&&o.play(t,!0),!o._webAudio&&i._node&&(i._node.currentTime=e),s&&!o._webAudio){var l=function(){o._playLock?setTimeout(l,0):o._emit(\"seek\",t)};setTimeout(l,0)}else o._emit(\"seek\",t)}return o},playing:function(e){var n=this;if(\"number\"==typeof e){var t=n._soundById(e);return!!t&&!t._paused}for(var o=0;o<n._sounds.length;o++)if(!n._sounds[o]._paused)return!0;return!1},duration:function(e){var n=this,t=n._duration,o=n._soundById(e);return o&&(t=n._sprite[o._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++){if(t[o]._paused||e.stop(t[o]._id),!e._webAudio){/MSIE |Trident\\//.test(n._navigator&&n._navigator.userAgent)||(t[o]._node.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"),t[o]._node.removeEventListener(\"error\",t[o]._errorFn,!1),t[o]._node.removeEventListener(n._canPlayEvent,t[o]._loadFn,!1)}delete t[o]._node,e._clearTimer(t[o]._id);var a=n._howls.indexOf(e);a>=0&&n._howls.splice(a,1)}var u=!0;for(o=0;o<n._howls.length;o++)if(n._howls[o]._src===e._src){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state=\"unloaded\",e._sounds=[],e=null,null},on:function(e,n,t,o){var r=this,a=r[\"_on\"+e];return\"function\"==typeof n&&a.push(o?{id:t,fn:n,once:o}:{id:t,fn:n}),r},off:function(e,n,t){var o=this,r=o[\"_on\"+e],a=0;if(\"number\"==typeof n&&(t=n,n=null),n||t)for(a=0;a<r.length;a++){var u=t===r[a].id;if(n===r[a].fn&&u||!n&&u){r.splice(a,1);break}}else if(e)o[\"_on\"+e]=[];else{var i=Object.keys(o);for(a=0;a<i.length;a++)0===i[a].indexOf(\"_on\")&&Array.isArray(o[i[a]])&&(o[i[a]]=[])}return o},once:function(e,n,t){var o=this;return o.on(e,n,t,1),o},_emit:function(e,n,t){for(var o=this,r=o[\"_on\"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==n&&\"load\"!==e||(setTimeout(function(e){e.call(this,n,t)}.bind(o,r[a].fn),0),r[a].once&&o.off(e,r[a].fn,r[a].id));return o._loadQueue(e),o},_loadQueue:function(e){var n=this;if(n._queue.length>0){var t=n._queue[0];t.event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()}return n},_ended:function(e){var t=this,o=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[o][2]);if(t._emit(\"end\",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit(\"play\",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||r||t.stop(e._id),t},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(\"function\"!=typeof n._endTimers[e])clearTimeout(n._endTimers[e]);else{var t=n._soundById(e);t&&t._node&&t._node.removeEventListener(\"ended\",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new o(e)},_drain:function(){var e=this,n=e._pool,t=0,o=0;if(!(e._sounds.length<n)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&t++;for(o=e._sounds.length-1;o>=0;o--){if(t<=n)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),t--)}}},_getSoundIds:function(e){var n=this;if(void 0===e){for(var t=[],o=0;o<n._sounds.length;o++)t.push(n._sounds[o]._id);return t}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(n._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,o=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(o,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(\"error\",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload=\"auto\",e._node.volume=o*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit(\"loaderror\",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener(\"error\",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(\",\")[1]),o=new Uint8Array(t.length),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);i(o.buffer,e)}else{var _=new XMLHttpRequest;_.open(\"GET\",n,!0),_.withCredentials=e._xhrWithCredentials,_.responseType=\"arraybuffer\",_.onload=function(){var n=(_.status+\"\")[0];if(\"0\"!==n&&\"2\"!==n&&\"3\"!==n)return void e._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+_.status+\".\");i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,t){n.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(r[t._src]=e,d(t,e))},function(){t._emit(\"loaderror\",null,\"Decoding audio data failed.\")})},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue())},_=function(){try{\"undefined\"!=typeof AudioContext?n.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!r||n._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:1,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()};\"function\"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:t}}),\"undefined\"!=typeof exports&&(exports.Howler=n,exports.Howl=t),\"undefined\"!=typeof window?(window.HowlerGlobal=e,window.Howler=n,window.Howl=t,window.Sound=o):\"undefined\"!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=t,global.Sound=o)}();","// TODO: gracefully load assets from files inside build process\n\n/**\n * @hidden\n */\nexport const beepSound: string =\n  \"data:audio/mp3;base64,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\\\n4WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFd\\\nqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////z\\\noi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4\\\nXVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSM\\\nTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4q\\\nYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEH\\\nN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU\\\n1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIA\\\nAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=\";\n\n/**\n * @hidden\n */\nexport const scanditLogoImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcE\\\nyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgo\\\nL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5\\\nuDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3///\\\n/////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpq\\\nb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZ\\\nnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5\\\n+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67n\\\nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3S\\\nL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVj\\\nUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHu\\\nzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2\\\nhv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT\\\n3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaV\\\nQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXs\\\n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\";\n\n/**\n * @hidden\n */\nexport const laserActiveImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcE\\\nxUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyN\\\nFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyN\\\nFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+\\\ndv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3\\\nsnWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgH\\\nhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3\\\nOT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lse\\\nK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKX\\\nuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R9\\\n3R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGH\\\nMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhg\\\nYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71j\\\nLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwan\\\neyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2\\\noX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyH\\\nAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9\\\nq17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQod\\\nQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9\\\nuxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP\\\n7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJE\\\nYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu\\\n6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgx\\\nV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBdd\\\nEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR6\\\n4H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndP\\\nqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3S\\\nec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrG\\\nJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0\\\n/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/\\\n67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6R\\\nz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZ\\\nExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyzt\\\nf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIb\\\ns5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7\\\nVk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstU\\\nAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4\\\nYyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9\\\njcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWh\\\ntf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77g\\\nYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3G\\\nGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeN\\\nMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC\";\n\n/**\n * @hidden\n */\nexport const laserPausedImage: string =\n  \"data:image/png;base64,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\";\n\n/**\n * @hidden\n */\nexport const switchCameraImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTI2LjE0IDhjLTEuNjc1IDAtMy4yMy44MzItNC4xNiAyLjIyN2wtMi\\\n4yMTggMy4zMjhhMS4wMDMgMS4wMDMgMCAwIDEtLjgzMi40NDVIMTh2LTJjMC0xLjEwMi0uODk4LTItMi\\\n0yaC02Yy0xLjEwMiAwLTIgLjg5OC0yIDJ2Mkg1Yy0xLjY1MiAwLTMgMS4zNDgtMyAzdjM2YzAgMS42NT\\\nIgMS4zNDggMyAzIDNoNTRjMS42NTIgMCAzLTEuMzQ4IDMtM1YxN2MwLTEuNjUyLTEuMzQ4LTMtMy0zaC\\\n0zdi0xYzAtMS4xMDItLjg5OC0yLTItMmgtMmMtMS4xMDIgMC0yIC44OTgtMiAydjFoLTQuOTM4YS45OT\\\ncuOTk3IDAgMCAxLS44MjgtLjQ0MWwtMi4yNTQtMy4zNTJBNS4wMDEgNS4wMDEgMCAwIDAgMzcuODI4ID\\\nh6bTAgMmgxMS42ODhjMSAwIDEuOTM0LjQ5NiAyLjQ5MiAxLjMyNGwyLjI1NCAzLjM1MkEyLjk5OCAyLj\\\nk5OCAwIDAgMCA0NS4wNjMgMTZINTljLjU1IDAgMSAuNDUgMSAxdjM2YzAgLjU1LS40NSAxLTEgMUg1Yy\\\n0uNTUgMC0xLS40NS0xLTFWMTdjMC0uNTUuNDUtMSAxLTFoMTMuOTNjMS4wMDQgMCAxLjkzNy0uNSAyLj\\\nQ5Ni0xLjMzNmwyLjIxOS0zLjMyOEEyLjk5OCAyLjk5OCAwIDAgMSAyNi4xNCAxMHpNMTAgMTJoNnYyaC\\\n02em00MiAxaDJ2MWgtMnptLTIwIDVjLTUuMjkgMC0xMC4yNDYgMi44MzYtMTIuOTM0IDcuMzk4YS45OT\\\nYuOTk2IDAgMCAwIC4zNTYgMS4zNjguOTk3Ljk5NyAwIDAgMCAxLjM2Ny0uMzU2QTEzLjA2NSAxMy4wNj\\\nUgMCAwIDEgMzIgMjBjNy4xNjggMCAxMyA1LjgzMiAxMyAxMyAwIC4xODgtLjAxNi4zNzUtLjAyMy41Nj\\\nNsLTIuMjctMi4yN2ExIDEgMCAxIDAtMS40MTQgMS40MTRsNCA0Yy4xOTUuMTk1LjQ1LjI5My43MDcuMj\\\nkzYS45OTMuOTkzIDAgMCAwIC43MDctLjI5M2w0LTRhMSAxIDAgMSAwLTEuNDE0LTEuNDE0bC0yLjMyID\\\nIuMzE2Yy4wMTEtLjIwMy4wMjctLjQwNi4wMjctLjYwOSAwLTguMjctNi43My0xNS0xNS0xNXpNMTggMj\\\nlhMSAxIDAgMCAwLS43MDcuMjkzbC00IDRhMSAxIDAgMSAwIDEuNDE0IDEuNDE0bDIuMzEzLTIuMzE2Yy\\\n0uMDA4LjIwMy0uMDIuNDA2LS4wMi42MDkgMCA4LjI3IDYuNzMgMTUgMTUgMTUgNS4zNjcgMCAxMC4zNi\\\n0yLjg5OCAxMy4wMjctNy41NjNhLjk5OS45OTkgMCAxIDAtMS43MzQtLjk5MkExMy4wNDIgMTMuMDQyID\\\nAgMCAxIDMyIDQ2Yy03LjE2OCAwLTEzLTUuODMyLTEzLTEzIDAtLjE4OC4wMTItLjM3OS4wMi0uNTY2bD\\\nIuMjczIDIuMjczYy4xOTUuMTk1LjQ1LjI5My43MDcuMjkzYTEgMSAwIDAgMCAuNzA3LTEuNzA3bC00LT\\\nRBMSAxIDAgMCAwIDE4IDI5em05IDJjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMS\\\nAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LT\\\nEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLT\\\nF6bTUgMGMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS\\\n0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xeiIvPjwvc3ZnPg==\";\n\n/**\n * @hidden\n */\nexport const toggleTorchImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTMwLjkzOCAxYy0uNDQ2LjAyLTEgLjIzLTEuMzEzLjY1NmExLjMwMi\\\nAxLjMwMiAwIDAgMC0uMDYzLjA5NGwtNi43OCAxMi4wNjMtLjA2My4wOTNjLS41NTUuNzg1LS43MjcgMS\\\n43My0uNTk0IDIuNjU2bC0yMC41IDIyLjU2My0uMDMxLjAzMWMtMS4wNyAxLjIxOS0uNjY0IDMuMDEyLj\\\nQ2OCA0LjE1N2guMDMybDQuNTk0IDQuNTkzYy41Ny41NyAxLjI2NS45NSAyIDEuMDYzLjczNC4xMTMgMS\\\n41NDYtLjA1NSAyLjE1Ni0uNTk0aC4wMzFsMjIuNTYzLTIwLjVjLjkzLjEyOSAxLjg3LS4wNDMgMi42NT\\\nYtLjU5NC4wMi0uMDE1LjA0My0uMDE1LjA2Mi0uMDMxbC4wNjMtLjAzMSAxMi4wMzEtNi43ODJjLjAzMS\\\n0uMDE5LjA2My0uMDM5LjA5NC0uMDYyLjQyMi0uMzEzLjYzNi0uODY3LjY1Ni0xLjMxMy4wMi0uNDQ1LS\\\n4wOTgtLjg0LS4yNS0xLjI1LS4zMDUtLjgyLS44MjgtMS42OS0xLjUzMS0yLjY4Ny0xLjQwNy0xLjk5Mi\\\n0zLjUxNi00LjM5LTUuNzUtNi42MjUtMi4yMzUtMi4yMzQtNC42MDItNC4zMTMtNi41OTQtNS43MTktLj\\\nk5Ni0uNzAzLTEuODY3LTEuMjI2LTIuNjg4LTEuNTMxLS40MS0uMTUyLS44MDQtLjI3LTEuMjUtLjI1em\\\n0uMjE4IDIuMDMxYy4wNzguMDEyLjE1My4wMjQuMzQ0LjA5NC41Mi4xOTEgMS4zLjYzMyAyLjIxOSAxLj\\\nI4MSAxLjgzNiAxLjI5NyA0LjE2OCAzLjM1NiA2LjM0MyA1LjUzMiAyLjE3NiAyLjE3NSA0LjIzNSA0Lj\\\nQ3NiA1LjUzMiA2LjMxMi42NDguOTE4IDEuMDkgMS43MyAxLjI4MSAyLjI1LjA3LjE5MS4wODIuMjY2Lj\\\nA5NC4zNDRMMzUuMTI1IDI1LjUzYS45NDkuOTQ5IDAgMCAwLS4xMjUuMDk0Yy0uMzE2LjI0Mi0uODYuMz\\\nI4LTEuNDM4LjIxOWExLjA1NiAxLjA1NiAwIDAgMC0uMTg3LS4wNjMgMy4xMTMgMy4xMTMgMCAwIDEtMS\\\n40MzgtLjgxMmwtNi45MDYtNi45MDdjLS45NzYtLjk4NC0xLjEyOS0yLjQzNy0uNjU2LTMuMDYyYS41Mz\\\nIuNTMyIDAgMCAwIC4wOTQtLjA5NHptLTguMjE4IDE1LjU5NGMuMTk5LjI5Ny40My41ODYuNjg3Ljg0NG\\\nw2LjkwNiA2LjkwNmMuMjYyLjI2Mi41NDMuNDg4Ljg0NC42ODhMOS41MzEgNDYuOTA2Yy0uMDg2LjA3OC\\\n0uMjU0LjEzNy0uNTMxLjA5NC0uMjc3LS4wNDMtLjYyOS0uMjIzLS45MDYtLjVMMy41IDQxLjkwNmMtLj\\\nU1OS0uNTY2LS41NjMtMS4yNjEtLjQwNi0xLjQzN3ptLTIuODc1IDguMzEzYy0uNzcgMC0xLjU0My4yOT\\\nItMi4xMjUuODc1bC0yLjEyNSAyLjEyNWEzLjAyMyAzLjAyMyAwIDAgMCAwIDQuMjUgMy4wMjMgMy4wMj\\\nMgMCAwIDAgNC4yNSAwbDIuMTI1LTIuMTI2YTMuMDIzIDMuMDIzIDAgMCAwIDAtNC4yNSAzLjAwMiAzLj\\\nAwMiAwIDAgMC0yLjEyNS0uODc1em0wIDJjLjI1MyAwIC41MTkuMDgyLjcxOC4yOC4zOTkuNC4zOTkgMS\\\n4wNCAwIDEuNDM4bC0yLjEyNSAyLjEyNWExLjAxNCAxLjAxNCAwIDAgMS0xLjQzNyAwIDEuMDE0IDEuMD\\\nE0IDAgMCAxIDAtMS40MzdjLjQyMi0uNDIyIDEuNjk5LTEuNjk2IDIuMTI1LTIuMTI1LjE5OS0uMi40Nj\\\nUtLjI4Mi43MTgtLjI4MnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K\";\n","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","require('../../modules/es6.math.hypot');\nmodule.exports = require('../../modules/_core').Math.hypot;\n","module.exports = { \"default\": require(\"core-js/library/fn/math/hypot\"), __esModule: true };","/**\n * A configuration object to request custom capabilities when accessing a camera.\n */\nexport interface CameraSettings {\n  /**\n   * The preferred video fram resolution (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  readonly resolutionPreference: CameraSettings.ResolutionPreference;\n}\n\nexport namespace CameraSettings {\n  /**\n   * Video frame resolution request (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  export enum ResolutionPreference {\n    /**\n     * Resolution of around 1080p (or less).\n     */\n    FULL_HD,\n    /**\n     * Resolution of around 720p (or less).\n     */\n    HD\n  }\n}\n","import { switchCameraImage, toggleTorchImage } from \"./assets/base64assets\";\nimport { BarcodePicker } from \"./barcodePicker\";\nimport { Camera } from \"./camera\";\nimport { CameraAccess } from \"./cameraAccess\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\n\n/**\n * @hidden\n *\n * A barcode picker utility class used to handle camera interaction.\n */\nexport class BarcodePickerCameraManager {\n  private static readonly isIOSDevice: boolean = navigator.platform != null &&\n    navigator.platform !== \"\" &&\n    /iPad|iPhone|iPod/.test(navigator.platform);\n  private static readonly cameraAccessTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckIntervalMs: number = 50;\n  private static readonly getCapabilitiesTimeoutMs: number = 500;\n  private static readonly autofocusIntervalMs: number = 1500;\n  private static readonly manualToAutofocusResumeTimeoutMs: number = 5000;\n  private static readonly manualFocusWaitTimeoutMs: number = 400;\n  public activeCamera: Camera | undefined;\n  public activeCameraSettings: CameraSettings | undefined;\n  private selectedCamera: Camera | undefined;\n  private selectedCameraSettings: CameraSettings | undefined;\n\n  private mediaStream: MediaStream | undefined;\n  private mediaTrackCapabilities: any | undefined;\n  private postStreamInitializationListener: () => void = this.postStreamInitialization.bind(this);\n  private triggerManualFocusListener: () => void = this.triggerManualFocus.bind(this);\n  private triggerZoomStartListener: () => void = this.triggerZoomStart.bind(this);\n  private triggerZoomMoveListener: () => void = this.triggerZoomMove.bind(this);\n  private cameraAccessTimeout: number;\n  private cameraMetadataCheckInterval: number;\n  private getCapabilitiesTimeout: number;\n  private autofocusInterval: number;\n  private manualToAutofocusResumeTimeout: number;\n  private manualFocusWaitTimeout: number;\n  private enableCameraSwitcher: boolean;\n  private enableTorchToggle: boolean;\n  private enableTapToFocus: boolean;\n  private enablePinchToZoom: boolean;\n  private torchEnabled: boolean;\n  private cameraSwitcherElement: HTMLImageElement;\n  private torchToggleElement: HTMLImageElement;\n  private pinchToZoomDistance: number | undefined;\n  private pinchToZoomInitialZoom: number;\n\n  constructor(private barcodePicker: BarcodePicker) {\n    this.setupCameraSwitcher();\n    this.setupTorchToggle();\n  }\n\n  public setUIOptions(\n    enableCameraSwitcher: boolean,\n    enableTorchToggle: boolean,\n    enableTapToFocus: boolean,\n    enablePinchToZoom: boolean\n  ): void {\n    this.enableCameraSwitcher = enableCameraSwitcher;\n    this.enableTorchToggle = enableTorchToggle;\n    this.enableTapToFocus = enableTapToFocus;\n    this.enablePinchToZoom = enablePinchToZoom;\n  }\n\n  public setSelectedCamera(camera?: Camera): void {\n    this.selectedCamera = camera;\n  }\n\n  public setSelectedCameraSettings(cameraSettings?: CameraSettings): void {\n    this.selectedCameraSettings = cameraSettings;\n  }\n\n  public setupCameras(): Promise<BarcodePicker> {\n    return CameraAccess.getCameras().then(cameras => {\n      if (this.enableCameraSwitcher && cameras.length > 1) {\n        this.cameraSwitcherElement.classList.remove(\"scandit-hidden\");\n      }\n\n      if (this.selectedCamera == null) {\n        let autoselectedCamera: Camera | undefined = cameras.find(currentCamera => {\n          return currentCamera.cameraType === Camera.Type.BACK;\n        });\n        if (autoselectedCamera === undefined) {\n          autoselectedCamera = cameras[0];\n        }\n        if (autoselectedCamera === undefined) {\n          return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n        }\n\n        return this.initializeCameraWithSettings(autoselectedCamera, this.selectedCameraSettings);\n      } else {\n        return this.initializeCameraWithSettings(this.selectedCamera, this.selectedCameraSettings);\n      }\n    });\n  }\n\n  public stopStream(): void {\n    if (this.activeCamera != null) {\n      this.activeCamera.currentResolution = undefined;\n    }\n\n    this.activeCamera = undefined;\n\n    if (this.mediaStream != null) {\n      window.clearTimeout(this.cameraAccessTimeout);\n      window.clearInterval(this.cameraMetadataCheckInterval);\n      window.clearTimeout(this.getCapabilitiesTimeout);\n      window.clearTimeout(this.manualFocusWaitTimeout);\n      window.clearTimeout(this.manualToAutofocusResumeTimeout);\n      window.clearInterval(this.autofocusInterval);\n      this.mediaStream.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n      this.mediaStream = undefined;\n      this.mediaTrackCapabilities = undefined;\n    }\n  }\n\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, cameraSettings);\n  }\n\n  public reinitializeCamera(): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, this.activeCameraSettings);\n  }\n\n  public initializeCameraWithSettings(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    this.activeCameraSettings = cameraSettings;\n    if (cameraSettings != null && cameraSettings.resolutionPreference === CameraSettings.ResolutionPreference.FULL_HD) {\n      return this.initializeCamera(camera);\n    } else {\n      return this.initializeCamera(camera, 3);\n    }\n  }\n\n  public setTorchEnabled(enabled: boolean): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.torch) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        videoTracks[0].applyConstraints({ advanced: [<any>{ torch: enabled }] });\n      }\n    }\n  }\n\n  public setZoom(zoomPercentage: number, currentZoom?: number): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.zoom) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        const zoomRange: number = this.mediaTrackCapabilities.zoom.max - this.mediaTrackCapabilities.zoom.min;\n        if (currentZoom == null) {\n          currentZoom = <number>this.mediaTrackCapabilities.zoom.min;\n        }\n        const targetZoom: number = Math.max(\n          this.mediaTrackCapabilities.zoom.min,\n          Math.min(currentZoom + zoomRange * zoomPercentage, this.mediaTrackCapabilities.zoom.max)\n        );\n        videoTracks[0].applyConstraints({ advanced: [<any>{ zoom: targetZoom }] });\n      }\n    }\n  }\n\n  private postStreamInitialization(): void {\n    window.clearTimeout(this.getCapabilitiesTimeout);\n    this.getCapabilitiesTimeout = window.setTimeout(() => {\n      this.storeStreamCapabilities();\n      this.setupAutofocus();\n      if (\n        this.enableTorchToggle &&\n        this.mediaStream != null &&\n        this.mediaTrackCapabilities != null &&\n        this.mediaTrackCapabilities.torch\n      ) {\n        this.torchToggleElement.classList.remove(\"scandit-hidden\");\n      }\n    }, BarcodePickerCameraManager.getCapabilitiesTimeoutMs);\n  }\n\n  private triggerManualFocus(event?: MouseEvent | TouchEvent): void {\n    if (event != null) {\n      event.preventDefault();\n      if (event.type === \"touchend\" && (<TouchEvent>event).touches.length !== 0) {\n        return;\n      }\n      // Check if we were using pinch-to-zoom\n      if (this.pinchToZoomDistance != null) {\n        this.pinchToZoomDistance = undefined;\n\n        return;\n      }\n    }\n    window.clearTimeout(this.manualFocusWaitTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (focusModeCapability instanceof Array && focusModeCapability.indexOf(\"single-shot\") !== -1) {\n        if (focusModeCapability.indexOf(\"continuous\") !== -1 && focusModeCapability.indexOf(\"manual\") !== -1) {\n          this.triggerFocusMode(\"continuous\")\n            .then(() => {\n              this.manualFocusWaitTimeout = window.setTimeout(() => {\n                this.triggerFocusMode(\"manual\");\n              }, BarcodePickerCameraManager.manualFocusWaitTimeoutMs);\n            })\n            .catch(() => {\n              // Ignored\n            });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.triggerFocusMode(\"continuous\");\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        } else if (focusModeCapability.indexOf(\"continuous\") === -1) {\n          window.clearInterval(this.autofocusInterval);\n\n          this.triggerFocusMode(\"single-shot\").catch(() => {\n            // Ignored\n          });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.autofocusInterval = window.setInterval(\n              this.triggerAutoFocus.bind(this),\n              BarcodePickerCameraManager.autofocusIntervalMs\n            );\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        }\n      }\n    }\n  }\n\n  private triggerZoomStart(event?: TouchEvent): void {\n    if (event == null || event.touches.length !== 2) {\n      return;\n    }\n    event.preventDefault();\n    this.pinchToZoomDistance = Math.hypot(\n      (event.touches[1].screenX - event.touches[0].screenX) / screen.width,\n      (event.touches[1].screenY - event.touches[0].screenY) / screen.height\n    );\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.zoom) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getConstraints === \"function\") {\n        this.pinchToZoomInitialZoom = this.mediaTrackCapabilities.zoom.min;\n        const currentConstraints: MediaTrackConstraints = videoTracks[0].getConstraints();\n        if (currentConstraints.advanced != null) {\n          const currentZoomConstraint: MediaTrackConstraintSet | undefined = currentConstraints.advanced.find(\n            constraint => {\n              return \"zoom\" in constraint;\n            }\n          );\n          if (currentZoomConstraint != null) {\n            this.pinchToZoomInitialZoom = (<any>currentZoomConstraint).zoom;\n          }\n        }\n      }\n    }\n  }\n\n  private triggerZoomMove(event?: TouchEvent): void {\n    if (this.pinchToZoomDistance == null || event == null || event.touches.length !== 2) {\n      return;\n    }\n    event.preventDefault();\n    this.setZoom(\n      (Math.hypot(\n        (event.touches[1].screenX - event.touches[0].screenX) / screen.width,\n        (event.touches[1].screenY - event.touches[0].screenY) / screen.height\n      ) -\n        this.pinchToZoomDistance) *\n        2,\n      this.pinchToZoomInitialZoom\n    );\n  }\n\n  private storeStreamCapabilities(): void {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getCapabilities === \"function\") {\n        this.mediaTrackCapabilities = videoTracks[0].getCapabilities();\n      }\n    }\n  }\n\n  private setupAutofocus(): void {\n    window.clearTimeout(this.manualFocusWaitTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (\n        focusModeCapability instanceof Array &&\n        focusModeCapability.indexOf(\"continuous\") === -1 &&\n        focusModeCapability.indexOf(\"single-shot\") !== -1\n      ) {\n        window.clearInterval(this.autofocusInterval);\n        this.autofocusInterval = window.setInterval(\n          this.triggerAutoFocus.bind(this),\n          BarcodePickerCameraManager.autofocusIntervalMs\n        );\n      }\n    }\n  }\n\n  private triggerAutoFocus(): void {\n    this.triggerFocusMode(\"single-shot\").catch(() => {\n      // Ignored\n    });\n  }\n\n  private triggerFocusMode(focusMode: string): Promise<void> {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        return videoTracks[0].applyConstraints({ advanced: [<any>{ focusMode }] });\n      }\n    }\n\n    return Promise.reject(undefined);\n  }\n\n  private enableTapToFocusListeners(): void {\n    [\"touchend\", \"mousedown\"].forEach(eventName => {\n      this.barcodePicker.videoElement.addEventListener(eventName, this.triggerManualFocusListener);\n    });\n  }\n\n  private enablePinchToZoomListeners(): void {\n    this.barcodePicker.videoElement.addEventListener(\"touchstart\", this.triggerZoomStartListener);\n    this.barcodePicker.videoElement.addEventListener(\"touchmove\", this.triggerZoomMoveListener);\n  }\n\n  private initializeCamera(camera: Camera, resolutionFallbackLevel: number = 0): Promise<BarcodePicker> {\n    if (camera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n    this.stopStream();\n    this.torchEnabled = false;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n\n    return new Promise((resolve, reject) => {\n      CameraAccess.accessCameraStream(resolutionFallbackLevel, camera)\n        .then(stream => {\n          // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n          if (typeof stream.getTracks()[0].getSettings === \"function\") {\n            const mediaTrackSettings: MediaTrackSettings = stream.getTracks()[0].getSettings();\n            if (\n              mediaTrackSettings.width != null &&\n              mediaTrackSettings.height != null &&\n              (mediaTrackSettings.width === 2 || mediaTrackSettings.height === 2)\n            ) {\n              if (resolutionFallbackLevel === 6) {\n                return reject(\n                  new CustomError({ name: \"NotReadableError\", message: \"Could not initialize camera correctly\" })\n                );\n              } else {\n                return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n                  .then(() => {\n                    return resolve();\n                  })\n                  .catch(error => {\n                    return reject(error);\n                  });\n              }\n            }\n          }\n          this.mediaStream = stream;\n          // This will add the listener only once in the case of multiple calls, identical listeners are ignored\n          this.barcodePicker.videoElement.addEventListener(\"loadedmetadata\", this.postStreamInitializationListener);\n          if (this.enableTapToFocus) {\n            this.enableTapToFocusListeners();\n          }\n          if (this.enablePinchToZoom) {\n            this.enablePinchToZoomListeners();\n          }\n          this.resolveInitializeCamera(camera, resolve, reject);\n          this.barcodePicker.videoElement.srcObject = stream;\n          this.barcodePicker.videoElement.load();\n          const playPromise: Promise<void> = this.barcodePicker.videoElement.play();\n          if (playPromise != null) {\n            playPromise.catch(() => {\n              // Can sometimes cause an incorrect rejection (all is good, ignore).\n            });\n          }\n        })\n        .catch(error => {\n          if (error.name === \"OverconstrainedError\" && error.constraint === \"deviceId\") {\n            // Camera might have changed deviceId: check for new cameras with same label and type but different deviceId\n            return CameraAccess.getCameras().then(cameras => {\n              const newCamera: Camera | undefined = cameras.find(currentCamera => {\n                return (\n                  currentCamera.label === camera.label &&\n                  currentCamera.cameraType === camera.cameraType &&\n                  currentCamera.deviceId !== camera.deviceId\n                );\n              });\n              if (newCamera == null) {\n                return reject(error);\n              } else {\n                return this.initializeCamera(newCamera, resolutionFallbackLevel)\n                  .then(mediaStream => {\n                    return resolve(mediaStream);\n                  })\n                  .catch(error2 => {\n                    return reject(error2);\n                  });\n              }\n            });\n          }\n          if (\n            error.name === \"PermissionDeniedError\" ||\n            error.name === \"PermissionDismissedError\" ||\n            error.name === \"NotAllowedError\" ||\n            error.name === \"NotFoundError\" ||\n            error.name === \"AbortError\"\n          ) {\n            // Camera is not accessible at all\n            return reject(error);\n          }\n          if (resolutionFallbackLevel < 6) {\n            return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n              .then(mediaStream => {\n                return resolve(mediaStream);\n              })\n              .catch(error2 => {\n                return reject(error2);\n              });\n          } else {\n            return reject(error);\n          }\n        });\n    });\n  }\n\n  private resolveInitializeCamera(\n    camera: Camera,\n    resolve: (value: BarcodePicker) => void,\n    reject: (reason?: any) => void\n  ): void {\n    const cameraNotReadableError: Error = new CustomError({\n      name: \"NotReadableError\",\n      message: \"Could not initialize camera correctly\"\n    });\n\n    this.cameraAccessTimeout = window.setTimeout(() => {\n      this.stopStream();\n      reject(cameraNotReadableError);\n    }, BarcodePickerCameraManager.cameraAccessTimeoutMs);\n\n    if (BarcodePickerCameraManager.isIOSDevice) {\n      // iOS camera access should always work but can fail to call \"later\" video callbacks, so we check loadstart\n      this.barcodePicker.videoElement.onloadstart = () => {\n        (<any>this.barcodePicker.videoElement).onloadstart = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        this.activeCamera = camera;\n        this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n        resolve(this.barcodePicker);\n      };\n    } else {\n      this.barcodePicker.videoElement.onloadeddata = () => {\n        (<any>this.barcodePicker.videoElement).onloadeddata = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n        // Also detect failed camera access with no error but also no video stream provided\n        if (\n          this.barcodePicker.videoElement.videoWidth > 2 &&\n          this.barcodePicker.videoElement.videoHeight > 2 &&\n          this.barcodePicker.videoElement.currentTime > 0\n        ) {\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          return resolve(this.barcodePicker);\n        }\n\n        const cameraMetadataCheckStartTime: number = performance.now();\n\n        window.clearInterval(this.cameraMetadataCheckInterval);\n        this.cameraMetadataCheckInterval = window.setInterval(() => {\n          if (\n            this.barcodePicker.videoElement.videoWidth === 2 ||\n            this.barcodePicker.videoElement.videoHeight === 2 ||\n            this.barcodePicker.videoElement.currentTime === 0\n          ) {\n            if (\n              performance.now() - cameraMetadataCheckStartTime >\n              BarcodePickerCameraManager.cameraMetadataCheckTimeoutMs\n            ) {\n              window.clearInterval(this.cameraMetadataCheckInterval);\n              this.stopStream();\n\n              return reject(cameraNotReadableError);\n            }\n\n            return;\n          }\n\n          window.clearInterval(this.cameraMetadataCheckInterval);\n\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          this.barcodePicker.videoElement.dispatchEvent(new Event(\"canplay\"));\n\n          return resolve(this.barcodePicker);\n        }, BarcodePickerCameraManager.cameraMetadataCheckIntervalMs);\n      };\n    }\n  }\n\n  private setupCameraSwitcher(): void {\n    this.cameraSwitcherElement = document.createElement(\"img\");\n    this.cameraSwitcherElement.src = switchCameraImage;\n    this.cameraSwitcherElement.className = BarcodePicker.cameraSwitcherElementClassName;\n    this.cameraSwitcherElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.cameraSwitcherElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.cameraSwitcherElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        CameraAccess.getCameras()\n          .then(cameras => {\n            const newCameraIndex: number =\n              (cameras.findIndex(camera => {\n                return camera.deviceId === (this.activeCamera == null ? camera.deviceId : this.activeCamera.deviceId);\n              }) +\n                1) %\n              cameras.length;\n            this.initializeCameraWithSettings(cameras[newCameraIndex], this.activeCameraSettings).catch(error => {\n              console.error(error);\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      });\n    });\n  }\n\n  private setupTorchToggle(): void {\n    this.torchToggleElement = document.createElement(\"img\");\n    this.torchToggleElement.src = toggleTorchImage;\n    this.torchToggleElement.className = BarcodePicker.torchToggleElementClassName;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.torchToggleElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.torchToggleElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        this.torchEnabled = !this.torchEnabled;\n        this.setTorchEnabled(this.torchEnabled);\n      });\n    });\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\nimport { Howl, Howler } from \"howler/dist/howler.core.min.js\";\n\nimport { beepSound, laserActiveImage, laserPausedImage, scanditLogoImage } from \"./assets/base64assets\";\n\nimport { userLicenseKey } from \"../index\";\nimport { BarcodePickerCameraManager } from \"./barcodePickerCameraManager\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { Scanner } from \"./scanner\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A barcode picker element used to get and show camera input and perform scanning operations.\n *\n * The barcode picker will automatically fit and scale inside the given <i>originElement</i>.\n *\n * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a\n * separate copy of the external Scandit Engine library. To optimize loading times and performance it's\n * recommended to reuse the same picker and to already create the picker in advance (hidden) and just\n * display it when needed whenever possible.\n *\n * As the loading of the external Scandit Engine library can take some time the picker always starts inactive\n * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.\n * The [[onReady]] method can be used to set up a listener function to be called when the library is loaded.\n *\n * You are not allowed to hide the Scandit logo present in the corner of the GUI.\n */\nexport class BarcodePicker {\n  /**\n   * @hidden\n   */\n  public static readonly grandParentElementClassName: string = \"scandit scandit-container\";\n  /**\n   * @hidden\n   */\n  public static readonly parentElementClassName: string = \"scandit scandit-barcode-picker\";\n  /**\n   * @hidden\n   */\n  public static readonly videoElementClassName: string = \"scandit-video\";\n  /**\n   * @hidden\n   */\n  public static readonly scanditLogoImageElementClassName: string = \"scandit-logo\";\n  /**\n   * @hidden\n   */\n  public static readonly laserImageElementClassName: string = \"scandit-laser\";\n  /**\n   * @hidden\n   */\n  public static readonly viewfinderElementClassName: string = \"scandit-viewfinder\";\n  /**\n   * @hidden\n   */\n  public static readonly cameraSwitcherElementClassName: string = \"scandit-camera-switcher\";\n  /**\n   * @hidden\n   */\n  public static readonly torchToggleElementClassName: string = \"scandit-torch-toggle\";\n\n  /**\n   * @hidden\n   */\n  public readonly grandParentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly parentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly videoElement: HTMLVideoElement;\n  /**\n   * @hidden\n   */\n  public readonly laserActiveImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly laserPausedImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly viewfinderElement: HTMLDivElement;\n\n  private cameraManager: BarcodePickerCameraManager;\n  private visible: boolean;\n  private playSoundOnScan: boolean;\n  private vibrateOnScan: boolean;\n  private scanningPaused: boolean;\n  private guiStyle: BarcodePicker.GuiStyle;\n  private videoFit: BarcodePicker.ObjectFit;\n  private eventEmitter: EventEmitter;\n  private scanner: Scanner;\n  private mirrorImage: boolean;\n  private videoImageCanvasContext: CanvasRenderingContext2D;\n  private fatalError: Error;\n  private beepSound: Howl;\n  private vibrateFunction: (pattern: number | number[]) => boolean;\n  private latestVideoTimeProcessed: number;\n  private resizeInterval: number;\n  private lastKnownOriginElementWidth: number;\n  private lastKnownOriginElementHeight: number;\n  private destroyed: boolean;\n  private isReadyToWork: boolean;\n  private cameraAccess: boolean;\n  private globalListener: EventListenerOrEventListenerObject;\n  private targetScanningFPS: number;\n  private averageProcessingTime: number;\n\n  private constructor(\n    private originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      guiStyle = BarcodePicker.GuiStyle.LASER,\n      videoFit = BarcodePicker.ObjectFit.CONTAIN,\n      scanSettings = new ScanSettings(),\n      targetScanningFPS = 30\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      videoFit?: BarcodePicker.ObjectFit;\n      scanSettings?: ScanSettings;\n      targetScanningFPS?: number;\n    } = {}\n  ) {\n    this.isReadyToWork = false;\n    this.destroyed = false;\n    this.scanningPaused = scanningPaused;\n\n    Howler.autoSuspend = false;\n    this.beepSound = new Howl({\n      src: beepSound\n    });\n\n    this.vibrateFunction =\n      <any>navigator.vibrate ||\n      (<any>navigator).webkitVibrate ||\n      (<any>navigator).mozVibrate ||\n      (<any>navigator).msVibrate;\n\n    this.eventEmitter = new EventEmitter();\n\n    this.grandParentElement = document.createElement(\"div\");\n    this.grandParentElement.className = BarcodePicker.grandParentElementClassName;\n    this.originElement.appendChild(this.grandParentElement);\n    this.parentElement = document.createElement(\"div\");\n    this.parentElement.className = BarcodePicker.parentElementClassName;\n    this.grandParentElement.appendChild(this.parentElement);\n\n    this.videoElement = document.createElement(\"video\");\n    this.setupVideoElement(this.videoElement);\n\n    this.setupVideoImageCanvasElement(document.createElement(\"canvas\"));\n\n    this.setVisible(visible);\n    this.setPlaySoundOnScanEnabled(playSoundOnScan);\n    this.setVibrateOnScanEnabled(vibrateOnScan);\n    this.setTargetScanningFPS(targetScanningFPS);\n\n    this.scanner = new Scanner({ scanSettings: scanSettings });\n    this.scanner.onReady(() => {\n      this.isReadyToWork = true;\n      this.eventEmitter.emit(\"ready\");\n    });\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n    this.resizeInterval = window.setInterval(() => {\n      this.resizeIfNeeded();\n    }, 250);\n\n    this.laserActiveImageElement = document.createElement(\"img\");\n    this.laserPausedImageElement = document.createElement(\"img\");\n    this.viewfinderElement = document.createElement(\"div\");\n    this.setupAssets();\n    this.setGuiStyle(guiStyle);\n    this.setVideoFit(videoFit);\n\n    this.setupGlobalListeners();\n\n    this.cameraManager = new BarcodePickerCameraManager(this);\n  }\n\n  /**\n   * Creates a BarcodePicker instance, creating the needed HTML in the given origin element.\n   * If the <i>accessCamera</i> option is enabled (active by default) the available cameras are accessed\n   * and a camera access permission is requested to the user if needed.\n   * This object expects that at least a camera is available. The active camera is accessed and kept active during the\n   * lifetime of the picker (also when hidden or scanning is paused), and is only released when [[destroy]] is called.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * By default an alert is shown if an internal error during scanning is encountered which prevents the scanning\n   * procedure from continuing. As this uses the built-in [[onScanError]] event functionality, if unwanted it can be\n   * disabled by calling [[removeScanErrorListeners]] on the BarcodePicker instance (right after creation).\n   *\n   * Depending on parameters, device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>LibraryNotConfiguredError</tt>\n   * - <tt>NoOriginElementError</tt>\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param originElement The HTMLElement inside which all the necessary elements for the picker will be added.\n   * @param visible <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether the picker starts in a visible state.\n   * @param playSoundOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether a sound is played on barcode scanned (iOS requires user input).\n   * @param vibrateOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the device vibrates on barcode scanned (only Chrome & Firefox, requires user input).\n   * @param scanningPaused <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the picker starts in a paused scanning state.\n   * @param guiStyle <div class=\"tsd-signature-symbol\">Default =&nbsp;GuiStyle.LASER</div>\n   * The GUI style for the picker.\n   * @param videoFit <div class=\"tsd-signature-symbol\">Default =&nbsp;ObjectFit.CONTAIN</div>\n   * The fit type for the video element of the picker.\n   * @param enableCameraSwitcher <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to switch between different cameras (when available).\n   * @param enableTorchToggle <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to toggle device torch on/off (when available, only Chrome).\n   * @param enableTapToFocus <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to trigger a manual focus of the camera when clicking/tapping on the video (when available, only Chrome).\n   * @param enablePinchToZoom <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to control the zoom of the camera when doing a pinching gesture on the video (when available, only Chrome).\n   * @param accessCamera <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to immediately access the camera (and requesting user permissions if needed) on picker creation.\n   * @param camera <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera to be used for video input, if not specified the back or only camera will be used.\n   * @param cameraSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera options used when accessing the camera, by default HD resolution is used.\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options (All symbologies disabled by default).\n   * @param targetScanningFPS <div class=\"tsd-signature-symbol\">Default =&nbsp;30</div>\n   * The target frames per second to be processed, the final speed is limited by the camera framerate (usually 30 FPS)\n   * and the frame processing time of the device. By setting this to lower numbers devices can save power by performing\n   * less work during scanning operations, depending on device speed (faster devices can \"sleep\" for longer periods).\n   * Must be a number bigger than 0.\n   * @returns A promise resolving to the created ready [[BarcodePicker]] object.\n   */\n  public static create(\n    originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      guiStyle = BarcodePicker.GuiStyle.LASER,\n      videoFit = BarcodePicker.ObjectFit.CONTAIN,\n      scanSettings = new ScanSettings(),\n      enableCameraSwitcher = true,\n      enableTorchToggle = true,\n      enableTapToFocus = true,\n      enablePinchToZoom = true,\n      accessCamera = true,\n      camera,\n      cameraSettings,\n      targetScanningFPS = 30\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      videoFit?: BarcodePicker.ObjectFit;\n      scanSettings?: ScanSettings;\n      enableCameraSwitcher?: boolean;\n      enableTorchToggle?: boolean;\n      enableTapToFocus?: boolean;\n      enablePinchToZoom?: boolean;\n      accessCamera?: boolean;\n      camera?: Camera;\n      cameraSettings?: CameraSettings;\n      targetScanningFPS?: number;\n    } = {}\n  ): Promise<BarcodePicker> {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      return Promise.reject(unsupportedBrowserError);\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      return Promise.reject(\n        new CustomError({\n          name: \"LibraryNotConfiguredError\",\n          message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n        })\n      );\n    }\n    if (!(originElement instanceof HTMLElement)) {\n      return Promise.reject(\n        new CustomError({\n          name: \"NoOriginElementError\",\n          message: \"A valid origin HTML element must be given\"\n        })\n      );\n    }\n    if (targetScanningFPS <= 0) {\n      targetScanningFPS = 30;\n    }\n\n    const barcodePicker: BarcodePicker = new BarcodePicker(originElement, {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      videoFit,\n      scanSettings,\n      targetScanningFPS\n    });\n\n    barcodePicker.cameraManager.setUIOptions(\n      enableCameraSwitcher,\n      enableTorchToggle,\n      enableTapToFocus,\n      enablePinchToZoom\n    );\n    barcodePicker.cameraManager.setSelectedCamera(camera);\n    barcodePicker.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n    barcodePicker.cameraAccess = accessCamera;\n\n    // Show error in alert on ScanError by default for easier customer debugging\n    barcodePicker.onScanError(error => {\n      alert(error);\n    });\n\n    if (accessCamera) {\n      return barcodePicker.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(barcodePicker);\n  }\n\n  /**\n   * Stop scanning and displaying video output, remove HTML elements added to the page,\n   * destroy the internal [[Scanner]] and destroy the barcode picker itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the picker anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    this.pauseScanning(true);\n    this.destroyed = true;\n    this.scanner.destroy();\n    this.eventEmitter.removeAllListeners();\n    window.clearInterval(this.resizeInterval);\n    this.removeGlobalListeners();\n    this.grandParentElement.remove();\n    this.originElement.classList.remove(\"scandit-hidden\");\n  }\n\n  /**\n   * Applies a new set of scan settings to the internal scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): BarcodePicker {\n    this.scanner.applyScanSettings(scanSettings);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the scanning is currently paused.\n   */\n  public isScanningPaused(): boolean {\n    return this.scanningPaused;\n  }\n\n  /**\n   * Pause the recognition of codes in the input image.\n   *\n   * By default video from the camera is still shown, if the <i>pauseCamera</i> option is enabled the camera stream\n   * is paused (camera access is fully interrupted) and will be resumed when calling [[resumeScanning]],\n   * possibly requesting user permissions if needed.\n   *\n   * @param pauseCamera Whether to also pause the camera stream.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public pauseScanning(pauseCamera: boolean = false): BarcodePicker {\n    this.scanningPaused = true;\n\n    if (pauseCamera) {\n      this.cameraManager.stopStream();\n    }\n\n    if (this.scanner.isReady()) {\n      this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.add(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * Resume the recognition of codes in the input image.\n   *\n   * If the camera stream was stopped when calling [[pauseScanning]], the camera stream is also resumed and\n   * user permissions are requested if needed to resume video input.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public resumeScanning(): Promise<BarcodePicker> {\n    this.scanningPaused = false;\n\n    if (this.scanner.isReady()) {\n      this.laserPausedImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserActiveImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.remove(\"paused\");\n    }\n\n    if (this.cameraManager.activeCamera == null && this.cameraAccess) {\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * @returns The currently active camera.\n   */\n  public getActiveCamera(): Camera | undefined {\n    return this.cameraManager.activeCamera;\n  }\n\n  /**\n   * Select a camera to be used for video input.\n   *\n   * If camera access is enabled, the camera is enabled and accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param camera The new camera to be used.\n   * @param cameraSettings The camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is set\n   * (and accessed, if camera access is currently enabled).\n   */\n  public setActiveCamera(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCamera(camera);\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.initializeCameraWithSettings(camera, cameraSettings);\n  }\n\n  /**\n   * Try to apply new settings to the currently used camera for video input,\n   * if no settings are passed the default ones are set.\n   *\n   * If camera access is enabled, the camera is updated and accessed with the new settings.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param cameraSettings The new camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is updated\n   * (and accessed, if camera access is currently enabled).\n   */\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.applyCameraSettings(cameraSettings);\n  }\n\n  /**\n   * @returns Whether the picker is in a visible state or not.\n   */\n  public isVisible(): boolean {\n    return this.visible;\n  }\n\n  /**\n   * Enable or disable picker visibility.\n   *\n   * @param visible Whether the picker is in a visible state or not.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVisible(visible: boolean): BarcodePicker {\n    this.visible = visible;\n    if (visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n    } else {\n      this.originElement.classList.add(\"scandit-hidden\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the camera video is mirrored along the vertical axis.\n   */\n  public isMirrorImageEnabled(): boolean {\n    return this.mirrorImage;\n  }\n\n  /**\n   * Enable or disable camera video mirroring along the vertical axis.\n   *\n   * @param enabled Whether the camera video is mirrored along the vertical axis.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setMirrorImageEnabled(enabled: boolean): BarcodePicker {\n    this.mirrorImage = enabled;\n    if (enabled) {\n      this.videoElement.classList.add(\"mirrored\");\n    } else {\n      this.videoElement.classList.remove(\"mirrored\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether a sound should be played on barcode recognition (iOS requires user input).\n   */\n  public isPlaySoundOnScanEnabled(): boolean {\n    return this.playSoundOnScan;\n  }\n\n  /**\n   * Enable or disable playing a sound on barcode recognition (iOS requires user input).\n   *\n   * @param enabled Whether a sound should be played on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setPlaySoundOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.playSoundOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the device should vibrate on barcode recognition (only Chrome & Firefox, requires user input).\n   */\n  public isVibrateOnScanEnabled(): boolean {\n    return this.vibrateOnScan;\n  }\n\n  /**\n   * Enable or disable vibrating the device on barcode recognition (only Chrome & Firefox, requires user input).\n   *\n   * @param enabled Whether the device should vibrate on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVibrateOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.vibrateOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * Enable or disable the torch/flashlight of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the torch to become disabled.\n   *\n   * A button on the [[BarcodePicker]] GUI to let the user toggle this functionality can also be set\n   * on creation via the <i>enableTorchToggle</i> option (enabled by default, when available).\n   *\n   * @param enabled Whether the torch should be enabled or disabled.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTorchEnabled(enabled: boolean): BarcodePicker {\n    this.cameraManager.setTorchEnabled(enabled);\n\n    return this;\n  }\n\n  /**\n   * Set the zoom level of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the zoom to be reset.\n   *\n   * @param zoomPercentage The percentage of the max zoom (between 0 and 1).\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setZoom(zoomPercentage: number): BarcodePicker {\n    this.cameraManager.setZoom(zoomPercentage);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the barcode picker has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the barcode picker can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onReady(listener: () => void): BarcodePicker {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan\" event, fired when new barcodes\n   * are recognized in the image frame. The returned barcodes are affected\n   * by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScan(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan error\" event, fired when an error occurs\n   * during scanning initialization and execution. The barcode picker will be automatically paused when this happens.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with an <tt>ScanditEngineError</tt> object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScanError(listener: (error: Error) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan-error\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan-error\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan error\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan-error\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan error\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan-error\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"processFrame\" event, fired when a new frame is processed.\n   * This event is fired on every frame, independently from the number of recognized barcodes (can be none).\n   * The returned barcodes are affected by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onProcessFrame(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"processFrame\", listener, this);\n    } else {\n      this.eventEmitter.on(\"processFrame\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"processFrame\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeProcessFrameListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"processFrame\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"processFrame\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeProcessFrameListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"processFrame\");\n\n    return this;\n  }\n\n  /**\n   * Set the GUI style for the picker.\n   *\n   * @param guiStyle The new GUI style to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setGuiStyle(guiStyle: BarcodePicker.GuiStyle): BarcodePicker {\n    this.guiStyle = guiStyle;\n\n    switch (this.guiStyle) {\n      case BarcodePicker.GuiStyle.NONE_DEPRECATED:\n      case BarcodePicker.GuiStyle.NONE:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.LASER_DEPRECATED:\n      case BarcodePicker.GuiStyle.LASER:\n        this.laserActiveImageElement.classList.remove(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.remove(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.VIEWFINDER_DEPRECATED:\n      case BarcodePicker.GuiStyle.VIEWFINDER:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.remove(\"scandit-hidden\");\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * Set the fit type for the video element of the picker.\n   *\n   * If the \"cover\" type is selected the maximum available search area for barcode detection is (continuously) adjusted\n   * automatically according to the visible area of the picker.\n   *\n   * @param objectFit The new fit type to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVideoFit(objectFit: BarcodePicker.ObjectFit): BarcodePicker {\n    this.videoFit = objectFit;\n\n    if (objectFit === BarcodePicker.ObjectFit.COVER) {\n      (<any>this.videoElement.style).objectFit = \"cover\";\n      this.videoElement.dataset.objectFit = \"cover\"; // used by \"objectFitPolyfill\" library\n    } else {\n      (<any>this.videoElement.style).objectFit = \"contain\";\n      this.videoElement.dataset.objectFit = \"contain\"; // used by \"objectFitPolyfill\" library\n\n      const scanSettings: ScanSettings = this.scanner.getScanSettings();\n      scanSettings.setBaseSearchArea({ x: 0, y: 0, width: 1.0, height: 1.0 });\n      this.scanner.applyScanSettings(scanSettings);\n    }\n\n    // Retrigger resize\n    this.lastKnownOriginElementWidth = 0;\n    this.lastKnownOriginElementHeight = 0;\n    this.resizeIfNeeded();\n\n    (<any>window).objectFitPolyfill(this.videoElement);\n\n    return this;\n  }\n\n  /**\n   * Access the currently set or default camera, requesting user permissions if needed.\n   * This method is meant to be used after the picker has been initialized with disabled camera access\n   * (<i>cameraAccess</i>=false). Calling this doesn't do anything if the camera has already been accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is accessed.\n   */\n  public accessCamera(): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraAccess = true;\n\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return this.scanner.createParserForFormat(dataFormat);\n  }\n\n  /**\n   * Reassign the barcode picker to a different HTML element.\n   *\n   * All the barcode picker elements inside the current origin element will be moved to the new given one.\n   *\n   * @param originElement The HTMLElement into which all the necessary elements for the picker will be moved.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public reassignOriginElement(originElement: HTMLElement): BarcodePicker {\n    if (!(originElement instanceof HTMLElement)) {\n      throw new CustomError({\n        name: \"NoOriginElementError\",\n        message: \"A valid origin HTML element must be given\"\n      });\n    }\n\n    if (!this.visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n      originElement.classList.add(\"scandit-hidden\");\n    }\n\n    originElement.appendChild(this.grandParentElement);\n    this.checkAndRecoverPlayback();\n    this.resizeIfNeeded();\n\n    this.originElement = originElement;\n\n    return this;\n  }\n\n  /**\n   * Set the target frames per second to be processed by the scanning engine.\n   *\n   * The final speed is limited by the camera framerate (usually 30 FPS) and the frame processing time of the device.\n   * By setting this to lower numbers devices can save power by performing less work during scanning operations,\n   * depending on device speed (faster devices can \"sleep\" for longer periods).\n   *\n   * @param targetScanningFPS The target frames per second to be processed.\n   * Must be a number bigger than 0, by default set to 30.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTargetScanningFPS(targetScanningFPS: number): BarcodePicker {\n    if (targetScanningFPS > 0) {\n      this.targetScanningFPS = targetScanningFPS;\n    }\n\n    return this;\n  }\n\n  private resizeIfNeeded(): void {\n    if (\n      this.videoElement.videoHeight < 1 ||\n      this.originElement.clientHeight < 1 ||\n      (this.lastKnownOriginElementWidth === this.originElement.clientWidth &&\n        this.lastKnownOriginElementHeight === this.originElement.clientHeight)\n    ) {\n      return;\n    }\n\n    this.parentElement.style.maxWidth = null;\n    this.parentElement.style.maxHeight = null;\n\n    const videoRatio: number = this.videoElement.videoWidth / this.videoElement.videoHeight;\n    let width: number = this.originElement.clientWidth;\n    let height: number = this.originElement.clientHeight;\n\n    this.lastKnownOriginElementWidth = width;\n    this.lastKnownOriginElementHeight = height;\n\n    if (this.videoFit === BarcodePicker.ObjectFit.COVER) {\n      let widthPercentage: number = 1;\n      let heightPercentage: number = 1;\n\n      if (videoRatio < width / height) {\n        heightPercentage = Math.min(1, height / (width / videoRatio));\n      } else {\n        widthPercentage = Math.min(1, width / (height * videoRatio));\n      }\n\n      const scanSettings: ScanSettings = this.scanner.getScanSettings();\n      scanSettings.setBaseSearchArea({\n        x: (1 - widthPercentage) / 2,\n        y: (1 - heightPercentage) / 2,\n        width: widthPercentage,\n        height: heightPercentage\n      });\n      this.scanner.applyScanSettings(scanSettings);\n\n      return;\n    }\n\n    if (videoRatio > width / height) {\n      height = width / videoRatio;\n    } else {\n      width = height * videoRatio;\n    }\n\n    this.parentElement.style.maxWidth = `${Math.ceil(width)}px`;\n    this.parentElement.style.maxHeight = `${Math.ceil(height)}px`;\n  }\n\n  private setupVideoElement(videoElement: HTMLVideoElement): void {\n    videoElement.setAttribute(\"autoplay\", \"autoplay\");\n    videoElement.setAttribute(\"playsinline\", \"true\");\n    videoElement.setAttribute(\"muted\", \"muted\");\n    videoElement.className = BarcodePicker.videoElementClassName;\n\n    videoElement.addEventListener(\"canplay\", () => {\n      if (this.cameraManager.activeCamera != null) {\n        // Retrigger resize\n        this.lastKnownOriginElementWidth = 0;\n        this.lastKnownOriginElementHeight = 0;\n        this.resizeIfNeeded();\n\n        this.cameraManager.activeCamera.currentResolution = {\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight\n        };\n        this.videoImageCanvasContext.canvas.width = this.cameraManager.activeCamera.currentResolution.width;\n        this.videoImageCanvasContext.canvas.height = this.cameraManager.activeCamera.currentResolution.height;\n\n        this.scanner.applyImageSettings({\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight,\n          format: ImageSettings.Format.RGBA_8U\n        });\n      }\n    });\n\n    this.parentElement.appendChild(videoElement);\n  }\n\n  private setupVideoImageCanvasElement(videoImageCanvasElement: HTMLCanvasElement): void {\n    const canvasContext: CanvasRenderingContext2D | null = videoImageCanvasElement.getContext(\"2d\");\n    if (canvasContext != null) {\n      this.videoImageCanvasContext = canvasContext;\n    }\n  }\n\n  private flashLaser(): void {\n    this.laserActiveImageElement.classList.remove(\"scandit-flash-color\");\n    // tslint:disable-next-line:no-unused-expression\n    this.laserActiveImageElement.offsetHeight; // Trigger reflow to restart animation\n    this.laserActiveImageElement.classList.add(\"scandit-flash-color\");\n  }\n\n  private flashViewfinder(): void {\n    this.viewfinderElement.classList.remove(\"scandit-flash-white\");\n    // tslint:disable-next-line:no-unused-expression\n    this.viewfinderElement.offsetHeight; // Trigger reflow to restart animation\n    this.viewfinderElement.classList.add(\"scandit-flash-white\");\n  }\n\n  private setupAssets(): void {\n    const scanditLogoImageElement: HTMLImageElement = document.createElement(\"img\");\n    scanditLogoImageElement.src = scanditLogoImage;\n    scanditLogoImageElement.className = BarcodePicker.scanditLogoImageElementClassName;\n    this.parentElement.appendChild(scanditLogoImageElement);\n\n    this.laserActiveImageElement.src = laserActiveImage;\n    this.laserActiveImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserActiveImageElement);\n\n    this.laserPausedImageElement.src = laserPausedImage;\n    this.laserPausedImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserPausedImageElement);\n\n    this.viewfinderElement.className = BarcodePicker.viewfinderElementClassName;\n    this.parentElement.appendChild(this.viewfinderElement);\n\n    // Show inactive GUI, as for now the scanner isn't ready yet\n    this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n    this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n    this.viewfinderElement.classList.add(\"paused\");\n  }\n\n  private checkAndRecoverPlayback(): void {\n    if (this.cameraManager.activeCamera != null && this.videoElement != null && this.videoElement.srcObject != null) {\n      if (!(<MediaStream>this.videoElement.srcObject).active) {\n        this.cameraManager.reinitializeCamera().catch(error => {\n          this.fatalError = error;\n          console.error(error);\n        });\n      } else {\n        const playPromise: Promise<void> = this.videoElement.play();\n\n        if (playPromise != null) {\n          playPromise.catch(() => {\n            // Can sometimes cause an incorrect rejection (all is good, ignore).\n          });\n        }\n      }\n    }\n  }\n\n  private setupGlobalListeners(): void {\n    this.globalListener = this.checkAndRecoverPlayback.bind(this);\n    document.addEventListener(\"visibilitychange\", this.globalListener);\n  }\n\n  private removeGlobalListeners(): void {\n    document.removeEventListener(\"visibilitychange\", this.globalListener);\n  }\n\n  private handleScanResult(scanResult: ScanResult): void {\n    this.eventEmitter.emit(\"processFrame\", scanResult);\n\n    if (scanResult.barcodes.length !== 0) {\n      if (this.guiStyle === BarcodePicker.GuiStyle.LASER || this.guiStyle === BarcodePicker.GuiStyle.LASER_DEPRECATED) {\n        this.flashLaser();\n      } else if (\n        this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER ||\n        this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER_DEPRECATED\n      ) {\n        this.flashViewfinder();\n      }\n      if (this.playSoundOnScan) {\n        this.beepSound.play();\n      }\n      if (this.vibrateOnScan && this.vibrateFunction != null) {\n        this.vibrateFunction.call(navigator, 300);\n      }\n\n      this.eventEmitter.emit(\"scan\", scanResult);\n    }\n  }\n\n  private videoProcessing(): void {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (\n      this.cameraManager.activeCamera == null ||\n      this.cameraManager.activeCamera.currentResolution == null ||\n      this.fatalError != null ||\n      this.scanningPaused ||\n      !this.scanner.isReady() ||\n      this.scanner.isBusyProcessing() ||\n      this.latestVideoTimeProcessed === this.videoElement.currentTime\n    ) {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n      return;\n    }\n\n    if (this.latestVideoTimeProcessed == null) {\n      // Show active GUI if needed, as now it's the moment the scanner is ready and used for the first time\n      this.resumeScanning();\n    }\n\n    const processingStartTime: number = performance.now();\n    this.latestVideoTimeProcessed = this.videoElement.currentTime;\n\n    this.videoImageCanvasContext.drawImage(this.videoElement, 0, 0);\n    try {\n      const imageData: Uint8ClampedArray = this.videoImageCanvasContext.getImageData(\n        0,\n        0,\n        this.videoImageCanvasContext.canvas.width,\n        this.videoImageCanvasContext.canvas.height\n      ).data;\n      this.scanner\n        .processImage(imageData)\n        .then(scanResult => {\n          if (!this.scanningPaused) {\n            this.handleScanResult(scanResult);\n          }\n        })\n        .catch(scanError => {\n          if (!this.scanningPaused) {\n            this.pauseScanning();\n            this.eventEmitter.emit(\"scan-error\", scanError);\n          }\n        });\n    } catch (error) {\n      this.fatalError = error;\n      console.error(error);\n    }\n\n    if (this.targetScanningFPS < 30) {\n      if (this.averageProcessingTime == null) {\n        this.averageProcessingTime = performance.now() - processingStartTime;\n      } else {\n        this.averageProcessingTime = this.averageProcessingTime * 0.9 + (performance.now() - processingStartTime) * 0.1;\n      }\n      const nextProcessingCallDelay: number = 1000 / this.targetScanningFPS - this.averageProcessingTime;\n      if (nextProcessingCallDelay > 16) {\n        // More than 60 FPS, we have time to sleep (slower than requestAnimationFrame)\n        window.setTimeout(() => {\n          this.videoProcessing();\n        }, nextProcessingCallDelay);\n      } else {\n        window.requestAnimationFrame(this.videoProcessing.bind(this));\n      }\n    } else {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n    }\n  }\n}\n\n// istanbul ignore next\nexport namespace BarcodePicker {\n  /**\n   * GUI style to be used by a barcode picker, used to hint barcode placement in the frame.\n   */\n  export enum GuiStyle {\n    /**\n     * @hidden\n     * @deprecated\n     */\n    NONE_DEPRECATED = 0,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    LASER_DEPRECATED = 1,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    VIEWFINDER_DEPRECATED = 2,\n    /**\n     * No GUI is shown to indicate where the barcode should be placed.\n     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.\n     */\n    NONE = \"none\",\n    /**\n     * A laser line is shown.\n     */\n    LASER = \"laser\",\n    /**\n     * A rectangular viewfinder with rounded corners is shown.\n     */\n    VIEWFINDER = \"viewfinder\"\n  }\n\n  /**\n   * Fit type used to control the resizing (scale) of the barcode picker to fit in its container <i>originElement</i>.\n   */\n  export enum ObjectFit {\n    /**\n     * Scale to maintain aspect ratio while fitting within the <i>originElement</i>'s content box.\n     * Aspect ratio is preserved, so the barcode picker will be \"letterboxed\" if its aspect ratio\n     * does not match the aspect ratio of the box.\n     */\n    CONTAIN = \"contain\",\n    /**\n     * Scale to maintain aspect ratio while filling the <i>originElement</i>'s entire content box.\n     * Aspect ratio is preserved, so the barcode picker will be clipped to fit if its aspect ratio\n     * does not match the aspect ratio of the box.\n     */\n    COVER = \"cover\"\n  }\n}\n","import \"objectFitPolyfill\";\nimport \"webrtc-adapter\";\n\nimport { BrowserHelper } from \"./lib/browserHelper\";\nimport { CameraAccess } from \"./lib/cameraAccess\";\nimport { CustomError } from \"./lib/customError\";\nimport { ImageSettings } from \"./lib/imageSettings\";\nimport { Scanner } from \"./lib/scanner\";\n\nimport \"./styles/styles.scss\";\n\nexport * from \"./lib/barcode\";\nexport * from \"./lib/barcodeEncodingRange\";\nexport * from \"./lib/barcodePicker\";\nexport * from \"./lib/browserHelper\";\nexport * from \"./lib/camera\";\nexport * from \"./lib/cameraAccess\";\nexport * from \"./lib/cameraSettings\";\nexport * from \"./lib/customError\";\nexport * from \"./lib/imageSettings\";\nexport * from \"./lib/point\";\nexport * from \"./lib/quadrilateral\";\nexport * from \"./lib/parser\";\nexport * from \"./lib/parserField\";\nexport * from \"./lib/parserResult\";\nexport * from \"./lib/scanResult\";\nexport * from \"./lib/scanner\";\nexport * from \"./lib/scanSettings\";\nexport * from \"./lib/searchArea\";\nexport * from \"./lib/symbologySettings\";\n\n/**\n * @hidden\n */\nexport let deviceId: string = BrowserHelper.getDeviceId();\n/**\n * @hidden\n */\nexport let userLicenseKey: string;\n/**\n * @hidden\n */\nexport let scanditEngineLocation: string;\n\n/**\n * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called as first thing\n * before using any other function of the library.\n *\n * Depending on parameters, device features and user permissions for camera access, any of the following errors\n * could be the rejected result of the returned promise:\n * - <tt>NoLicenseKeyError</tt>\n * - <tt>UnsupportedBrowserError</tt>\n * - <tt>PermissionDeniedError</tt>\n * - <tt>NotAllowedError</tt>\n * - <tt>NotFoundError</tt>\n * - <tt>AbortError</tt>\n * - <tt>NotReadableError</tt>\n * - <tt>InternalError</tt>\n *\n * If the external Scandit Engine library is not loaded now, it can later be loaded via [[loadEngineLibrary]],\n * or it will be downloaded and prepared automatically when needed by other objects/functions.\n *\n * If the cameras are not accessed now, they can later be loaded via [[CameraAccess.getCameras]],\n * or they will be accessed automatically when needed by other objects/functions.\n *\n * Please note that preloading the Scandit Engine library only downloads the library and puts it in a local cache\n * if available (then loads it and verifies the license key). When the library is then required and used by a\n * [[BarcodePicker]] instance the external Scandit Engine library needs to be parsed and executed again and thus still\n * requires some time to be ready. To make the process faster it's recommended, if possible, to instead prepare\n * in advance library and cameras via a hidden [[BarcodePicker]] instead.\n *\n * @param licenseKey The Scandit license key to be used by the library.\n * @param engineLocation <div class=\"tsd-signature-symbol\">Default =&nbsp;\"/\"</div>\n * The location of the folder containing the external scandit-engine-sdk.min.js and\n * scandit-engine-sdk.wasm files (external Scandit Engine library).\n * By default they are retrieved from the root of the web application.\n * Can be a full URL to folder or an absolute folder path.\n * @param preloadEngineLibrary <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly download and prepare the external Scandit Engine library with this call.\n * @param preloadCameras <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly request access (if needed) and access available cameras with this call.\n * @returns A promise resolving when the library has loaded and the available cameras are loaded (if selected).\n */\nexport function configure(\n  licenseKey: string,\n  {\n    engineLocation = \"/\",\n    preloadEngineLibrary = false,\n    preloadCameras = false\n  }: {\n    engineLocation?: string;\n    preloadEngineLibrary?: boolean;\n    preloadCameras?: boolean;\n  } = {}\n): Promise<void> {\n  const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n  if (unsupportedBrowserError != null) {\n    return Promise.reject(unsupportedBrowserError);\n  }\n\n  if (licenseKey == null || licenseKey.trim() === \"\") {\n    return Promise.reject(new CustomError({ name: \"NoLicenseKeyError\", message: \"No license key provided\" }));\n  }\n  userLicenseKey = licenseKey;\n\n  engineLocation += engineLocation.slice(-1) === \"/\" ? \"\" : \"/\";\n  if (/^https?:\\/\\//.test(engineLocation)) {\n    scanditEngineLocation = `${engineLocation}`;\n  } else {\n    engineLocation = engineLocation\n      .split(\"/\")\n      .filter(s => {\n        return s.length > 0;\n      })\n      .join(\"/\");\n    if (engineLocation === \"\") {\n      engineLocation = \"/\";\n    } else {\n      engineLocation = `/${engineLocation}/`;\n    }\n    scanditEngineLocation = `${location.origin}${engineLocation}`;\n  }\n\n  const promises: Promise<any>[] = [];\n\n  if (preloadEngineLibrary) {\n    promises.push(loadEngineLibrary());\n  }\n\n  if (preloadCameras) {\n    promises.push(CameraAccess.getCameras());\n  }\n\n  return Promise.all(promises)\n    .then(() => {\n      return;\n    })\n    .catch(error => {\n      return Promise.reject(error);\n    });\n}\n\n/**\n * Download and prepare in memory the external Scandit Engine library.\n * If this method isn't called manually the library will be automatically loaded the first\n * time it's required by another of this library's components.\n *\n * @returns A promise resolving when the external Scandit Engine library has been loaded and is ready.\n */\nexport function loadEngineLibrary(): Promise<void> {\n  try {\n    const scanner: Scanner = new Scanner();\n    scanner.applyImageSettings({ width: 2, height: 2, format: ImageSettings.Format.GRAY_8U });\n\n    return scanner.processImage(new Uint8ClampedArray(4)).then(() => {\n      return;\n    });\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n"],"names":["ceil","Math","floor","it","isNaN","undefined","TypeError","TO_STRING","that","pos","s","String","defined","i","toInteger","l","length","a","b","charCodeAt","charAt","slice","global","module","window","self","Function","__g","core","version","__e","fn","aFunction","call","c","apply","arguments","isObject","exec","e","require$$0","Object","defineProperty","get","document","is","createElement","require$$1","require$$2","S","val","toString","valueOf","dP","O","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","value","bitmap","enumerable","configurable","writable","object","key","f","createDesc","PROTOTYPE","$export","type","name","source","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","own","out","ctx","C","this","virtual","R","hide","U","hasOwnProperty","propertyIsEnumerable","cof","split","IObject","min","max","index","IS_INCLUDES","$this","el","fromIndex","toIObject","toLength","toAbsoluteIndex","SHARED","store","id","px","random","concat","shared","uid","arrayIndexOf","IE_PROTO","names","result","has","push","keys","$keys","enumBugKeys","defineProperties","Properties","getKeys","documentElement","Empty","createDict","iframe","lt","gt","iframeDocument","style","display","appendChild","src","contentWindow","open","write","close","create","dPs","Symbol","USE_SYMBOL","$exports","def","TAG","tag","stat","prototype","IteratorPrototype","Constructor","NAME","next","descriptor","setToStringTag","ObjectProto","getPrototypeOf","toObject","constructor","ITERATOR","BUGGY","FF_ITERATOR","KEYS","VALUES","returnThis","Base","DEFAULT","IS_SET","FORCED","$iterCreate","getMethod","kind","proto","values","entries","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","methods","LIBRARY","Iterators","redefine","$at","iterated","_t","_i","point","done","Array","_k","step","Arguments","addToUnscopables","TO_STRING_TAG","DOMIterables","Collection","ARG","tryGet","T","callee","forbiddenField","iterator","ret","ArrayProto","getIteratorMethod","classof","BREAK","RETURN","iterable","iterFn","getIterFn","isArrayIter","SPECIES","D","args","un","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","defer","channel","port","run","listener","event","data","invoke","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","removeChild","setTimeout","set","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","resolve","promise","then","task","PromiseCapability","reject","$$resolve","$$reject","v","x","promiseCapability","newPromiseCapability","safe","KEY","DESCRIPTORS","SAFE_CLOSING","riter","skipClosing","arr","iter","microtask","PROMISE","$Promise","empty","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","newPromiseCapabilityModule","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","console","perform","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","anInstance","err","require$$3","onFulfilled","onRejected","speciesConstructor","catch","require$$4","require$$5","require$$6","r","capability","promiseResolve","require$$7","all","remaining","forOf","$index","alreadyCalled","race","finally","onFinally","isFunction","try","callbackfn","default","__esModule","t","navigator","userAgent","match","parseInt","objectFitPolyfill","getComputedStyle","getPropertyValue","n","o","position","overflow","clientHeight","height","className","indexOf","max-width","max-height","min-width","min-height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","d","clientWidth","dataset","objectFit","getAttribute","objectPosition","parentNode","width","marginTop","marginLeft","querySelectorAll","nodeName","toLowerCase","readyState","complete","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","wrapPeerConnectionEvent","eventNameToWrap","RTCPeerConnection","nativeAddEventListener","nativeEventName","cb","wrappedCallback","_eventMap","nativeRemoveEventListener","removeEventListener","unwrappedCb","disableLog","bool","Error","disableWarnings","log","deprecated","oldMethod","newMethod","warn","detectBrowser","browser","mozGetUserMedia","webkitGetUserMedia","mediaDevices","logging","utils","browserDetails","constraintsToChrome_","mandatory","optional","cc","forEach","ideal","exact","oldname_","prefix","toUpperCase","oc","mix","advanced","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","obj","video","face","facingMode","getSupportedFacingModeLies","getSupportedConstraints","matches","enumerateDevices","devices","filter","dev","find","some","label","deviceId","shimError_","PermissionDeniedError","PermissionDismissedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","message","constraint","constraintName","getUserMedia_","onSuccess","onError","getUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","map","device","groupId","echoCancellation","frameRate","origGetUserMedia","bind","cs","stream","getAudioTracks","getVideoTracks","getTracks","track","stop","DOMException","shimGetUserMedia","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","_ontrack","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","te","receiver","getReceivers","Event","transceiver","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","splice","origAddStream","addStream","origRemoveStream","removeStream","RTCRtpSender","origGetSenders","senders","shimSourceObject","URL","HTMLMediaElement","_srcObject","revokeObjectURL","createObjectURL","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","alreadyExists","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","signalingState","oldStream","replaceInternalStreamId","description","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","replaceExternalStreamId","method","nativeMethod","isLegacyCall","desc","origSetLocalDescription","setLocalDescription","origLocalDescription","getOwnPropertyDescriptor","isLocal","streamid","hasTrack","shimPeerConnection","webkitRTCPeerConnection","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","generateCertificate","OrigPeerConnection","iceServers","newIceServers","server","urls","url","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","reports","report","standardStats","timestamp","localcandidate","remotecandidate","makeMapStats","stats","Map","successCallbackWrapper_","opts","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","SDPUtils","generateIdentifier","substr","localCName","splitLines","blob","trim","line","splitSections","parts","part","getDescription","sections","getMediaSections","shift","matchPrefix","parseCandidate","substring","candidate","foundation","component","protocol","priority","ip","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","join","parseIceOptions","parseRtpMap","parsed","payloadType","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","params","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","iceParameters","password","writeIceParameters","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","secondarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","sessionId","writeMediaSection","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","parseOLine","username","sessionVersion","netType","addressType","address","fixStatsType","inboundrtp","outboundrtp","candidatepair","dtlsRole","trackId","_initialTrackId","filterIceServers","edgeVersion","hasTurn","isString","validTurn","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","offer","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","makeError","code","NotSupportedError","InvalidAccessError","OperationError","addTrackToStreamAndFireEvent","MediaStreamTrackEvent","removeTrackFromStreamAndFireEvent","fireAddTrack","trackEvent","_dispatchEvent","config","_eventTarget","createDocumentFragment","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","localDescription","remoteDescription","iceConnectionState","connectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_isClosed","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","doNotAdd","hasBundleTransport","recvEncodingParameters","associatedRemoteMediaStreams","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","enabled","_createIceGatherer","sdpMLineIndex","bufferedCandidateEvents","bufferCandidates","end","state","_gather","onlocalcandidate","evt","sdpMid","cand","serializedCandidate","assign","toJSON","every","RTCIceTransport","onicestatechange","_updateIceConnectionState","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","p","receive","isIceLite","rejected","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","nativeTrack","sid","item","newState","states","new","closed","checking","connected","completed","disconnected","failed","connecting","createOffer","numAudioTracks","numVideoTracks","offerOptions","offerToReceiveAudio","offerToReceiveVideo","remoteCodec","hdrExt","remoteExtensions","rHdrExt","getLocalCandidates","createAnswer","mediaSectionsInOffer","localTrack","hasRtx","candidateString","senderOrReceiver","promises","allStats","results","ortcObjects","ortcObjectName","nativeGetstats","nativeStats","mapStats","origMSTEnabled","ev","RTCDtmfSender","RTCDTMFSender","shimRTCPeerConnection","shimReplaceTrack","replaceTrack","setTrack","InternalError","SecurityError","The operation is insecure.","constraintsToFF37_","require","infos","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","shimRemoveStream","shimLocalStreamsAPI","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","shimRemoteStreamsAPI","_onaddstream","_onaddstreampoly","shimCallbacksAPI","failureCallback","options","withCallback","errcb","shimRTCIceServerUrls","shimTrackEventTransceiver","RTCTransceiver","shimCreateOfferLegacy","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","shimCreateObjectURL","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","shimMaxMessageSize","RTCSctpTransport","_sctp","sctpInDescription","mLine","getRemoteFirefoxVersion","getCanSendMaxMessageSize","remoteIsFirefox","canSendMaxMessageSize","getMaxMessageSize","maxMessageSize","isFirefox","canSendMMS","remoteMMS","Number","POSITIVE_INFINITY","sctp","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","origDataChannelSend","dc","size","byteLength","dependencies","shimChrome","shimFirefox","shimEdge","shimSafari","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","adapter","browserShim","adapterFactory","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","$Symbol","wksExt","getOwnPropertySymbols","getSymbols","gOPS","symbols","isEnum","pIE","isArray","arg","hiddenKeys","getOwnPropertyNames","gOPN","windowNames","getWindowNames","gOPD","$GOPD","$DP","gOPNExt","$JSON","_stringify","HIDDEN","wks","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","$fails","_create","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","enumKeys","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","k","wksDefine","for","keyFor","useSetter","useSimple","replacer","$replacer","_iterator2","_interopRequireDefault","_iterator","_symbol2","_symbol","_typeof","check","setPrototypeOf","test","buggy","__proto__","exp","fails","$getPrototypeOf","instance","_typeof3","_typeof2","ReferenceError","$Object","_setPrototypeOf2","_setPrototypeOf","_create2","subClass","superClass","CustomError","BrowserHelper","Worker","WebAssembly","Blob","cookieMatch","cookie","cookieValue","pop","expirationDays","date","Date","setTime","getTime","toUTCString","cookieKey","storedDeviceId","getCookieValue","hexCharacters","randomDeviceId","Camera","Type","CameraAccess","backCameraKeywords","unsupportedBrowserError","checkBrowserCompatibility","accessPermissionPromise","_Promise","mediaStream","cameras","videoDevice","lowercaseLabel","keyword","BACK","FRONT","camera","cameraType","resolutionFallbackLevel","getUserMediaParams","ImageSettings","Format","$assign","A","K","aLen","_defineProperty2","_defineProperty","props","protoProps","staticProps","Events","EE","context","once","addListener","emitter","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","len","removeListener","on","removeAllListeners","off","prefixed","imageBufferPointer","licenseKey","settings","imageSettings","wasmLoaded","scannerSettingsReady","scannerImageSettingsReady","scanQueue","parseQueue","contextAvailable","scanWorkSubmitted","parseWorkSubmitted","blurryDecodingEnabled","wasmURI","wasmVersion","importObject","dbName","storeName","db","openDBRequest","indexedDB","onsuccess","transaction","objectStore","request","onupgradeneeded","objectStoreNames","contains","deleteObjectStore","createObjectStore","moduleObject","put","debug","instantiate","errMsg","arrayBuffer","bytes","instantiateStreaming","fetch","libraryLocation","customModule","pow","reduce","mkdir","mount","IDBFS","syncfs","callMain","Module","licenseKeyLength","lengthBytesUTF8","licenseKeyPointer","_malloc","stringToUTF8","asm","_create_context","_free","settingsLength","settingsPointer","resultPointer","_scanner_settings_new_from_json","UTF8ToString","channels","format","_scanner_image_settings_new","imageData","HEAPU8","Uint8Array","_scanner_scan","dataFormat","dataString","dataStringLength","dataStringPointer","optionsLength","optionsPointer","_parser_parse_string","currentScanWorkUnit","resultData","scanImage","requestId","currentParseWorkUnit","parseString","engineSDKWorker","engineSDKWorkerFunction","Barcode","decodedData","decodeURIComponent","escape","fromCharCode","rawData","symbology","location","y","compositeFlag","isGs1DataCarrier","encodingArray","Symbology","CompositeFlag","EAN13","EAN8","UPCA","UPCE","CODE128","CODE39","CODE93","INTERLEAVED_2_OF_5","QR","DATA_MATRIX","PDF417","MSI_PLESSEY","GS1_DATABAR","GS1_DATABAR_EXPANDED","CODABAR","AZTEC","TWO_DIGIT_ADD_ON","FIVE_DIGIT_ADD_ON","MAXICODE","CODE11","GS1_DATABAR_LIMITED","CODE25","MICRO_PDF417","RM4SCC","KIX","DOTCODE","scanner","dataRaw","Parser","DataFormat","isEntries","$values","getIterator","from","arrayLike","mapfn","mapping","createProperty","_from2","_from","arr2","TYPE","SIZE","getEntry","entry","_f","getConstructor","IS_MAP","ADDER","_l","redefineAll","validate","prev","setStrong","$iterDefine","setSpecies","original","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","asc","res","each","common","IS_WEAK","IS_ADDER","SET","Set","add","strong","COLLECTION","of","mapFn","nextItem","colorInvertedEnabled","activeSymbolCounts","extensions","checksums","customExtensions","customChecksums","_Array$from","SymbologySettings","Extension","_Object$values","Checksum","minCount","maxCount","_","checksum","enabledSymbologies","codeDuplicateFilter","maxNumberOfCodesPerFrame","searchArea","symbologySettings","enableSymbologies","baseSearchArea","symbologies","toJSONName","_this","combinedSearchArea","isFullSearchArea","round","_JSON$stringify","ls","isEnabled","setSymbologiesEnabled","durationMilliseconds","limit","setEnabled","scanSettings","ScanSettings","userLicenseKey","isReadyToWork","workerScanQueueLength","engineWokerOnMessage","scanditEngineLocation","eventEmitter","workerParseRequestId","workerScanRequestId","applyLicenseKey","applyScanSettings","applyImageSettings","terminate","toJSONString","GRAY_8U","RGB_8U","RGBA_8U","workResultEvent","workErrorEvent","originalImageData","createFromWASMResult","errorCode","errorMessage","errorObject","buffer","parseStringResultEvent","_this2","parseStringErrorEvent","parserResult","fields","parserField","fieldsByName","messageType","messageData","init","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","parseFloat","gain","setValueAtTime","currentTime","_webAudio","_getSoundIds","u","_soundById","_node","mute","muted","unload","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","canPlayType","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","_autoResume","createBufferSource","connect","destination","noteOn","resume","onended","disconnect","suspend","_sounds","_paused","_suspendTimer","clearTimeout","_resumeAfterSuspend","_emit","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhrWithCredentials","xhrWithCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","load","_ended","_id","_inactiveSound","_loadQueue","_seek","abs","_start","_stop","_refreshBuffer","_playStart","bufferSource","noteGrainOn","_clearTimer","playbackRate","paused","m","ejecta","isCocoonJS","pause","seek","_rateSeek","_stopFade","noteOff","_cleanBuffer","duration","_interval","fade","linearRampToValueAtTime","_startFadeInterval","_fadeTo","setInterval","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","_errorFn","_loadFn","ended","_drain","reset","_panner","_parent","createGain","createGainNode","_errorListener","_loadListener","__default","atob","XMLHttpRequest","withCredentials","responseType","status","decodeAudioData","AudioContext","webkitAudioContext","platform","appVersion","standalone","define","amd","Howler","Howl","HowlerGlobal","Sound","beepSound","scanditLogoImage","laserActiveImage","laserPausedImage","switchCameraImage","toggleTorchImage","hypot","value1","value2","sum","larg","div","Infinity","sqrt","CameraSettings","ResolutionPreference","barcodePicker","postStreamInitialization","triggerManualFocus","triggerZoomStart","triggerZoomMove","setupCameraSwitcher","setupTorchToggle","enableCameraSwitcher","enableTorchToggle","enableTapToFocus","enablePinchToZoom","selectedCamera","cameraSettings","selectedCameraSettings","getCameras","cameraSwitcherElement","classList","remove","autoselectedCamera","currentCamera","initializeCameraWithSettings","activeCamera","currentResolution","cameraAccessTimeout","cameraMetadataCheckInterval","getCapabilitiesTimeout","manualFocusWaitTimeout","manualToAutofocusResumeTimeout","autofocusInterval","mediaTrackCapabilities","activeCameraSettings","resolutionPreference","FULL_HD","initializeCamera","torch","videoTracks","zoomPercentage","currentZoom","zoom","zoomRange","targetZoom","storeStreamCapabilities","setupAutofocus","torchToggleElement","BarcodePickerCameraManager","getCapabilitiesTimeoutMs","preventDefault","touches","pinchToZoomDistance","focusModeCapability","focusMode","triggerFocusMode","manualFocusWaitTimeoutMs","manualToAutofocusResumeTimeoutMs","_this3","triggerAutoFocus","autofocusIntervalMs","_Math$hypot","screenX","screen","screenY","getConstraints","pinchToZoomInitialZoom","currentConstraints","currentZoomConstraint","setZoom","videoElement","eventName","_this4","triggerManualFocusListener","triggerZoomStartListener","triggerZoomMoveListener","stopStream","torchEnabled","accessCameraStream","mediaTrackSettings","_this5","postStreamInitializationListener","enableTapToFocusListeners","enablePinchToZoomListeners","resolveInitializeCamera","playPromise","newCamera","error2","cameraNotReadableError","cameraAccessTimeoutMs","isIOSDevice","onloadstart","_this6","setMirrorImageEnabled","onloadeddata","videoWidth","videoHeight","cameraMetadataCheckStartTime","performance","cameraMetadataCheckTimeoutMs","cameraMetadataCheckIntervalMs","BarcodePicker","cameraSwitcherElementClassName","parentElement","newCameraIndex","findIndex","_this7","torchToggleElementClassName","_this8","setTorchEnabled","originElement","visible","playSoundOnScan","vibrateOnScan","scanningPaused","guiStyle","GuiStyle","LASER","videoFit","ObjectFit","CONTAIN","targetScanningFPS","destroyed","vibrateFunction","vibrate","webkitVibrate","mozVibrate","msVibrate","grandParentElement","grandParentElementClassName","parentElementClassName","setupVideoElement","setupVideoImageCanvasElement","setVisible","setPlaySoundOnScanEnabled","setVibrateOnScanEnabled","setTargetScanningFPS","Scanner","onReady","requestAnimationFrame","videoProcessing","resizeInterval","resizeIfNeeded","laserActiveImageElement","laserPausedImageElement","viewfinderElement","setupAssets","setGuiStyle","setVideoFit","setupGlobalListeners","cameraManager","pauseScanning","destroy","removeGlobalListeners","pauseCamera","isReady","cameraAccess","setupCameras","setSelectedCamera","setSelectedCameraSettings","applyCameraSettings","mirrorImage","NONE_DEPRECATED","NONE","LASER_DEPRECATED","VIEWFINDER_DEPRECATED","VIEWFINDER","COVER","getScanSettings","setBaseSearchArea","lastKnownOriginElementWidth","lastKnownOriginElementHeight","createParserForFormat","HTMLElement","checkAndRecoverPlayback","maxWidth","maxHeight","videoRatio","widthPercentage","heightPercentage","videoElementClassName","videoImageCanvasContext","canvas","videoImageCanvasElement","canvasContext","getContext","offsetHeight","scanditLogoImageElement","scanditLogoImageElementClassName","laserImageElementClassName","viewfinderElementClassName","active","reinitializeCamera","fatalError","globalListener","scanResult","barcodes","flashLaser","flashViewfinder","isBusyProcessing","latestVideoTimeProcessed","resumeScanning","processingStartTime","drawImage","getImageData","processImage","handleScanResult","scanError","averageProcessingTime","nextProcessingCallDelay","accessCamera","setUIOptions","onScanError","getDeviceId","engineLocation","preloadEngineLibrary","preloadCameras","origin","loadEngineLibrary","Uint8ClampedArray"],"mappings":"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"}