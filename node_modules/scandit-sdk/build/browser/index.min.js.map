{"version":3,"file":"index.min.js","sources":["../../node_modules/core-js/library/modules/_to-integer.js","../../node_modules/core-js/library/modules/_defined.js","../../node_modules/core-js/library/modules/_string-at.js","../../node_modules/core-js/library/modules/_library.js","../../node_modules/core-js/library/modules/_global.js","../../node_modules/core-js/library/modules/_core.js","../../node_modules/core-js/library/modules/_a-function.js","../../node_modules/core-js/library/modules/_ctx.js","../../node_modules/core-js/library/modules/_is-object.js","../../node_modules/core-js/library/modules/_an-object.js","../../node_modules/core-js/library/modules/_fails.js","../../node_modules/core-js/library/modules/_descriptors.js","../../node_modules/core-js/library/modules/_dom-create.js","../../node_modules/core-js/library/modules/_ie8-dom-define.js","../../node_modules/core-js/library/modules/_to-primitive.js","../../node_modules/core-js/library/modules/_object-dp.js","../../node_modules/core-js/library/modules/_property-desc.js","../../node_modules/core-js/library/modules/_hide.js","../../node_modules/core-js/library/modules/_export.js","../../node_modules/core-js/library/modules/_redefine.js","../../node_modules/core-js/library/modules/_has.js","../../node_modules/core-js/library/modules/_cof.js","../../node_modules/core-js/library/modules/_iobject.js","../../node_modules/core-js/library/modules/_to-iobject.js","../../node_modules/core-js/library/modules/_to-length.js","../../node_modules/core-js/library/modules/_to-absolute-index.js","../../node_modules/core-js/library/modules/_array-includes.js","../../node_modules/core-js/library/modules/_shared.js","../../node_modules/core-js/library/modules/_uid.js","../../node_modules/core-js/library/modules/_shared-key.js","../../node_modules/core-js/library/modules/_object-keys-internal.js","../../node_modules/core-js/library/modules/_enum-bug-keys.js","../../node_modules/core-js/library/modules/_object-keys.js","../../node_modules/core-js/library/modules/_object-dps.js","../../node_modules/core-js/library/modules/_html.js","../../node_modules/core-js/library/modules/_object-create.js","../../node_modules/core-js/library/modules/_wks.js","../../node_modules/core-js/library/modules/_set-to-string-tag.js","../../node_modules/core-js/library/modules/_iter-create.js","../../node_modules/core-js/library/modules/_to-object.js","../../node_modules/core-js/library/modules/_object-gpo.js","../../node_modules/core-js/library/modules/_iter-define.js","../../node_modules/core-js/library/modules/es6.string.iterator.js","../../node_modules/core-js/library/modules/_add-to-unscopables.js","../../node_modules/core-js/library/modules/_iter-step.js","../../node_modules/core-js/library/modules/es6.array.iterator.js","../../node_modules/core-js/library/modules/web.dom.iterable.js","../../node_modules/core-js/library/modules/_classof.js","../../node_modules/core-js/library/modules/_task.js","../../node_modules/core-js/library/modules/_an-instance.js","../../node_modules/core-js/library/modules/_iter-call.js","../../node_modules/core-js/library/modules/_is-array-iter.js","../../node_modules/core-js/library/modules/core.get-iterator-method.js","../../node_modules/core-js/library/modules/_for-of.js","../../node_modules/core-js/library/modules/_species-constructor.js","../../node_modules/core-js/library/modules/_invoke.js","../../node_modules/core-js/library/modules/_microtask.js","../../node_modules/core-js/library/modules/_new-promise-capability.js","../../node_modules/core-js/library/modules/_perform.js","../../node_modules/core-js/library/modules/_promise-resolve.js","../../node_modules/core-js/library/modules/_redefine-all.js","../../node_modules/core-js/library/modules/_set-species.js","../../node_modules/core-js/library/modules/_iter-detect.js","../../node_modules/core-js/library/modules/es6.promise.js","../../node_modules/core-js/library/modules/es7.promise.finally.js","../../node_modules/core-js/library/modules/es7.promise.try.js","../../node_modules/core-js/library/fn/promise.js","../../node_modules/babel-runtime/core-js/promise.js","../../node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js","../../node_modules/webrtc-adapter/src/js/utils.js","../../node_modules/webrtc-adapter/src/js/chrome/getusermedia.js","../../node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js","../../node_modules/sdp/sdp.js","../../node_modules/rtcpeerconnection-shim/rtcpeerconnection.js","../../node_modules/webrtc-adapter/src/js/edge/getusermedia.js","../../node_modules/webrtc-adapter/src/js/edge/edge_shim.js","../../node_modules/webrtc-adapter/src/js/firefox/getusermedia.js","../../node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js","../../node_modules/webrtc-adapter/src/js/safari/safari_shim.js","../../node_modules/webrtc-adapter/src/js/common_shim.js","../../node_modules/webrtc-adapter/src/js/adapter_factory.js","../../node_modules/webrtc-adapter/src/js/adapter_core.js","../../node_modules/core-js/library/modules/_wks-ext.js","../../node_modules/core-js/library/fn/symbol/iterator.js","../../node_modules/babel-runtime/core-js/symbol/iterator.js","../../node_modules/core-js/library/modules/_meta.js","../../node_modules/core-js/library/modules/_wks-define.js","../../node_modules/core-js/library/modules/_object-gops.js","../../node_modules/core-js/library/modules/_object-pie.js","../../node_modules/core-js/library/modules/_enum-keys.js","../../node_modules/core-js/library/modules/_is-array.js","../../node_modules/core-js/library/modules/_object-gopn.js","../../node_modules/core-js/library/modules/_object-gopn-ext.js","../../node_modules/core-js/library/modules/_object-gopd.js","../../node_modules/core-js/library/modules/es6.symbol.js","../../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../../node_modules/core-js/library/modules/es7.symbol.observable.js","../../node_modules/core-js/library/fn/symbol/index.js","../../node_modules/babel-runtime/core-js/symbol.js","../../node_modules/babel-runtime/helpers/typeof.js","../../node_modules/core-js/library/modules/_set-proto.js","../../node_modules/core-js/library/modules/es6.object.set-prototype-of.js","../../node_modules/core-js/library/fn/object/set-prototype-of.js","../../node_modules/babel-runtime/core-js/object/set-prototype-of.js","../../node_modules/core-js/library/modules/_object-sap.js","../../node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../../node_modules/core-js/library/fn/object/get-prototype-of.js","../../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../../node_modules/babel-runtime/helpers/classCallCheck.js","../../node_modules/babel-runtime/helpers/possibleConstructorReturn.js","../../node_modules/core-js/library/modules/es6.object.create.js","../../node_modules/core-js/library/fn/object/create.js","../../src/lib/camera.ts","../../src/lib/imageSettings.ts","../../src/lib/cameraAccess.ts","../../src/lib/browserHelper.ts","../../node_modules/babel-runtime/core-js/object/create.js","../../node_modules/babel-runtime/helpers/inherits.js","../../src/lib/customError.ts","../../node_modules/core-js/library/fn/json/stringify.js","../../node_modules/babel-runtime/core-js/json/stringify.js","../../node_modules/core-js/library/modules/_object-assign.js","../../node_modules/core-js/library/modules/es6.object.assign.js","../../node_modules/core-js/library/fn/object/assign.js","../../node_modules/babel-runtime/core-js/object/assign.js","../../node_modules/core-js/library/modules/es6.object.define-property.js","../../node_modules/core-js/library/fn/object/define-property.js","../../src/lib/parser.ts","../../src/lib/barcode.ts","../../node_modules/babel-runtime/core-js/object/define-property.js","../../node_modules/babel-runtime/helpers/createClass.js","../../node_modules/eventemitter3/index.js","../../src/lib/workers/engineSDKWorker.ts","../../node_modules/core-js/library/modules/_object-to-array.js","../../node_modules/core-js/library/modules/es7.object.values.js","../../node_modules/core-js/library/fn/object/values.js","../../node_modules/babel-runtime/core-js/object/values.js","../../node_modules/core-js/library/modules/core.get-iterator.js","../../node_modules/babel-runtime/core-js/get-iterator.js","../../node_modules/core-js/library/modules/es6.object.keys.js","../../node_modules/core-js/library/fn/object/keys.js","../../node_modules/babel-runtime/core-js/object/keys.js","../../node_modules/core-js/library/modules/_create-property.js","../../node_modules/core-js/library/modules/es6.array.from.js","../../node_modules/core-js/library/fn/array/from.js","../../node_modules/babel-runtime/core-js/array/from.js","../../node_modules/babel-runtime/helpers/toConsumableArray.js","../../node_modules/core-js/library/modules/_validate-collection.js","../../node_modules/core-js/library/modules/_collection-strong.js","../../node_modules/core-js/library/modules/_array-species-constructor.js","../../node_modules/core-js/library/modules/_array-species-create.js","../../node_modules/core-js/library/modules/_array-methods.js","../../node_modules/core-js/library/modules/_collection.js","../../node_modules/core-js/library/modules/es6.set.js","../../node_modules/core-js/library/modules/_array-from-iterable.js","../../node_modules/core-js/library/modules/_collection-to-json.js","../../node_modules/core-js/library/modules/es7.set.to-json.js","../../node_modules/core-js/library/modules/_set-collection-of.js","../../node_modules/core-js/library/modules/es7.set.of.js","../../node_modules/core-js/library/modules/_set-collection-from.js","../../node_modules/core-js/library/modules/es7.set.from.js","../../node_modules/core-js/library/fn/set.js","../../src/lib/symbologySettings.ts","../../node_modules/babel-runtime/core-js/set.js","../../src/lib/scanSettings.ts","../../src/lib/scanner.ts","../../node_modules/howler/dist/howler.core.min.js","../../src/lib/assets/base64assets.ts","../../node_modules/core-js/library/modules/es6.math.hypot.js","../../node_modules/core-js/library/fn/math/hypot.js","../../src/lib/cameraSettings.ts","../../node_modules/babel-runtime/core-js/math/hypot.js","../../src/lib/barcodePicker.ts","../../src/lib/barcodePickerCameraManager.ts","../../src/index.ts"],"sourcesContent":["// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","!function(){\"use strict\";if(\"undefined\"!=typeof window){var t=window.navigator.userAgent.match(/Edge\\/(\\d{2})\\./),e=!!t&&parseInt(t[1],10)>=16;if(\"objectFit\"in document.documentElement.style!=!1&&!e)return void(window.objectFitPolyfill=function(){return!1});var i=function(t){var e=window.getComputedStyle(t,null),i=e.getPropertyValue(\"position\"),n=e.getPropertyValue(\"overflow\"),o=e.getPropertyValue(\"display\");i&&\"static\"!==i||(t.style.position=\"relative\"),\"hidden\"!==n&&(t.style.overflow=\"hidden\"),o&&\"inline\"!==o||(t.style.display=\"block\"),0===t.clientHeight&&(t.style.height=\"100%\"),-1===t.className.indexOf(\"object-fit-polyfill\")&&(t.className=t.className+\" object-fit-polyfill\")},n=function(t){var e=window.getComputedStyle(t,null),i={\"max-width\":\"none\",\"max-height\":\"none\",\"min-width\":\"0px\",\"min-height\":\"0px\",top:\"auto\",right:\"auto\",bottom:\"auto\",left:\"auto\",\"margin-top\":\"0px\",\"margin-right\":\"0px\",\"margin-bottom\":\"0px\",\"margin-left\":\"0px\"};for(var n in i){e.getPropertyValue(n)!==i[n]&&(t.style[n]=i[n])}},o=function(t,e,i){var n,o,l,a,d;if(i=i.split(\" \"),i.length<2&&(i[1]=i[0]),\"x\"===t)n=i[0],o=i[1],l=\"left\",a=\"right\",d=e.clientWidth;else{if(\"y\"!==t)return;n=i[1],o=i[0],l=\"top\",a=\"bottom\",d=e.clientHeight}return n===l||o===l?void(e.style[l]=\"0\"):n===a||o===a?void(e.style[a]=\"0\"):\"center\"===n||\"50%\"===n?(e.style[l]=\"50%\",void(e.style[\"margin-\"+l]=d/-2+\"px\")):n.indexOf(\"%\")>=0?(n=parseInt(n),void(n<50?(e.style[l]=n+\"%\",e.style[\"margin-\"+l]=d*(n/-100)+\"px\"):(n=100-n,e.style[a]=n+\"%\",e.style[\"margin-\"+a]=d*(n/-100)+\"px\"))):void(e.style[l]=n)},l=function(t){var e=t.dataset?t.dataset.objectFit:t.getAttribute(\"data-object-fit\"),l=t.dataset?t.dataset.objectPosition:t.getAttribute(\"data-object-position\");e=e||\"cover\",l=l||\"50% 50%\";var a=t.parentNode;i(a),n(t),t.style.position=\"absolute\",t.style.height=\"100%\",t.style.width=\"auto\",\"scale-down\"===e&&(t.style.height=\"auto\",t.clientWidth<a.clientWidth&&t.clientHeight<a.clientHeight?(o(\"x\",t,l),o(\"y\",t,l)):(e=\"contain\",t.style.height=\"100%\")),\"none\"===e?(t.style.width=\"auto\",t.style.height=\"auto\",o(\"x\",t,l),o(\"y\",t,l)):\"cover\"===e&&t.clientWidth>a.clientWidth||\"contain\"===e&&t.clientWidth<a.clientWidth?(t.style.top=\"0\",t.style.marginTop=\"0\",o(\"x\",t,l)):\"scale-down\"!==e&&(t.style.width=\"100%\",t.style.height=\"auto\",t.style.left=\"0\",t.style.marginLeft=\"0\",o(\"y\",t,l))},a=function(t){if(void 0===t)t=document.querySelectorAll(\"[data-object-fit]\");else if(t&&t.nodeName)t=[t];else{if(\"object\"!=typeof t||!t.length||!t[0].nodeName)return!1;t=t}for(var i=0;i<t.length;i++)if(t[i].nodeName){var n=t[i].nodeName.toLowerCase();\"img\"!==n||e?\"video\"===n&&(t[i].readyState>0?l(t[i]):t[i].addEventListener(\"loadedmetadata\",function(){l(this)})):t[i].complete?l(t[i]):t[i].addEventListener(\"load\",function(){l(this)})}return!0};document.addEventListener(\"DOMContentLoaded\",function(){a()}),window.addEventListener(\"resize\",function(){a()}),window.objectFitPolyfill=a}}();","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object.\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function(e) {\n      cb(wrapper(e));\n    };\n    this._eventMap = this._eventMap || {};\n    this._eventMap[cb] = wrappedCallback;\n    return nativeAddEventListener.apply(this, [nativeEventName,\n      wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function(nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap\n        || !this._eventMap[cb]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[cb];\n    delete this._eventMap[cb];\n    return nativeRemoveEventListener.apply(this, [nativeEventName,\n      unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap,\n            this['_on' + eventNameToWrap] = cb);\n      }\n    }\n  });\n}\n\n// Utility methods.\nmodule.exports = {\n  extractVersion: extractVersion,\n  wrapPeerConnectionEvent: wrapPeerConnectionEvent,\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  /**\n   * Disable or enable deprecation warnings\n   * @param {!boolean} bool set to true to disable warnings.\n   */\n  disableWarnings: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    deprecationWarnings_ = !bool;\n    return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Shows a deprecation warning suggesting the modern and spec-compatible API.\n   */\n  deprecated: function(oldMethod, newMethod) {\n    if (!deprecationWarnings_) {\n      return;\n    }\n    console.warn(oldMethod + ' is deprecated, please use ' + newMethod +\n        ' instead.');\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function(window) {\n    var navigator = window && window.navigator;\n\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    if (navigator.mozGetUserMedia) { // Firefox.\n      result.browser = 'firefox';\n      result.version = extractVersion(navigator.userAgent,\n          /Firefox\\/(\\d+)\\./, 1);\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera.\n      // Version matches Chrome/WebRTC version.\n      result.browser = 'chrome';\n      result.version = extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/(\\d+)\\./, 2);\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) { // Edge.\n      result.browser = 'edge';\n      result.version = extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n    } else if (window.RTCPeerConnection &&\n        navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) { // Safari.\n      result.browser = 'safari';\n      result.version = extractVersion(navigator.userAgent,\n          /AppleWebKit\\/(\\d+)\\./, 1);\n    } else { // Default fallthrough: not supported.\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && typeof constraints.audio === 'object') {\n      var remap = function(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode &&\n            !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function(d) {\n              return matches.some(function(match) {\n                return d.label.toLowerCase().indexOf(match) !== -1;\n              });\n            });\n            if (!dev && devices.length && matches.indexOf('back') !== -1) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :\n                                                        {ideal: dev.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return window.MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                kind: kinds[device.kind],\n                deviceId: device.id,\n                groupId: ''};\n            }));\n          });\n        });\n      },\n      getSupportedConstraints: function() {\n        return {\n          deviceId: true, echoCancellation: true, facingMode: true,\n          frameRate: true, height: true, width: true\n        };\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n","\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\nvar utils = require('../utils.js');\nvar logging = utils.log;\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimMediaStream: function(window) {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n          }\n          this.addEventListener('track', this._ontrack = f);\n        }\n      });\n      var origSetRemoteDescription =\n          window.RTCPeerConnection.prototype.setRemoteDescription;\n      window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n        var pc = this;\n        if (!pc._ontrackpoly) {\n          pc._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === te.track.id;\n                });\n              } else {\n                receiver = {track: te.track};\n              }\n\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var receiver;\n              if (window.RTCPeerConnection.prototype.getReceivers) {\n                receiver = pc.getReceivers().find(function(r) {\n                  return r.track && r.track.id === track.id;\n                });\n              } else {\n                receiver = {track: track};\n              }\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = receiver;\n              event.transceiver = {receiver: receiver};\n              event.streams = [e.stream];\n              pc.dispatchEvent(event);\n            });\n          };\n          pc.addEventListener('addstream', pc._ontrackpoly);\n        }\n        return origSetRemoteDescription.apply(pc, arguments);\n      };\n    } else if (!('RTCRtpTransceiver' in window)) {\n      utils.wrapPeerConnectionEvent(window, 'track', function(e) {\n        if (!e.transceiver) {\n          e.transceiver = {receiver: e.receiver};\n        }\n        return e;\n      });\n    }\n  },\n\n  shimGetSendersWithDtmf: function(window) {\n    // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        !('getSenders' in window.RTCPeerConnection.prototype) &&\n        'createDTMFSender' in window.RTCPeerConnection.prototype) {\n      var shimSenderWithDtmf = function(pc, track) {\n        return {\n          track: track,\n          get dtmf() {\n            if (this._dtmf === undefined) {\n              if (track.kind === 'audio') {\n                this._dtmf = pc.createDTMFSender(track);\n              } else {\n                this._dtmf = null;\n              }\n            }\n            return this._dtmf;\n          },\n          _pc: pc\n        };\n      };\n\n      // augment addTrack when getSenders is not available.\n      if (!window.RTCPeerConnection.prototype.getSenders) {\n        window.RTCPeerConnection.prototype.getSenders = function() {\n          this._senders = this._senders || [];\n          return this._senders.slice(); // return a copy of the internal state.\n        };\n        var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n        window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n          var pc = this;\n          var sender = origAddTrack.apply(pc, arguments);\n          if (!sender) {\n            sender = shimSenderWithDtmf(pc, track);\n            pc._senders.push(sender);\n          }\n          return sender;\n        };\n\n        var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n        window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n          var pc = this;\n          origRemoveTrack.apply(pc, arguments);\n          var idx = pc._senders.indexOf(sender);\n          if (idx !== -1) {\n            pc._senders.splice(idx, 1);\n          }\n        };\n      }\n      var origAddStream = window.RTCPeerConnection.prototype.addStream;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origAddStream.apply(pc, [stream]);\n        stream.getTracks().forEach(function(track) {\n          pc._senders.push(shimSenderWithDtmf(pc, track));\n        });\n      };\n\n      var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        var pc = this;\n        pc._senders = pc._senders || [];\n        origRemoveStream.apply(pc, [stream]);\n\n        stream.getTracks().forEach(function(track) {\n          var sender = pc._senders.find(function(s) {\n            return s.track === track;\n          });\n          if (sender) {\n            pc._senders.splice(pc._senders.indexOf(sender), 1); // remove sender\n          }\n        });\n      };\n    } else if (typeof window === 'object' && window.RTCPeerConnection &&\n               'getSenders' in window.RTCPeerConnection.prototype &&\n               'createDTMFSender' in window.RTCPeerConnection.prototype &&\n               window.RTCRtpSender &&\n               !('dtmf' in window.RTCRtpSender.prototype)) {\n      var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n      window.RTCPeerConnection.prototype.getSenders = function() {\n        var pc = this;\n        var senders = origGetSenders.apply(pc, []);\n        senders.forEach(function(sender) {\n          sender._pc = pc;\n        });\n        return senders;\n      };\n\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = this._pc.createDTMFSender(this.track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    var URL = window && window.URL;\n\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return undefined;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimAddTrackRemoveTrackWithNative: function(window) {\n    // shim addTrack/removeTrack with native variants in order to make\n    // the interactions with legacy getLocalStreams behave as in other browsers.\n    // Keeps a mapping stream.id => [stream, rtpsenders...]\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      return Object.keys(this._shimmedLocalStreams).map(function(streamId) {\n        return pc._shimmedLocalStreams[streamId][0];\n      });\n    };\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      if (!stream) {\n        return origAddTrack.apply(this, arguments);\n      }\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      var sender = origAddTrack.apply(this, arguments);\n      if (!this._shimmedLocalStreams[stream.id]) {\n        this._shimmedLocalStreams[stream.id] = [stream, sender];\n      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n        this._shimmedLocalStreams[stream.id].push(sender);\n      }\n      return sender;\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      var existingSenders = pc.getSenders();\n      origAddStream.apply(this, arguments);\n      var newSenders = pc.getSenders().filter(function(newSender) {\n        return existingSenders.indexOf(newSender) === -1;\n      });\n      this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      delete this._shimmedLocalStreams[stream.id];\n      return origRemoveStream.apply(this, arguments);\n    };\n\n    var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n      if (sender) {\n        Object.keys(this._shimmedLocalStreams).forEach(function(streamId) {\n          var idx = pc._shimmedLocalStreams[streamId].indexOf(sender);\n          if (idx !== -1) {\n            pc._shimmedLocalStreams[streamId].splice(idx, 1);\n          }\n          if (pc._shimmedLocalStreams[streamId].length === 1) {\n            delete pc._shimmedLocalStreams[streamId];\n          }\n        });\n      }\n      return origRemoveTrack.apply(this, arguments);\n    };\n  },\n\n  shimAddTrackRemoveTrack: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n    // shim addTrack and removeTrack.\n    if (window.RTCPeerConnection.prototype.addTrack &&\n        browserDetails.version >= 65) {\n      return this.shimAddTrackRemoveTrackWithNative(window);\n    }\n\n    // also shim pc.getLocalStreams when addTrack is shimmed\n    // to return the original streams.\n    var origGetLocalStreams = window.RTCPeerConnection.prototype\n        .getLocalStreams;\n    window.RTCPeerConnection.prototype.getLocalStreams = function() {\n      var pc = this;\n      var nativeStreams = origGetLocalStreams.apply(this);\n      pc._reverseStreams = pc._reverseStreams || {};\n      return nativeStreams.map(function(stream) {\n        return pc._reverseStreams[stream.id];\n      });\n    };\n\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      stream.getTracks().forEach(function(track) {\n        var alreadyExists = pc.getSenders().find(function(s) {\n          return s.track === track;\n        });\n        if (alreadyExists) {\n          throw new DOMException('Track already exists.',\n              'InvalidAccessError');\n        }\n      });\n      // Add identity mapping for consistency with addTrack.\n      // Unless this is being used with a stream from addTrack.\n      if (!pc._reverseStreams[stream.id]) {\n        var newStream = new window.MediaStream(stream.getTracks());\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        stream = newStream;\n      }\n      origAddStream.apply(pc, [stream]);\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n\n      origRemoveStream.apply(pc, [(pc._streams[stream.id] || stream)]);\n      delete pc._reverseStreams[(pc._streams[stream.id] ?\n          pc._streams[stream.id].id : stream.id)];\n      delete pc._streams[stream.id];\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      var streams = [].slice.call(arguments, 1);\n      if (streams.length !== 1 ||\n          !streams[0].getTracks().find(function(t) {\n            return t === track;\n          })) {\n        // this is not fully correct but all we can manage without\n        // [[associated MediaStreams]] internal slot.\n        throw new DOMException(\n          'The adapter.js addTrack polyfill only supports a single ' +\n          ' stream which is associated with the specified track.',\n          'NotSupportedError');\n      }\n\n      var alreadyExists = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.',\n            'InvalidAccessError');\n      }\n\n      pc._streams = pc._streams || {};\n      pc._reverseStreams = pc._reverseStreams || {};\n      var oldStream = pc._streams[stream.id];\n      if (oldStream) {\n        // this is using odd Chrome behaviour, use with caution:\n        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n        // Note: we rely on the high-level addTrack/dtmf shim to\n        // create the sender with a dtmf sender.\n        oldStream.addTrack(track);\n\n        // Trigger ONN async.\n        Promise.resolve().then(function() {\n          pc.dispatchEvent(new Event('negotiationneeded'));\n        });\n      } else {\n        var newStream = new window.MediaStream([track]);\n        pc._streams[stream.id] = newStream;\n        pc._reverseStreams[newStream.id] = stream;\n        pc.addStream(newStream);\n      }\n      return pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n    };\n\n    // replace the internal stream id with the external one and\n    // vice versa.\n    function replaceInternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(internalStream.id, 'g'),\n            externalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    function replaceExternalStreamId(pc, description) {\n      var sdp = description.sdp;\n      Object.keys(pc._reverseStreams || []).forEach(function(internalId) {\n        var externalStream = pc._reverseStreams[internalId];\n        var internalStream = pc._streams[externalStream.id];\n        sdp = sdp.replace(new RegExp(externalStream.id, 'g'),\n            internalStream.id);\n      });\n      return new RTCSessionDescription({\n        type: description.type,\n        sdp: sdp\n      });\n    }\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      window.RTCPeerConnection.prototype[method] = function() {\n        var pc = this;\n        var args = arguments;\n        var isLegacyCall = arguments.length &&\n            typeof arguments[0] === 'function';\n        if (isLegacyCall) {\n          return nativeMethod.apply(pc, [\n            function(description) {\n              var desc = replaceInternalStreamId(pc, description);\n              args[0].apply(null, [desc]);\n            },\n            function(err) {\n              if (args[1]) {\n                args[1].apply(null, err);\n              }\n            }, arguments[2]\n          ]);\n        }\n        return nativeMethod.apply(pc, arguments)\n        .then(function(description) {\n          return replaceInternalStreamId(pc, description);\n        });\n      };\n    });\n\n    var origSetLocalDescription =\n        window.RTCPeerConnection.prototype.setLocalDescription;\n    window.RTCPeerConnection.prototype.setLocalDescription = function() {\n      var pc = this;\n      if (!arguments.length || !arguments[0].type) {\n        return origSetLocalDescription.apply(pc, arguments);\n      }\n      arguments[0] = replaceExternalStreamId(pc, arguments[0]);\n      return origSetLocalDescription.apply(pc, arguments);\n    };\n\n    // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n    var origLocalDescription = Object.getOwnPropertyDescriptor(\n        window.RTCPeerConnection.prototype, 'localDescription');\n    Object.defineProperty(window.RTCPeerConnection.prototype,\n        'localDescription', {\n          get: function() {\n            var pc = this;\n            var description = origLocalDescription.get.apply(this);\n            if (description.type === '') {\n              return description;\n            }\n            return replaceInternalStreamId(pc, description);\n          }\n        });\n\n    window.RTCPeerConnection.prototype.removeTrack = function(sender) {\n      var pc = this;\n      if (pc.signalingState === 'closed') {\n        throw new DOMException(\n          'The RTCPeerConnection\\'s signalingState is \\'closed\\'.',\n          'InvalidStateError');\n      }\n      // We can not yet check for sender instanceof RTCRtpSender\n      // since we shim RTPSender. So we check if sender._pc is set.\n      if (!sender._pc) {\n        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +\n            'does not implement interface RTCRtpSender.', 'TypeError');\n      }\n      var isLocal = sender._pc === pc;\n      if (!isLocal) {\n        throw new DOMException('Sender was not created by this connection.',\n            'InvalidAccessError');\n      }\n\n      // Search for the native stream the senders track belongs to.\n      pc._streams = pc._streams || {};\n      var stream;\n      Object.keys(pc._streams).forEach(function(streamid) {\n        var hasTrack = pc._streams[streamid].getTracks().find(function(track) {\n          return sender.track === track;\n        });\n        if (hasTrack) {\n          stream = pc._streams[streamid];\n        }\n      });\n\n      if (stream) {\n        if (stream.getTracks().length === 1) {\n          // if this is the last track of the stream, remove the stream. This\n          // takes care of any shimmed _senders.\n          pc.removeStream(pc._reverseStreams[stream.id]);\n        } else {\n          // relying on the same odd chrome behaviour as above.\n          stream.removeTrack(sender.track);\n        }\n        pc.dispatchEvent(new Event('negotiationneeded'));\n      }\n    };\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        // Translate iceTransportPolicy to iceTransports,\n        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n        // this was fixed in M56 along with unprefixing RTCPeerConnection.\n        logging('PeerConnection');\n        if (pcConfig && pcConfig.iceTransportPolicy) {\n          pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n        }\n\n        return new window.webkitRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.webkitRTCPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      if (window.webkitRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.webkitRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n    } else {\n      // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n      var OrigPeerConnection = window.RTCPeerConnection;\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (pcConfig && pcConfig.iceServers) {\n          var newIceServers = [];\n          for (var i = 0; i < pcConfig.iceServers.length; i++) {\n            var server = pcConfig.iceServers[i];\n            if (!server.hasOwnProperty('urls') &&\n                server.hasOwnProperty('url')) {\n              utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n              server = JSON.parse(JSON.stringify(server));\n              server.urls = server.url;\n              newIceServers.push(server);\n            } else {\n              newIceServers.push(pcConfig.iceServers[i]);\n            }\n          }\n          pcConfig.iceServers = newIceServers;\n        }\n        return new OrigPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n      // wrap static methods. Currently just generateCertificate.\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    var origGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(selector,\n        successCallback, errorCallback) {\n      var pc = this;\n      var args = arguments;\n\n      // If selector is a function then we are in the old style stats so just\n      // pass back the original getStats format to avoid breaking old users.\n      if (arguments.length > 0 && typeof selector === 'function') {\n        return origGetStats.apply(this, arguments);\n      }\n\n      // When spec-style getStats is supported, return those when called with\n      // either no arguments or the selector argument is null.\n      if (origGetStats.length === 0 && (arguments.length === 0 ||\n          typeof arguments[0] !== 'function')) {\n        return origGetStats.apply(this, []);\n      }\n\n      var fixChromeStats_ = function(response) {\n        var standardReport = {};\n        var reports = response.result();\n        reports.forEach(function(report) {\n          var standardStats = {\n            id: report.id,\n            timestamp: report.timestamp,\n            type: {\n              localcandidate: 'local-candidate',\n              remotecandidate: 'remote-candidate'\n            }[report.type] || report.type\n          };\n          report.names().forEach(function(name) {\n            standardStats[name] = report.stat(name);\n          });\n          standardReport[standardStats.id] = standardStats;\n        });\n\n        return standardReport;\n      };\n\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        return new Map(Object.keys(stats).map(function(key) {\n          return [key, stats[key]];\n        }));\n      };\n\n      if (arguments.length >= 2) {\n        var successCallbackWrapper_ = function(response) {\n          args[1](makeMapStats(fixChromeStats_(response)));\n        };\n\n        return origGetStats.apply(this, [successCallbackWrapper_,\n          arguments[0]]);\n      }\n\n      // promise-support\n      return new Promise(function(resolve, reject) {\n        origGetStats.apply(pc, [\n          function(response) {\n            resolve(makeMapStats(fixChromeStats_(response)));\n          }, reject]);\n      }).then(successCallback, errorCallback);\n    };\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = window.RTCPeerConnection.prototype[method];\n            window.RTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var pc = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(pc, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // promise support for createOffer and createAnswer. Available (without\n    // bugs) since M52: crbug/619289\n    if (browserDetails.version < 52) {\n      ['createOffer', 'createAnswer'].forEach(function(method) {\n        var nativeMethod = window.RTCPeerConnection.prototype[method];\n        window.RTCPeerConnection.prototype[method] = function() {\n          var pc = this;\n          if (arguments.length < 1 || (arguments.length === 1 &&\n              typeof arguments[0] === 'object')) {\n            var opts = arguments.length === 1 ? arguments[0] : undefined;\n            return new Promise(function(resolve, reject) {\n              nativeMethod.apply(pc, [resolve, reject, opts]);\n            });\n          }\n          return nativeMethod.apply(this, arguments);\n        };\n      });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n"," /* eslint-env node */\n'use strict';\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// returns the session description.\nSDPUtils.getDescription = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// returns the individual media sections.\nSDPUtils.getMediaSections = function(blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parseInt(parts[1], 10),\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compability.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default: // extension handling, in particular ufrag\n        candidate[parts[i]] = parts[i + 1];\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function(line) {\n  return line.substr(14).split(' ');\n}\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n      (headerExtension.direction && headerExtension.direction !== 'sendrecv'\n          ? '/' + headerExtension.direction\n          : '') +\n      ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function(mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substr(6);\n  }\n}\n\nSDPUtils.parseFingerprint = function(line) {\n  var parts = line.substr(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1]\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,\n      'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  // Note2: 'algorithm' is not case sensitive except in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function(codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n  sdp += 'a=rtcp-mux\\r\\n';\n\n  caps.headerExtensions.forEach(function(extension) {\n    sdp += SDPUtils.writeExtmap(extension);\n  });\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95\n          - (50 * 40 * 8);\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function(mediaSection) {\n  var rtcpParameters = {};\n\n  var cname;\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n      .map(function(line) {\n        return SDPUtils.parseSsrcMedia(line);\n      })\n      .filter(function(obj) {\n        return obj.attribute === 'cname';\n      })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function(mediaSection) {\n  var parts;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substr(7).split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return {stream: parts[0], track: parts[1]};\n  }\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function() {\n  return Math.random().toString().substr(2, 21);\n};\n\n// Write boilder plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\nSDPUtils.writeSessionBoilerplate = function(sessId, sessVer) {\n  var sessionId;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.direction) {\n    sdp += 'a=' + transceiver.direction + '\\r\\n';\n  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    // spec.\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n\n    // for Chrome.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substr(2);\n};\n\nSDPUtils.isRejected = function(mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function(mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substr(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function(mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substr(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5],\n  };\n}\n\n// Expose public methods.\nif (typeof module === 'object') {\n  module.exports = SDPUtils;\n}\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\n\nfunction fixStatsType(stat) {\n  return {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  }[stat.type] || stat.type;\n}\n\nfunction writeMediaSection(transceiver, caps, type, stream, dtlsRole) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : dtlsRole || 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  if (transceiver.rtpSender) {\n    var trackId = transceiver.rtpSender._initialTrackId ||\n        transceiver.rtpSender.track.id;\n    transceiver.rtpSender._initialTrackId = trackId;\n    // spec.\n    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +\n        trackId + '\\r\\n';\n    sdp += 'a=' + msid;\n    // for Chrome. Legacy should no longer be required.\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n\n    // RTX\n    if (transceiver.sendEncodingParameters[0].rtx) {\n      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n          ' ' + msid;\n      sdp += 'a=ssrc-group:FID ' +\n          transceiver.sendEncodingParameters[0].ssrc + ' ' +\n          transceiver.sendEncodingParameters[0].rtx.ssrc +\n          '\\r\\n';\n    }\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +\n        ' cname:' + SDPUtils.localCName + '\\r\\n';\n  }\n  return sdp;\n}\n\n// Edge does not like\n// 1) stun: filtered after 14393 unless ?transport=udp is present\n// 2) turn: that does not have all of turn:host:port?transport=udp\n// 3) turn: with ipv6 addresses\n// 4) turn: occurring muliple times\nfunction filterIceServers(iceServers, edgeVersion) {\n  var hasTurn = false;\n  iceServers = JSON.parse(JSON.stringify(iceServers));\n  return iceServers.filter(function(server) {\n    if (server && (server.urls || server.url)) {\n      var urls = server.urls || server.url;\n      if (server.url && !server.urls) {\n        console.warn('RTCIceServer.url is deprecated! Use urls instead.');\n      }\n      var isString = typeof urls === 'string';\n      if (isString) {\n        urls = [urls];\n      }\n      urls = urls.filter(function(url) {\n        var validTurn = url.indexOf('turn:') === 0 &&\n            url.indexOf('transport=udp') !== -1 &&\n            url.indexOf('turn:[') === -1 &&\n            !hasTurn;\n\n        if (validTurn) {\n          hasTurn = true;\n          return true;\n        }\n        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&\n            url.indexOf('?transport=udp') === -1;\n      });\n\n      delete server.url;\n      server.urls = isString ? urls[0] : urls;\n      return !!urls.length;\n    }\n  });\n}\n\n// Determines the intersection of local and remote capabilities.\nfunction getCommonCapabilities(localCapabilities, remoteCapabilities) {\n  var commonCapabilities = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: []\n  };\n\n  var findCodecByPayloadType = function(pt, codecs) {\n    pt = parseInt(pt, 10);\n    for (var i = 0; i < codecs.length; i++) {\n      if (codecs[i].payloadType === pt ||\n          codecs[i].preferredPayloadType === pt) {\n        return codecs[i];\n      }\n    }\n  };\n\n  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {\n    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);\n    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);\n    return lCodec && rCodec &&\n        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();\n  };\n\n  localCapabilities.codecs.forEach(function(lCodec) {\n    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n      var rCodec = remoteCapabilities.codecs[i];\n      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n          lCodec.clockRate === rCodec.clockRate) {\n        if (lCodec.name.toLowerCase() === 'rtx' &&\n            lCodec.parameters && rCodec.parameters.apt) {\n          // for RTX we need to find the local rtx that has a apt\n          // which points to the same local codec as the remote one.\n          if (!rtxCapabilityMatches(lCodec, rCodec,\n              localCapabilities.codecs, remoteCapabilities.codecs)) {\n            continue;\n          }\n        }\n        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy\n        // number of channels is the highest common number of channels\n        rCodec.numChannels = Math.min(lCodec.numChannels,\n            rCodec.numChannels);\n        // push rCodec so we reply with offerer payload type\n        commonCapabilities.codecs.push(rCodec);\n\n        // determine common feedback mechanisms\n        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n            if (lCodec.rtcpFeedback[j].type === fb.type &&\n                lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n              return true;\n            }\n          }\n          return false;\n        });\n        // FIXME: also need to determine .parameters\n        //  see https://github.com/openpeer/ortc/issues/569\n        break;\n      }\n    }\n  });\n\n  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {\n    for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n         i++) {\n      var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n      if (lHeaderExtension.uri === rHeaderExtension.uri) {\n        commonCapabilities.headerExtensions.push(rHeaderExtension);\n        break;\n      }\n    }\n  });\n\n  // FIXME: fecMechanisms\n  return commonCapabilities;\n}\n\n// is action=setLocalDescription with type allowed in signalingState\nfunction isActionAllowedInSignalingState(action, type, signalingState) {\n  return {\n    offer: {\n      setLocalDescription: ['stable', 'have-local-offer'],\n      setRemoteDescription: ['stable', 'have-remote-offer']\n    },\n    answer: {\n      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],\n      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']\n    }\n  }[type][action].indexOf(signalingState) !== -1;\n}\n\nfunction maybeAddCandidate(iceTransport, candidate) {\n  // Edge's internal representation adds some fields therefore\n  // not all fieldѕ are taken into account.\n  var alreadyAdded = iceTransport.getRemoteCandidates()\n      .find(function(remoteCandidate) {\n        return candidate.foundation === remoteCandidate.foundation &&\n            candidate.ip === remoteCandidate.ip &&\n            candidate.port === remoteCandidate.port &&\n            candidate.priority === remoteCandidate.priority &&\n            candidate.protocol === remoteCandidate.protocol &&\n            candidate.type === remoteCandidate.type;\n      });\n  if (!alreadyAdded) {\n    iceTransport.addRemoteCandidate(candidate);\n  }\n  return !alreadyAdded;\n}\n\n\nfunction makeError(name, description) {\n  var e = new Error(description);\n  e.name = name;\n  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names\n  e.code = {\n    NotSupportedError: 9,\n    InvalidStateError: 11,\n    InvalidAccessError: 15,\n    TypeError: undefined,\n    OperationError: undefined\n  }[name];\n  return e;\n}\n\nmodule.exports = function(window, edgeVersion) {\n  // https://w3c.github.io/mediacapture-main/#mediastream\n  // Helper function to add the track to the stream and\n  // dispatch the event ourselves.\n  function addTrackToStreamAndFireEvent(track, stream) {\n    stream.addTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',\n        {track: track}));\n  }\n\n  function removeTrackFromStreamAndFireEvent(track, stream) {\n    stream.removeTrack(track);\n    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',\n        {track: track}));\n  }\n\n  function fireAddTrack(pc, track, receiver, streams) {\n    var trackEvent = new Event('track');\n    trackEvent.track = track;\n    trackEvent.receiver = receiver;\n    trackEvent.transceiver = {receiver: receiver};\n    trackEvent.streams = streams;\n    window.setTimeout(function() {\n      pc._dispatchEvent('track', trackEvent);\n    });\n  }\n\n  var RTCPeerConnection = function(config) {\n    var pc = this;\n\n    var _eventTarget = document.createDocumentFragment();\n    ['addEventListener', 'removeEventListener', 'dispatchEvent']\n        .forEach(function(method) {\n          pc[method] = _eventTarget[method].bind(_eventTarget);\n        });\n\n    this.canTrickleIceCandidates = null;\n\n    this.needNegotiation = false;\n\n    this.localStreams = [];\n    this.remoteStreams = [];\n\n    this.localDescription = null;\n    this.remoteDescription = null;\n\n    this.signalingState = 'stable';\n    this.iceConnectionState = 'new';\n    this.connectionState = 'new';\n    this.iceGatheringState = 'new';\n\n    config = JSON.parse(JSON.stringify(config || {}));\n\n    this.usingBundle = config.bundlePolicy === 'max-bundle';\n    if (config.rtcpMuxPolicy === 'negotiate') {\n      throw(makeError('NotSupportedError',\n          'rtcpMuxPolicy \\'negotiate\\' is not supported'));\n    } else if (!config.rtcpMuxPolicy) {\n      config.rtcpMuxPolicy = 'require';\n    }\n\n    switch (config.iceTransportPolicy) {\n      case 'all':\n      case 'relay':\n        break;\n      default:\n        config.iceTransportPolicy = 'all';\n        break;\n    }\n\n    switch (config.bundlePolicy) {\n      case 'balanced':\n      case 'max-compat':\n      case 'max-bundle':\n        break;\n      default:\n        config.bundlePolicy = 'balanced';\n        break;\n    }\n\n    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);\n\n    this._iceGatherers = [];\n    if (config.iceCandidatePoolSize) {\n      for (var i = config.iceCandidatePoolSize; i > 0; i--) {\n        this._iceGatherers.push(new window.RTCIceGatherer({\n          iceServers: config.iceServers,\n          gatherPolicy: config.iceTransportPolicy\n        }));\n      }\n    } else {\n      config.iceCandidatePoolSize = 0;\n    }\n\n    this._config = config;\n\n    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n    // everything that is needed to describe a SDP m-line.\n    this.transceivers = [];\n\n    this._sdpSessionId = SDPUtils.generateSessionId();\n    this._sdpSessionVersion = 0;\n\n    this._dtlsRole = undefined; // role for a=setup to use in answers.\n\n    this._isClosed = false;\n  };\n\n  // set up event handlers on prototype\n  RTCPeerConnection.prototype.onicecandidate = null;\n  RTCPeerConnection.prototype.onaddstream = null;\n  RTCPeerConnection.prototype.ontrack = null;\n  RTCPeerConnection.prototype.onremovestream = null;\n  RTCPeerConnection.prototype.onsignalingstatechange = null;\n  RTCPeerConnection.prototype.oniceconnectionstatechange = null;\n  RTCPeerConnection.prototype.onconnectionstatechange = null;\n  RTCPeerConnection.prototype.onicegatheringstatechange = null;\n  RTCPeerConnection.prototype.onnegotiationneeded = null;\n  RTCPeerConnection.prototype.ondatachannel = null;\n\n  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {\n    if (this._isClosed) {\n      return;\n    }\n    this.dispatchEvent(event);\n    if (typeof this['on' + name] === 'function') {\n      this['on' + name](event);\n    }\n  };\n\n  RTCPeerConnection.prototype._emitGatheringStateChange = function() {\n    var event = new Event('icegatheringstatechange');\n    this._dispatchEvent('icegatheringstatechange', event);\n  };\n\n  RTCPeerConnection.prototype.getConfiguration = function() {\n    return this._config;\n  };\n\n  RTCPeerConnection.prototype.getLocalStreams = function() {\n    return this.localStreams;\n  };\n\n  RTCPeerConnection.prototype.getRemoteStreams = function() {\n    return this.remoteStreams;\n  };\n\n  // internal helper to create a transceiver object.\n  // (which is not yet the same as the WebRTC 1.0 transceiver)\n  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {\n    var hasBundleTransport = this.transceivers.length > 0;\n    var transceiver = {\n      track: null,\n      iceGatherer: null,\n      iceTransport: null,\n      dtlsTransport: null,\n      localCapabilities: null,\n      remoteCapabilities: null,\n      rtpSender: null,\n      rtpReceiver: null,\n      kind: kind,\n      mid: null,\n      sendEncodingParameters: null,\n      recvEncodingParameters: null,\n      stream: null,\n      associatedRemoteMediaStreams: [],\n      wantReceive: true\n    };\n    if (this.usingBundle && hasBundleTransport) {\n      transceiver.iceTransport = this.transceivers[0].iceTransport;\n      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;\n    } else {\n      var transports = this._createIceAndDtlsTransports();\n      transceiver.iceTransport = transports.iceTransport;\n      transceiver.dtlsTransport = transports.dtlsTransport;\n    }\n    if (!doNotAdd) {\n      this.transceivers.push(transceiver);\n    }\n    return transceiver;\n  };\n\n  RTCPeerConnection.prototype.addTrack = function(track, stream) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call addTrack on a closed peerconnection.');\n    }\n\n    var alreadyExists = this.transceivers.find(function(s) {\n      return s.track === track;\n    });\n\n    if (alreadyExists) {\n      throw makeError('InvalidAccessError', 'Track already exists.');\n    }\n\n    var transceiver;\n    for (var i = 0; i < this.transceivers.length; i++) {\n      if (!this.transceivers[i].track &&\n          this.transceivers[i].kind === track.kind) {\n        transceiver = this.transceivers[i];\n      }\n    }\n    if (!transceiver) {\n      transceiver = this._createTransceiver(track.kind);\n    }\n\n    this._maybeFireNegotiationNeeded();\n\n    if (this.localStreams.indexOf(stream) === -1) {\n      this.localStreams.push(stream);\n    }\n\n    transceiver.track = track;\n    transceiver.stream = stream;\n    transceiver.rtpSender = new window.RTCRtpSender(track,\n        transceiver.dtlsTransport);\n    return transceiver.rtpSender;\n  };\n\n  RTCPeerConnection.prototype.addStream = function(stream) {\n    var pc = this;\n    if (edgeVersion >= 15025) {\n      stream.getTracks().forEach(function(track) {\n        pc.addTrack(track, stream);\n      });\n    } else {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      // Fixed in 15025 (or earlier)\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      clonedStream.getTracks().forEach(function(track) {\n        pc.addTrack(track, clonedStream);\n      });\n    }\n  };\n\n  RTCPeerConnection.prototype.removeTrack = function(sender) {\n    if (this._isClosed) {\n      throw makeError('InvalidStateError',\n          'Attempted to call removeTrack on a closed peerconnection.');\n    }\n\n    if (!(sender instanceof window.RTCRtpSender)) {\n      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +\n          'does not implement interface RTCRtpSender.');\n    }\n\n    var transceiver = this.transceivers.find(function(t) {\n      return t.rtpSender === sender;\n    });\n\n    if (!transceiver) {\n      throw makeError('InvalidAccessError',\n          'Sender was not created by this connection.');\n    }\n    var stream = transceiver.stream;\n\n    transceiver.rtpSender.stop();\n    transceiver.rtpSender = null;\n    transceiver.track = null;\n    transceiver.stream = null;\n\n    // remove the stream from the set of local streams\n    var localStreams = this.transceivers.map(function(t) {\n      return t.stream;\n    });\n    if (localStreams.indexOf(stream) === -1 &&\n        this.localStreams.indexOf(stream) > -1) {\n      this.localStreams.splice(this.localStreams.indexOf(stream), 1);\n    }\n\n    this._maybeFireNegotiationNeeded();\n  };\n\n  RTCPeerConnection.prototype.removeStream = function(stream) {\n    var pc = this;\n    stream.getTracks().forEach(function(track) {\n      var sender = pc.getSenders().find(function(s) {\n        return s.track === track;\n      });\n      if (sender) {\n        pc.removeTrack(sender);\n      }\n    });\n  };\n\n  RTCPeerConnection.prototype.getSenders = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpSender;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpSender;\n    });\n  };\n\n  RTCPeerConnection.prototype.getReceivers = function() {\n    return this.transceivers.filter(function(transceiver) {\n      return !!transceiver.rtpReceiver;\n    })\n    .map(function(transceiver) {\n      return transceiver.rtpReceiver;\n    });\n  };\n\n\n  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,\n      usingBundle) {\n    var pc = this;\n    if (usingBundle && sdpMLineIndex > 0) {\n      return this.transceivers[0].iceGatherer;\n    } else if (this._iceGatherers.length) {\n      return this._iceGatherers.shift();\n    }\n    var iceGatherer = new window.RTCIceGatherer({\n      iceServers: this._config.iceServers,\n      gatherPolicy: this._config.iceTransportPolicy\n    });\n    Object.defineProperty(iceGatherer, 'state',\n        {value: 'new', writable: true}\n    );\n\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];\n    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {\n      var end = !event.candidate || Object.keys(event.candidate).length === 0;\n      // polyfill since RTCIceGatherer.state is not implemented in\n      // Edge 10547 yet.\n      iceGatherer.state = end ? 'completed' : 'gathering';\n      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {\n        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);\n      }\n    };\n    iceGatherer.addEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    return iceGatherer;\n  };\n\n  // start gathering from an RTCIceGatherer.\n  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {\n    var pc = this;\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer.onlocalcandidate) {\n      return;\n    }\n    var bufferedCandidateEvents =\n      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;\n    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;\n    iceGatherer.removeEventListener('localcandidate',\n      this.transceivers[sdpMLineIndex].bufferCandidates);\n    iceGatherer.onlocalcandidate = function(evt) {\n      if (pc.usingBundle && sdpMLineIndex > 0) {\n        // if we know that we use bundle we can drop candidates with\n        // ѕdpMLineIndex > 0. If we don't do this then our state gets\n        // confused since we dispose the extra ice gatherer.\n        return;\n      }\n      var event = new Event('icecandidate');\n      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n      var cand = evt.candidate;\n      // Edge emits an empty object for RTCIceCandidateComplete‥\n      var end = !cand || Object.keys(cand).length === 0;\n      if (end) {\n        // polyfill since RTCIceGatherer.state is not implemented in\n        // Edge 10547 yet.\n        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {\n          iceGatherer.state = 'completed';\n        }\n      } else {\n        if (iceGatherer.state === 'new') {\n          iceGatherer.state = 'gathering';\n        }\n        // RTCIceCandidate doesn't have a component, needs to be added\n        cand.component = 1;\n        // also the usernameFragment. TODO: update SDP to take both variants.\n        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;\n\n        var serializedCandidate = SDPUtils.writeCandidate(cand);\n        event.candidate = Object.assign(event.candidate,\n            SDPUtils.parseCandidate(serializedCandidate));\n\n        event.candidate.candidate = serializedCandidate;\n        event.candidate.toJSON = function() {\n          return {\n            candidate: event.candidate.candidate,\n            sdpMid: event.candidate.sdpMid,\n            sdpMLineIndex: event.candidate.sdpMLineIndex,\n            usernameFragment: event.candidate.usernameFragment\n          };\n        };\n      }\n\n      // update local description.\n      var sections = SDPUtils.getMediaSections(pc.localDescription.sdp);\n      if (!end) {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=' + event.candidate.candidate + '\\r\\n';\n      } else {\n        sections[event.candidate.sdpMLineIndex] +=\n            'a=end-of-candidates\\r\\n';\n      }\n      pc.localDescription.sdp =\n          SDPUtils.getDescription(pc.localDescription.sdp) +\n          sections.join('');\n      var complete = pc.transceivers.every(function(transceiver) {\n        return transceiver.iceGatherer &&\n            transceiver.iceGatherer.state === 'completed';\n      });\n\n      if (pc.iceGatheringState !== 'gathering') {\n        pc.iceGatheringState = 'gathering';\n        pc._emitGatheringStateChange();\n      }\n\n      // Emit candidate. Also emit null candidate when all gatherers are\n      // complete.\n      if (!end) {\n        pc._dispatchEvent('icecandidate', event);\n      }\n      if (complete) {\n        pc._dispatchEvent('icecandidate', new Event('icecandidate'));\n        pc.iceGatheringState = 'complete';\n        pc._emitGatheringStateChange();\n      }\n    };\n\n    // emit already gathered candidates.\n    window.setTimeout(function() {\n      bufferedCandidateEvents.forEach(function(e) {\n        iceGatherer.onlocalcandidate(e);\n      });\n    }, 0);\n  };\n\n  // Create ICE transport and DTLS transport.\n  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {\n    var pc = this;\n    var iceTransport = new window.RTCIceTransport(null);\n    iceTransport.onicestatechange = function() {\n      pc._updateIceConnectionState();\n      pc._updateConnectionState();\n    };\n\n    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);\n    dtlsTransport.ondtlsstatechange = function() {\n      pc._updateConnectionState();\n    };\n    dtlsTransport.onerror = function() {\n      // onerror does not set state to failed by itself.\n      Object.defineProperty(dtlsTransport, 'state',\n          {value: 'failed', writable: true});\n      pc._updateConnectionState();\n    };\n\n    return {\n      iceTransport: iceTransport,\n      dtlsTransport: dtlsTransport\n    };\n  };\n\n  // Destroy ICE gatherer, ICE transport and DTLS transport.\n  // Without triggering the callbacks.\n  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(\n      sdpMLineIndex) {\n    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;\n    if (iceGatherer) {\n      delete iceGatherer.onlocalcandidate;\n      delete this.transceivers[sdpMLineIndex].iceGatherer;\n    }\n    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;\n    if (iceTransport) {\n      delete iceTransport.onicestatechange;\n      delete this.transceivers[sdpMLineIndex].iceTransport;\n    }\n    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;\n    if (dtlsTransport) {\n      delete dtlsTransport.ondtlsstatechange;\n      delete dtlsTransport.onerror;\n      delete this.transceivers[sdpMLineIndex].dtlsTransport;\n    }\n  };\n\n  // Start the RTP Sender and Receiver for a transceiver.\n  RTCPeerConnection.prototype._transceive = function(transceiver,\n      send, recv) {\n    var params = getCommonCapabilities(transceiver.localCapabilities,\n        transceiver.remoteCapabilities);\n    if (send && transceiver.rtpSender) {\n      params.encodings = transceiver.sendEncodingParameters;\n      params.rtcp = {\n        cname: SDPUtils.localCName,\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.recvEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpSender.send(params);\n    }\n    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {\n      // remove RTX field in Edge 14942\n      if (transceiver.kind === 'video'\n          && transceiver.recvEncodingParameters\n          && edgeVersion < 15019) {\n        transceiver.recvEncodingParameters.forEach(function(p) {\n          delete p.rtx;\n        });\n      }\n      if (transceiver.recvEncodingParameters.length) {\n        params.encodings = transceiver.recvEncodingParameters;\n      } else {\n        params.encodings = [{}];\n      }\n      params.rtcp = {\n        compound: transceiver.rtcpParameters.compound\n      };\n      if (transceiver.rtcpParameters.cname) {\n        params.rtcp.cname = transceiver.rtcpParameters.cname;\n      }\n      if (transceiver.sendEncodingParameters.length) {\n        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n      }\n      transceiver.rtpReceiver.receive(params);\n    }\n  };\n\n  RTCPeerConnection.prototype.setLocalDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setLocalDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set local ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var sections;\n    var sessionpart;\n    if (description.type === 'offer') {\n      // VERY limited support for SDP munging. Limited to:\n      // * changing the order of codecs\n      sections = SDPUtils.splitSections(description.sdp);\n      sessionpart = sections.shift();\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var caps = SDPUtils.parseRtpParameters(mediaSection);\n        pc.transceivers[sdpMLineIndex].localCapabilities = caps;\n      });\n\n      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n        pc._gather(transceiver.mid, sdpMLineIndex);\n      });\n    } else if (description.type === 'answer') {\n      sections = SDPUtils.splitSections(pc.remoteDescription.sdp);\n      sessionpart = sections.shift();\n      var isIceLite = SDPUtils.matchPrefix(sessionpart,\n          'a=ice-lite').length > 0;\n      sections.forEach(function(mediaSection, sdpMLineIndex) {\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        var iceGatherer = transceiver.iceGatherer;\n        var iceTransport = transceiver.iceTransport;\n        var dtlsTransport = transceiver.dtlsTransport;\n        var localCapabilities = transceiver.localCapabilities;\n        var remoteCapabilities = transceiver.remoteCapabilities;\n\n        // treat bundle-only as not-rejected.\n        var rejected = SDPUtils.isRejected(mediaSection) &&\n            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n\n        if (!rejected && !transceiver.rejected) {\n          var remoteIceParameters = SDPUtils.getIceParameters(\n              mediaSection, sessionpart);\n          var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n              mediaSection, sessionpart);\n          if (isIceLite) {\n            remoteDtlsParameters.role = 'server';\n          }\n\n          if (!pc.usingBundle || sdpMLineIndex === 0) {\n            pc._gather(transceiver.mid, sdpMLineIndex);\n            if (iceTransport.state === 'new') {\n              iceTransport.start(iceGatherer, remoteIceParameters,\n                  isIceLite ? 'controlling' : 'controlled');\n            }\n            if (dtlsTransport.state === 'new') {\n              dtlsTransport.start(remoteDtlsParameters);\n            }\n          }\n\n          // Calculate intersection of capabilities.\n          var params = getCommonCapabilities(localCapabilities,\n              remoteCapabilities);\n\n          // Start the RTCRtpSender. The RTCRtpReceiver for this\n          // transceiver has already been started in setRemoteDescription.\n          pc._transceive(transceiver,\n              params.codecs.length > 0,\n              false);\n        }\n      });\n    }\n\n    pc.localDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-local-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.setRemoteDescription = function(description) {\n    var pc = this;\n\n    // Note: pranswer is not supported.\n    if (['offer', 'answer'].indexOf(description.type) === -1) {\n      return Promise.reject(makeError('TypeError',\n          'Unsupported type \"' + description.type + '\"'));\n    }\n\n    if (!isActionAllowedInSignalingState('setRemoteDescription',\n        description.type, pc.signalingState) || pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not set remote ' + description.type +\n          ' in state ' + pc.signalingState));\n    }\n\n    var streams = {};\n    pc.remoteStreams.forEach(function(stream) {\n      streams[stream.id] = stream;\n    });\n    var receiverList = [];\n    var sections = SDPUtils.splitSections(description.sdp);\n    var sessionpart = sections.shift();\n    var isIceLite = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-lite').length > 0;\n    var usingBundle = SDPUtils.matchPrefix(sessionpart,\n        'a=group:BUNDLE ').length > 0;\n    pc.usingBundle = usingBundle;\n    var iceOptions = SDPUtils.matchPrefix(sessionpart,\n        'a=ice-options:')[0];\n    if (iceOptions) {\n      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')\n          .indexOf('trickle') >= 0;\n    } else {\n      pc.canTrickleIceCandidates = false;\n    }\n\n    sections.forEach(function(mediaSection, sdpMLineIndex) {\n      var lines = SDPUtils.splitLines(mediaSection);\n      var kind = SDPUtils.getKind(mediaSection);\n      // treat bundle-only as not-rejected.\n      var rejected = SDPUtils.isRejected(mediaSection) &&\n          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;\n      var protocol = lines[0].substr(2).split(' ')[2];\n\n      var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n      var remoteMsid = SDPUtils.parseMsid(mediaSection);\n\n      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();\n\n      // Reject datachannels which are not implemented yet.\n      if ((kind === 'application' && protocol === 'DTLS/SCTP') || rejected) {\n        // TODO: this is dangerous in the case where a non-rejected m-line\n        //     becomes rejected.\n        pc.transceivers[sdpMLineIndex] = {\n          mid: mid,\n          kind: kind,\n          rejected: true\n        };\n        return;\n      }\n\n      if (!rejected && pc.transceivers[sdpMLineIndex] &&\n          pc.transceivers[sdpMLineIndex].rejected) {\n        // recycle a rejected transceiver.\n        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);\n      }\n\n      var transceiver;\n      var iceGatherer;\n      var iceTransport;\n      var dtlsTransport;\n      var rtpReceiver;\n      var sendEncodingParameters;\n      var recvEncodingParameters;\n      var localCapabilities;\n\n      var track;\n      // FIXME: ensure the mediaSection has rtcp-mux set.\n      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n      var remoteIceParameters;\n      var remoteDtlsParameters;\n      if (!rejected) {\n        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n            sessionpart);\n        remoteDtlsParameters.role = 'client';\n      }\n      recvEncodingParameters =\n          SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);\n\n      var isComplete = SDPUtils.matchPrefix(mediaSection,\n          'a=end-of-candidates', sessionpart).length > 0;\n      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n          .map(function(cand) {\n            return SDPUtils.parseCandidate(cand);\n          })\n          .filter(function(cand) {\n            return cand.component === 1;\n          });\n\n      // Check if we can use BUNDLE and dispose transports.\n      if ((description.type === 'offer' || description.type === 'answer') &&\n          !rejected && usingBundle && sdpMLineIndex > 0 &&\n          pc.transceivers[sdpMLineIndex]) {\n        pc._disposeIceAndDtlsTransports(sdpMLineIndex);\n        pc.transceivers[sdpMLineIndex].iceGatherer =\n            pc.transceivers[0].iceGatherer;\n        pc.transceivers[sdpMLineIndex].iceTransport =\n            pc.transceivers[0].iceTransport;\n        pc.transceivers[sdpMLineIndex].dtlsTransport =\n            pc.transceivers[0].dtlsTransport;\n        if (pc.transceivers[sdpMLineIndex].rtpSender) {\n          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {\n          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(\n              pc.transceivers[0].dtlsTransport);\n        }\n      }\n      if (description.type === 'offer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex] ||\n            pc._createTransceiver(kind);\n        transceiver.mid = mid;\n\n        if (!transceiver.iceGatherer) {\n          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n              usingBundle);\n        }\n\n        if (cands.length && transceiver.iceTransport.state === 'new') {\n          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {\n            transceiver.iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);\n\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        if (edgeVersion < 15019) {\n          localCapabilities.codecs = localCapabilities.codecs.filter(\n              function(codec) {\n                return codec.name !== 'rtx';\n              });\n        }\n\n        sendEncodingParameters = transceiver.sendEncodingParameters || [{\n          ssrc: (2 * sdpMLineIndex + 2) * 1001\n        }];\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        var isNewTrack = false;\n        if (direction === 'sendrecv' || direction === 'sendonly') {\n          isNewTrack = !transceiver.rtpReceiver;\n          rtpReceiver = transceiver.rtpReceiver ||\n              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);\n\n          if (isNewTrack) {\n            var stream;\n            track = rtpReceiver.track;\n            // FIXME: does not work with Plan B.\n            if (remoteMsid && remoteMsid.stream === '-') {\n              // no-op. a stream id of '-' means: no associated stream.\n            } else if (remoteMsid) {\n              if (!streams[remoteMsid.stream]) {\n                streams[remoteMsid.stream] = new window.MediaStream();\n                Object.defineProperty(streams[remoteMsid.stream], 'id', {\n                  get: function() {\n                    return remoteMsid.stream;\n                  }\n                });\n              }\n              Object.defineProperty(track, 'id', {\n                get: function() {\n                  return remoteMsid.track;\n                }\n              });\n              stream = streams[remoteMsid.stream];\n            } else {\n              if (!streams.default) {\n                streams.default = new window.MediaStream();\n              }\n              stream = streams.default;\n            }\n            if (stream) {\n              addTrackToStreamAndFireEvent(track, stream);\n              transceiver.associatedRemoteMediaStreams.push(stream);\n            }\n            receiverList.push([track, rtpReceiver, stream]);\n          }\n        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {\n          transceiver.associatedRemoteMediaStreams.forEach(function(s) {\n            var nativeTrack = s.getTracks().find(function(t) {\n              return t.id === transceiver.rtpReceiver.track.id;\n            });\n            if (nativeTrack) {\n              removeTrackFromStreamAndFireEvent(nativeTrack, s);\n            }\n          });\n          transceiver.associatedRemoteMediaStreams = [];\n        }\n\n        transceiver.localCapabilities = localCapabilities;\n        transceiver.remoteCapabilities = remoteCapabilities;\n        transceiver.rtpReceiver = rtpReceiver;\n        transceiver.rtcpParameters = rtcpParameters;\n        transceiver.sendEncodingParameters = sendEncodingParameters;\n        transceiver.recvEncodingParameters = recvEncodingParameters;\n\n        // Start the RTCRtpReceiver now. The RTPSender is started in\n        // setLocalDescription.\n        pc._transceive(pc.transceivers[sdpMLineIndex],\n            false,\n            isNewTrack);\n      } else if (description.type === 'answer' && !rejected) {\n        transceiver = pc.transceivers[sdpMLineIndex];\n        iceGatherer = transceiver.iceGatherer;\n        iceTransport = transceiver.iceTransport;\n        dtlsTransport = transceiver.dtlsTransport;\n        rtpReceiver = transceiver.rtpReceiver;\n        sendEncodingParameters = transceiver.sendEncodingParameters;\n        localCapabilities = transceiver.localCapabilities;\n\n        pc.transceivers[sdpMLineIndex].recvEncodingParameters =\n            recvEncodingParameters;\n        pc.transceivers[sdpMLineIndex].remoteCapabilities =\n            remoteCapabilities;\n        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;\n\n        if (cands.length && iceTransport.state === 'new') {\n          if ((isIceLite || isComplete) &&\n              (!usingBundle || sdpMLineIndex === 0)) {\n            iceTransport.setRemoteCandidates(cands);\n          } else {\n            cands.forEach(function(candidate) {\n              maybeAddCandidate(transceiver.iceTransport, candidate);\n            });\n          }\n        }\n\n        if (!usingBundle || sdpMLineIndex === 0) {\n          if (iceTransport.state === 'new') {\n            iceTransport.start(iceGatherer, remoteIceParameters,\n                'controlling');\n          }\n          if (dtlsTransport.state === 'new') {\n            dtlsTransport.start(remoteDtlsParameters);\n          }\n        }\n\n        pc._transceive(transceiver,\n            direction === 'sendrecv' || direction === 'recvonly',\n            direction === 'sendrecv' || direction === 'sendonly');\n\n        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams\n        if (rtpReceiver &&\n            (direction === 'sendrecv' || direction === 'sendonly')) {\n          track = rtpReceiver.track;\n          if (remoteMsid) {\n            if (!streams[remoteMsid.stream]) {\n              streams[remoteMsid.stream] = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);\n            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);\n          } else {\n            if (!streams.default) {\n              streams.default = new window.MediaStream();\n            }\n            addTrackToStreamAndFireEvent(track, streams.default);\n            receiverList.push([track, rtpReceiver, streams.default]);\n          }\n        } else {\n          // FIXME: actually the receiver should be created later.\n          delete transceiver.rtpReceiver;\n        }\n      }\n    });\n\n    if (pc._dtlsRole === undefined) {\n      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';\n    }\n\n    pc.remoteDescription = {\n      type: description.type,\n      sdp: description.sdp\n    };\n    if (description.type === 'offer') {\n      pc._updateSignalingState('have-remote-offer');\n    } else {\n      pc._updateSignalingState('stable');\n    }\n    Object.keys(streams).forEach(function(sid) {\n      var stream = streams[sid];\n      if (stream.getTracks().length) {\n        if (pc.remoteStreams.indexOf(stream) === -1) {\n          pc.remoteStreams.push(stream);\n          var event = new Event('addstream');\n          event.stream = stream;\n          window.setTimeout(function() {\n            pc._dispatchEvent('addstream', event);\n          });\n        }\n\n        receiverList.forEach(function(item) {\n          var track = item[0];\n          var receiver = item[1];\n          if (stream.id !== item[2].id) {\n            return;\n          }\n          fireAddTrack(pc, track, receiver, [stream]);\n        });\n      }\n    });\n    receiverList.forEach(function(item) {\n      if (item[2]) {\n        return;\n      }\n      fireAddTrack(pc, item[0], item[1], []);\n    });\n\n    // check whether addIceCandidate({}) was called within four seconds after\n    // setRemoteDescription.\n    window.setTimeout(function() {\n      if (!(pc && pc.transceivers)) {\n        return;\n      }\n      pc.transceivers.forEach(function(transceiver) {\n        if (transceiver.iceTransport &&\n            transceiver.iceTransport.state === 'new' &&\n            transceiver.iceTransport.getRemoteCandidates().length > 0) {\n          console.warn('Timeout for addRemoteCandidate. Consider sending ' +\n              'an end-of-candidates notification');\n          transceiver.iceTransport.addRemoteCandidate({});\n        }\n      });\n    }, 4000);\n\n    return Promise.resolve();\n  };\n\n  RTCPeerConnection.prototype.close = function() {\n    this.transceivers.forEach(function(transceiver) {\n      /* not yet\n      if (transceiver.iceGatherer) {\n        transceiver.iceGatherer.close();\n      }\n      */\n      if (transceiver.iceTransport) {\n        transceiver.iceTransport.stop();\n      }\n      if (transceiver.dtlsTransport) {\n        transceiver.dtlsTransport.stop();\n      }\n      if (transceiver.rtpSender) {\n        transceiver.rtpSender.stop();\n      }\n      if (transceiver.rtpReceiver) {\n        transceiver.rtpReceiver.stop();\n      }\n    });\n    // FIXME: clean up tracks, local streams, remote streams, etc\n    this._isClosed = true;\n    this._updateSignalingState('closed');\n  };\n\n  // Update the signaling state.\n  RTCPeerConnection.prototype._updateSignalingState = function(newState) {\n    this.signalingState = newState;\n    var event = new Event('signalingstatechange');\n    this._dispatchEvent('signalingstatechange', event);\n  };\n\n  // Determine whether to fire the negotiationneeded event.\n  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {\n    var pc = this;\n    if (this.signalingState !== 'stable' || this.needNegotiation === true) {\n      return;\n    }\n    this.needNegotiation = true;\n    window.setTimeout(function() {\n      if (pc.needNegotiation) {\n        pc.needNegotiation = false;\n        var event = new Event('negotiationneeded');\n        pc._dispatchEvent('negotiationneeded', event);\n      }\n    }, 0);\n  };\n\n  // Update the ice connection state.\n  RTCPeerConnection.prototype._updateIceConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      checking: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n    });\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.checking > 0) {\n      newState = 'checking';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    } else if (states.completed > 0) {\n      newState = 'completed';\n    }\n\n    if (newState !== this.iceConnectionState) {\n      this.iceConnectionState = newState;\n      var event = new Event('iceconnectionstatechange');\n      this._dispatchEvent('iceconnectionstatechange', event);\n    }\n  };\n\n  // Update the connection state.\n  RTCPeerConnection.prototype._updateConnectionState = function() {\n    var newState;\n    var states = {\n      'new': 0,\n      closed: 0,\n      connecting: 0,\n      connected: 0,\n      completed: 0,\n      disconnected: 0,\n      failed: 0\n    };\n    this.transceivers.forEach(function(transceiver) {\n      states[transceiver.iceTransport.state]++;\n      states[transceiver.dtlsTransport.state]++;\n    });\n    // ICETransport.completed and connected are the same for this purpose.\n    states.connected += states.completed;\n\n    newState = 'new';\n    if (states.failed > 0) {\n      newState = 'failed';\n    } else if (states.connecting > 0) {\n      newState = 'connecting';\n    } else if (states.disconnected > 0) {\n      newState = 'disconnected';\n    } else if (states.new > 0) {\n      newState = 'new';\n    } else if (states.connected > 0) {\n      newState = 'connected';\n    }\n\n    if (newState !== this.connectionState) {\n      this.connectionState = newState;\n      var event = new Event('connectionstatechange');\n      this._dispatchEvent('connectionstatechange', event);\n    }\n  };\n\n  RTCPeerConnection.prototype.createOffer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createOffer after close'));\n    }\n\n    var numAudioTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'audio';\n    }).length;\n    var numVideoTracks = pc.transceivers.filter(function(t) {\n      return t.kind === 'video';\n    }).length;\n\n    // Determine number of audio and video tracks we need to send/recv.\n    var offerOptions = arguments[0];\n    if (offerOptions) {\n      // Reject Chrome legacy constraints.\n      if (offerOptions.mandatory || offerOptions.optional) {\n        throw new TypeError(\n            'Legacy mandatory/optional constraints not supported.');\n      }\n      if (offerOptions.offerToReceiveAudio !== undefined) {\n        if (offerOptions.offerToReceiveAudio === true) {\n          numAudioTracks = 1;\n        } else if (offerOptions.offerToReceiveAudio === false) {\n          numAudioTracks = 0;\n        } else {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n      }\n      if (offerOptions.offerToReceiveVideo !== undefined) {\n        if (offerOptions.offerToReceiveVideo === true) {\n          numVideoTracks = 1;\n        } else if (offerOptions.offerToReceiveVideo === false) {\n          numVideoTracks = 0;\n        } else {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n    }\n\n    pc.transceivers.forEach(function(transceiver) {\n      if (transceiver.kind === 'audio') {\n        numAudioTracks--;\n        if (numAudioTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      } else if (transceiver.kind === 'video') {\n        numVideoTracks--;\n        if (numVideoTracks < 0) {\n          transceiver.wantReceive = false;\n        }\n      }\n    });\n\n    // Create M-lines for recvonly streams.\n    while (numAudioTracks > 0 || numVideoTracks > 0) {\n      if (numAudioTracks > 0) {\n        pc._createTransceiver('audio');\n        numAudioTracks--;\n      }\n      if (numVideoTracks > 0) {\n        pc._createTransceiver('video');\n        numVideoTracks--;\n      }\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      // For each track, create an ice gatherer, ice transport,\n      // dtls transport, potentially rtpsender and rtpreceiver.\n      var track = transceiver.track;\n      var kind = transceiver.kind;\n      var mid = transceiver.mid || SDPUtils.generateIdentifier();\n      transceiver.mid = mid;\n\n      if (!transceiver.iceGatherer) {\n        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,\n            pc.usingBundle);\n      }\n\n      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);\n      // filter RTX until additional stuff needed for RTX is implemented\n      // in adapter.js\n      if (edgeVersion < 15019) {\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n      }\n      localCapabilities.codecs.forEach(function(codec) {\n        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n        // by adding level-asymmetry-allowed=1\n        if (codec.name === 'H264' &&\n            codec.parameters['level-asymmetry-allowed'] === undefined) {\n          codec.parameters['level-asymmetry-allowed'] = '1';\n        }\n\n        // for subsequent offers, we might have to re-use the payload\n        // type of the last offer.\n        if (transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.codecs) {\n          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {\n            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&\n                codec.clockRate === remoteCodec.clockRate) {\n              codec.preferredPayloadType = remoteCodec.payloadType;\n            }\n          });\n        }\n      });\n      localCapabilities.headerExtensions.forEach(function(hdrExt) {\n        var remoteExtensions = transceiver.remoteCapabilities &&\n            transceiver.remoteCapabilities.headerExtensions || [];\n        remoteExtensions.forEach(function(rHdrExt) {\n          if (hdrExt.uri === rHdrExt.uri) {\n            hdrExt.id = rHdrExt.id;\n          }\n        });\n      });\n\n      // generate an ssrc now, to be used later in rtpSender.send\n      var sendEncodingParameters = transceiver.sendEncodingParameters || [{\n        ssrc: (2 * sdpMLineIndex + 1) * 1001\n      }];\n      if (track) {\n        // add RTX\n        if (edgeVersion >= 15019 && kind === 'video' &&\n            !sendEncodingParameters[0].rtx) {\n          sendEncodingParameters[0].rtx = {\n            ssrc: sendEncodingParameters[0].ssrc + 1\n          };\n        }\n      }\n\n      if (transceiver.wantReceive) {\n        transceiver.rtpReceiver = new window.RTCRtpReceiver(\n            transceiver.dtlsTransport, kind);\n      }\n\n      transceiver.localCapabilities = localCapabilities;\n      transceiver.sendEncodingParameters = sendEncodingParameters;\n    });\n\n    // always offer BUNDLE and dispose on return if not supported.\n    if (pc._config.bundlePolicy !== 'max-compat') {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    sdp += 'a=ice-options:trickle\\r\\n';\n\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,\n          'offer', transceiver.stream, pc._dtlsRole);\n      sdp += 'a=rtcp-rsize\\r\\n';\n\n      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&\n          (sdpMLineIndex === 0 || !pc.usingBundle)) {\n        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {\n          cand.component = 1;\n          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\\r\\n';\n        });\n\n        if (transceiver.iceGatherer.state === 'completed') {\n          sdp += 'a=end-of-candidates\\r\\n';\n        }\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'offer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.createAnswer = function() {\n    var pc = this;\n\n    if (pc._isClosed) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer after close'));\n    }\n\n    if (!(pc.signalingState === 'have-remote-offer' ||\n        pc.signalingState === 'have-local-pranswer')) {\n      return Promise.reject(makeError('InvalidStateError',\n          'Can not call createAnswer in signalingState ' + pc.signalingState));\n    }\n\n    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,\n        pc._sdpSessionVersion++);\n    if (pc.usingBundle) {\n      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {\n        return t.mid;\n      }).join(' ') + '\\r\\n';\n    }\n    var mediaSectionsInOffer = SDPUtils.getMediaSections(\n        pc.remoteDescription.sdp).length;\n    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {\n      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {\n        return;\n      }\n      if (transceiver.rejected) {\n        if (transceiver.kind === 'application') {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n';\n        } else if (transceiver.kind === 'audio') {\n          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\\r\\n' +\n              'a=rtpmap:0 PCMU/8000\\r\\n';\n        } else if (transceiver.kind === 'video') {\n          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\\r\\n' +\n              'a=rtpmap:120 VP8/90000\\r\\n';\n        }\n        sdp += 'c=IN IP4 0.0.0.0\\r\\n' +\n            'a=inactive\\r\\n' +\n            'a=mid:' + transceiver.mid + '\\r\\n';\n        return;\n      }\n\n      // FIXME: look at direction.\n      if (transceiver.stream) {\n        var localTrack;\n        if (transceiver.kind === 'audio') {\n          localTrack = transceiver.stream.getAudioTracks()[0];\n        } else if (transceiver.kind === 'video') {\n          localTrack = transceiver.stream.getVideoTracks()[0];\n        }\n        if (localTrack) {\n          // add RTX\n          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&\n              !transceiver.sendEncodingParameters[0].rtx) {\n            transceiver.sendEncodingParameters[0].rtx = {\n              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1\n            };\n          }\n        }\n      }\n\n      // Calculate intersection of capabilities.\n      var commonCapabilities = getCommonCapabilities(\n          transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n\n      var hasRtx = commonCapabilities.codecs.filter(function(c) {\n        return c.name.toLowerCase() === 'rtx';\n      }).length;\n      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {\n        delete transceiver.sendEncodingParameters[0].rtx;\n      }\n\n      sdp += writeMediaSection(transceiver, commonCapabilities,\n          'answer', transceiver.stream, pc._dtlsRole);\n      if (transceiver.rtcpParameters &&\n          transceiver.rtcpParameters.reducedSize) {\n        sdp += 'a=rtcp-rsize\\r\\n';\n      }\n    });\n\n    var desc = new window.RTCSessionDescription({\n      type: 'answer',\n      sdp: sdp\n    });\n    return Promise.resolve(desc);\n  };\n\n  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n    var pc = this;\n    var sections;\n    if (candidate && !(candidate.sdpMLineIndex !== undefined ||\n        candidate.sdpMid)) {\n      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));\n    }\n\n    // TODO: needs to go into ops queue.\n    return new Promise(function(resolve, reject) {\n      if (!pc.remoteDescription) {\n        return reject(makeError('InvalidStateError',\n            'Can not add ICE candidate without a remote description'));\n      } else if (!candidate || candidate.candidate === '') {\n        for (var j = 0; j < pc.transceivers.length; j++) {\n          if (pc.transceivers[j].rejected) {\n            continue;\n          }\n          pc.transceivers[j].iceTransport.addRemoteCandidate({});\n          sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n          sections[j] += 'a=end-of-candidates\\r\\n';\n          pc.remoteDescription.sdp =\n              SDPUtils.getDescription(pc.remoteDescription.sdp) +\n              sections.join('');\n          if (pc.usingBundle) {\n            break;\n          }\n        }\n      } else {\n        var sdpMLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < pc.transceivers.length; i++) {\n            if (pc.transceivers[i].mid === candidate.sdpMid) {\n              sdpMLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = pc.transceivers[sdpMLineIndex];\n        if (transceiver) {\n          if (transceiver.rejected) {\n            return resolve();\n          }\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return resolve();\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component && cand.component !== 1) {\n            return resolve();\n          }\n          // when using bundle, avoid adding candidates to the wrong\n          // ice transport. And avoid adding candidates added in the SDP.\n          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&\n              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {\n            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {\n              return reject(makeError('OperationError',\n                  'Can not add ICE candidate'));\n            }\n          }\n\n          // update the remoteDescription.\n          var candidateString = candidate.candidate.trim();\n          if (candidateString.indexOf('a=') === 0) {\n            candidateString = candidateString.substr(2);\n          }\n          sections = SDPUtils.getMediaSections(pc.remoteDescription.sdp);\n          sections[sdpMLineIndex] += 'a=' +\n              (cand.type ? candidateString : 'end-of-candidates')\n              + '\\r\\n';\n          pc.remoteDescription.sdp =\n              SDPUtils.getDescription(pc.remoteDescription.sdp) +\n              sections.join('');\n        } else {\n          return reject(makeError('OperationError',\n              'Can not add ICE candidate'));\n        }\n      }\n      resolve();\n    });\n  };\n\n  RTCPeerConnection.prototype.getStats = function(selector) {\n    if (selector && selector instanceof window.MediaStreamTrack) {\n      var senderOrReceiver = null;\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.rtpSender &&\n            transceiver.rtpSender.track === selector) {\n          senderOrReceiver = transceiver.rtpSender;\n        } else if (transceiver.rtpReceiver &&\n            transceiver.rtpReceiver.track === selector) {\n          senderOrReceiver = transceiver.rtpReceiver;\n        }\n      });\n      if (!senderOrReceiver) {\n        throw makeError('InvalidAccessError', 'Invalid selector.');\n      }\n      return senderOrReceiver.getStats();\n    }\n\n    var promises = [];\n    this.transceivers.forEach(function(transceiver) {\n      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n          'dtlsTransport'].forEach(function(method) {\n            if (transceiver[method]) {\n              promises.push(transceiver[method].getStats());\n            }\n          });\n    });\n    return Promise.all(promises).then(function(allStats) {\n      var results = new Map();\n      allStats.forEach(function(stats) {\n        stats.forEach(function(stat) {\n          results.set(stat.id, stat);\n        });\n      });\n      return results;\n    });\n  };\n\n  // fix low-level stat names and return Map instead of object.\n  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',\n    'RTCIceTransport', 'RTCDtlsTransport'];\n  ortcObjects.forEach(function(ortcObjectName) {\n    var obj = window[ortcObjectName];\n    if (obj && obj.prototype && obj.prototype.getStats) {\n      var nativeGetstats = obj.prototype.getStats;\n      obj.prototype.getStats = function() {\n        return nativeGetstats.apply(this)\n        .then(function(nativeStats) {\n          var mapStats = new Map();\n          Object.keys(nativeStats).forEach(function(id) {\n            nativeStats[id].type = fixStatsType(nativeStats[id]);\n            mapStats.set(id, nativeStats[id]);\n          });\n          return mapStats;\n        });\n      };\n    }\n  });\n\n  // legacy callback shims. Should be moved to adapter.js some days.\n  var methods = ['createOffer', 'createAnswer'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[0] === 'function' ||\n          typeof args[1] === 'function') { // legacy\n        return nativeMethod.apply(this, [arguments[2]])\n        .then(function(description) {\n          if (typeof args[0] === 'function') {\n            args[0].apply(null, [description]);\n          }\n        }, function(error) {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];\n  methods.forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function' ||\n          typeof args[2] === 'function') { // legacy\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        }, function(error) {\n          if (typeof args[2] === 'function') {\n            args[2].apply(null, [error]);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  // getStats is special. It doesn't have a spec legacy method yet we support\n  // getStats(something, cb) without error callbacks.\n  ['getStats'].forEach(function(method) {\n    var nativeMethod = RTCPeerConnection.prototype[method];\n    RTCPeerConnection.prototype[method] = function() {\n      var args = arguments;\n      if (typeof args[1] === 'function') {\n        return nativeMethod.apply(this, arguments)\n        .then(function() {\n          if (typeof args[1] === 'function') {\n            args[1].apply(null);\n          }\n        });\n      }\n      return nativeMethod.apply(this, arguments);\n    };\n  });\n\n  return RTCPeerConnection;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var navigator = window && window.navigator;\n\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar shimRTCPeerConnection = require('rtcpeerconnection-shim');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (window.RTCIceGatherer) {\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed. Workaround for a bug in\n      // addStream, see below. No longer required in 15025+\n      if (browserDetails.version < 15025) {\n        var origMSTEnabled = Object.getOwnPropertyDescriptor(\n            window.MediaStreamTrack.prototype, 'enabled');\n        Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {\n          set: function(value) {\n            origMSTEnabled.set.call(this, value);\n            var ev = new Event('enabled');\n            ev.enabled = value;\n            this.dispatchEvent(ev);\n          }\n        });\n      }\n    }\n\n    // ORTC defines the DTMF sender a bit different.\n    // https://github.com/w3c/ortc/issues/714\n    if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n      Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n        get: function() {\n          if (this._dtmf === undefined) {\n            if (this.track.kind === 'audio') {\n              this._dtmf = new window.RTCDtmfSender(this);\n            } else if (this.track.kind === 'video') {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        }\n      });\n    }\n    // Edge currently only implements the RTCDtmfSender, not the\n    // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*\n    if (window.RTCDtmfSender && !window.RTCDTMFSender) {\n      window.RTCDTMFSender = window.RTCDtmfSender;\n    }\n\n    window.RTCPeerConnection =\n        shimRTCPeerConnection(window, browserDetails.version);\n  },\n  shimReplaceTrack: function(window) {\n    // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614\n    if (window.RTCRtpSender &&\n        !('replaceTrack' in window.RTCRtpSender.prototype)) {\n      window.RTCRtpSender.prototype.replaceTrack =\n          window.RTCRtpSender.prototype.setTrack;\n    }\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\nvar logging = utils.log;\n\n// Expose public methods.\nmodule.exports = function(window) {\n  var browserDetails = utils.detectBrowser(window);\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        InternalError: 'NotReadableError',\n        NotSupportedError: 'TypeError',\n        PermissionDeniedError: 'NotAllowedError',\n        SecurityError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  if (!(browserDetails.version > 55 &&\n      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      if (typeof c === 'object' && typeof c.audio === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function() {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function(c) {\n        if (this.kind === 'audio' && typeof c === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia',\n        'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimGetUserMedia: require('./getusermedia'),\n  shimOnTrack: function(window) {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.transceiver = {receiver: event.receiver};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n    if (typeof window === 'object' && window.RTCTrackEvent &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        !('transceiver' in window.RTCTrackEvent.prototype)) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function(window) {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function(window) {\n    var browserDetails = utils.detectBrowser(window);\n\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new window.mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype =\n          window.mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (window.mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return window.mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = window.mozRTCSessionDescription;\n      window.RTCIceCandidate = window.mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = window.RTCPeerConnection.prototype[method];\n          window.RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                window.RTCIceCandidate :\n                window.RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        window.RTCPeerConnection.prototype.addIceCandidate;\n    window.RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function(stats) {\n      var map = new Map();\n      Object.keys(stats).forEach(function(key) {\n        map.set(key, stats[key]);\n        map[key] = stats[key];\n      });\n      return map;\n    };\n\n    var modernStatsTypes = {\n      inboundrtp: 'inbound-rtp',\n      outboundrtp: 'outbound-rtp',\n      candidatepair: 'candidate-pair',\n      localcandidate: 'local-candidate',\n      remotecandidate: 'remote-candidate'\n    };\n\n    var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n    window.RTCPeerConnection.prototype.getStats = function(\n      selector,\n      onSucc,\n      onErr\n    ) {\n      return nativeGetStats.apply(this, [selector || null])\n        .then(function(stats) {\n          if (browserDetails.version < 48) {\n            stats = makeMapStats(stats);\n          }\n          if (browserDetails.version < 53 && !onSucc) {\n            // Shim only promise getStats with spec-hyphens in type names\n            // Leave callback version alone; misc old uses of forEach before Map\n            try {\n              stats.forEach(function(stat) {\n                stat.type = modernStatsTypes[stat.type] || stat.type;\n              });\n            } catch (e) {\n              if (e.name !== 'TypeError') {\n                throw e;\n              }\n              // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n              stats.forEach(function(stat, i) {\n                stats.set(i, Object.assign({}, stat, {\n                  type: modernStatsTypes[stat.type] || stat.type\n                }));\n              });\n            }\n          }\n          return stats;\n        })\n        .then(onSucc, onErr);\n    };\n  },\n\n  shimRemoveStream: function(window) {\n    if (!window.RTCPeerConnection ||\n        'removeStream' in window.RTCPeerConnection.prototype) {\n      return;\n    }\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var pc = this;\n      utils.deprecated('removeStream', 'removeTrack');\n      this.getSenders().forEach(function(sender) {\n        if (sender.track && stream.getTracks().indexOf(sender.track) !== -1) {\n          pc.removeTrack(sender);\n        }\n      });\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\nvar utils = require('../utils');\n\nmodule.exports = {\n  shimLocalStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getLocalStreams = function() {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        return this._localStreams;\n      };\n    }\n    if (!('getStreamById' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getStreamById = function(id) {\n        var result = null;\n        if (this._localStreams) {\n          this._localStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        if (this._remoteStreams) {\n          this._remoteStreams.forEach(function(stream) {\n            if (stream.id === id) {\n              result = stream;\n            }\n          });\n        }\n        return result;\n      };\n    }\n    if (!('addStream' in window.RTCPeerConnection.prototype)) {\n      var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        if (this._localStreams.indexOf(stream) === -1) {\n          this._localStreams.push(stream);\n        }\n        var pc = this;\n        stream.getTracks().forEach(function(track) {\n          _addTrack.call(pc, track, stream);\n        });\n      };\n\n      window.RTCPeerConnection.prototype.addTrack = function(track, stream) {\n        if (stream) {\n          if (!this._localStreams) {\n            this._localStreams = [stream];\n          } else if (this._localStreams.indexOf(stream) === -1) {\n            this._localStreams.push(stream);\n          }\n        }\n        return _addTrack.call(this, track, stream);\n      };\n    }\n    if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.removeStream = function(stream) {\n        if (!this._localStreams) {\n          this._localStreams = [];\n        }\n        var index = this._localStreams.indexOf(stream);\n        if (index === -1) {\n          return;\n        }\n        this._localStreams.splice(index, 1);\n        var pc = this;\n        var tracks = stream.getTracks();\n        this.getSenders().forEach(function(sender) {\n          if (tracks.indexOf(sender.track) !== -1) {\n            pc.removeTrack(sender);\n          }\n        });\n      };\n    }\n  },\n  shimRemoteStreamsAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n      window.RTCPeerConnection.prototype.getRemoteStreams = function() {\n        return this._remoteStreams ? this._remoteStreams : [];\n      };\n    }\n    if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n        get: function() {\n          return this._onaddstream;\n        },\n        set: function(f) {\n          var pc = this;\n          if (this._onaddstream) {\n            this.removeEventListener('addstream', this._onaddstream);\n            this.removeEventListener('track', this._onaddstreampoly);\n          }\n          this.addEventListener('addstream', this._onaddstream = f);\n          this.addEventListener('track', this._onaddstreampoly = function(e) {\n            e.streams.forEach(function(stream) {\n              if (!pc._remoteStreams) {\n                pc._remoteStreams = [];\n              }\n              if (pc._remoteStreams.indexOf(stream) >= 0) {\n                return;\n              }\n              pc._remoteStreams.push(stream);\n              var event = new Event('addstream');\n              event.stream = stream;\n              pc.dispatchEvent(event);\n            });\n          });\n        }\n      });\n    }\n  },\n  shimCallbacksAPI: function(window) {\n    if (typeof window !== 'object' || !window.RTCPeerConnection) {\n      return;\n    }\n    var prototype = window.RTCPeerConnection.prototype;\n    var createOffer = prototype.createOffer;\n    var createAnswer = prototype.createAnswer;\n    var setLocalDescription = prototype.setLocalDescription;\n    var setRemoteDescription = prototype.setRemoteDescription;\n    var addIceCandidate = prototype.addIceCandidate;\n\n    prototype.createOffer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createOffer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    prototype.createAnswer = function(successCallback, failureCallback) {\n      var options = (arguments.length >= 2) ? arguments[2] : arguments[0];\n      var promise = createAnswer.apply(this, [options]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n\n    var withCallback = function(description, successCallback, failureCallback) {\n      var promise = setLocalDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setLocalDescription = withCallback;\n\n    withCallback = function(description, successCallback, failureCallback) {\n      var promise = setRemoteDescription.apply(this, [description]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.setRemoteDescription = withCallback;\n\n    withCallback = function(candidate, successCallback, failureCallback) {\n      var promise = addIceCandidate.apply(this, [candidate]);\n      if (!failureCallback) {\n        return promise;\n      }\n      promise.then(successCallback, failureCallback);\n      return Promise.resolve();\n    };\n    prototype.addIceCandidate = withCallback;\n  },\n  shimGetUserMedia: function(window) {\n    var navigator = window && window.navigator;\n\n    if (!navigator.getUserMedia) {\n      if (navigator.webkitGetUserMedia) {\n        navigator.getUserMedia = navigator.webkitGetUserMedia.bind(navigator);\n      } else if (navigator.mediaDevices &&\n          navigator.mediaDevices.getUserMedia) {\n        navigator.getUserMedia = function(constraints, cb, errcb) {\n          navigator.mediaDevices.getUserMedia(constraints)\n          .then(cb, errcb);\n        }.bind(navigator);\n      }\n    }\n  },\n  shimRTCIceServerUrls: function(window) {\n    // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n    var OrigPeerConnection = window.RTCPeerConnection;\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      if (pcConfig && pcConfig.iceServers) {\n        var newIceServers = [];\n        for (var i = 0; i < pcConfig.iceServers.length; i++) {\n          var server = pcConfig.iceServers[i];\n          if (!server.hasOwnProperty('urls') &&\n              server.hasOwnProperty('url')) {\n            utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n            server = JSON.parse(JSON.stringify(server));\n            server.urls = server.url;\n            delete server.url;\n            newIceServers.push(server);\n          } else {\n            newIceServers.push(pcConfig.iceServers[i]);\n          }\n        }\n        pcConfig.iceServers = newIceServers;\n      }\n      return new OrigPeerConnection(pcConfig, pcConstraints);\n    };\n    window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n    // wrap static methods. Currently just generateCertificate.\n    if ('generateCertificate' in window.RTCPeerConnection) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return OrigPeerConnection.generateCertificate;\n        }\n      });\n    }\n  },\n  shimTrackEventTransceiver: function(window) {\n    // Add event.transceiver member over deprecated event.receiver\n    if (typeof window === 'object' && window.RTCPeerConnection &&\n        ('receiver' in window.RTCTrackEvent.prototype) &&\n        // can't check 'transceiver' in window.RTCTrackEvent.prototype, as it is\n        // defined for some reason even when window.RTCTransceiver is not.\n        !window.RTCTransceiver) {\n      Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n        get: function() {\n          return {receiver: this.receiver};\n        }\n      });\n    }\n  },\n\n  shimCreateOfferLegacy: function(window) {\n    var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n    window.RTCPeerConnection.prototype.createOffer = function(offerOptions) {\n      var pc = this;\n      if (offerOptions) {\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n        }\n        var audioTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'audio';\n        });\n        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n          if (audioTransceiver.direction === 'sendrecv') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('sendonly');\n            } else {\n              audioTransceiver.direction = 'sendonly';\n            }\n          } else if (audioTransceiver.direction === 'recvonly') {\n            if (audioTransceiver.setDirection) {\n              audioTransceiver.setDirection('inactive');\n            } else {\n              audioTransceiver.direction = 'inactive';\n            }\n          }\n        } else if (offerOptions.offerToReceiveAudio === true &&\n            !audioTransceiver) {\n          pc.addTransceiver('audio');\n        }\n\n\n        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n          // support bit values\n          offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n        }\n        var videoTransceiver = pc.getTransceivers().find(function(transceiver) {\n          return transceiver.sender.track &&\n              transceiver.sender.track.kind === 'video';\n        });\n        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n          if (videoTransceiver.direction === 'sendrecv') {\n            videoTransceiver.setDirection('sendonly');\n          } else if (videoTransceiver.direction === 'recvonly') {\n            videoTransceiver.setDirection('inactive');\n          }\n        } else if (offerOptions.offerToReceiveVideo === true &&\n            !videoTransceiver) {\n          pc.addTransceiver('video');\n        }\n      }\n      return origCreateOffer.apply(pc, arguments);\n    };\n  }\n};\n","/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n'use strict';\n\nvar SDPUtils = require('sdp');\nvar utils = require('./utils');\n\nmodule.exports = {\n  shimRTCIceCandidate: function(window) {\n    // foundation is arbitrarily chosen as an indicator for full support for\n    // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n    if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in\n        window.RTCIceCandidate.prototype)) {\n      return;\n    }\n\n    var NativeRTCIceCandidate = window.RTCIceCandidate;\n    window.RTCIceCandidate = function(args) {\n      // Remove the a= which shouldn't be part of the candidate string.\n      if (typeof args === 'object' && args.candidate &&\n          args.candidate.indexOf('a=') === 0) {\n        args = JSON.parse(JSON.stringify(args));\n        args.candidate = args.candidate.substr(2);\n      }\n\n      if (args.candidate && args.candidate.length) {\n        // Augment the native candidate with the parsed fields.\n        var nativeCandidate = new NativeRTCIceCandidate(args);\n        var parsedCandidate = SDPUtils.parseCandidate(args.candidate);\n        var augmentedCandidate = Object.assign(nativeCandidate,\n            parsedCandidate);\n\n        // Add a serializer that does not serialize the extra attributes.\n        augmentedCandidate.toJSON = function() {\n          return {\n            candidate: augmentedCandidate.candidate,\n            sdpMid: augmentedCandidate.sdpMid,\n            sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n            usernameFragment: augmentedCandidate.usernameFragment,\n          };\n        };\n        return augmentedCandidate;\n      }\n      return new NativeRTCIceCandidate(args);\n    };\n    window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n    // Hook up the augmented candidate in onicecandidate and\n    // addEventListener('icecandidate', ...)\n    utils.wrapPeerConnectionEvent(window, 'icecandidate', function(e) {\n      if (e.candidate) {\n        Object.defineProperty(e, 'candidate', {\n          value: new window.RTCIceCandidate(e.candidate),\n          writable: 'false'\n        });\n      }\n      return e;\n    });\n  },\n\n  // shimCreateObjectURL must be called before shimSourceObject to avoid loop.\n\n  shimCreateObjectURL: function(window) {\n    var URL = window && window.URL;\n\n    if (!(typeof window === 'object' && window.HTMLMediaElement &&\n          'srcObject' in window.HTMLMediaElement.prototype &&\n        URL.createObjectURL && URL.revokeObjectURL)) {\n      // Only shim CreateObjectURL using srcObject if srcObject exists.\n      return undefined;\n    }\n\n    var nativeCreateObjectURL = URL.createObjectURL.bind(URL);\n    var nativeRevokeObjectURL = URL.revokeObjectURL.bind(URL);\n    var streams = new Map(), newId = 0;\n\n    URL.createObjectURL = function(stream) {\n      if ('getTracks' in stream) {\n        var url = 'polyblob:' + (++newId);\n        streams.set(url, stream);\n        utils.deprecated('URL.createObjectURL(stream)',\n            'elem.srcObject = stream');\n        return url;\n      }\n      return nativeCreateObjectURL(stream);\n    };\n    URL.revokeObjectURL = function(url) {\n      nativeRevokeObjectURL(url);\n      streams.delete(url);\n    };\n\n    var dsc = Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,\n                                              'src');\n    Object.defineProperty(window.HTMLMediaElement.prototype, 'src', {\n      get: function() {\n        return dsc.get.apply(this);\n      },\n      set: function(url) {\n        this.srcObject = streams.get(url) || null;\n        return dsc.set.apply(this, [url]);\n      }\n    });\n\n    var nativeSetAttribute = window.HTMLMediaElement.prototype.setAttribute;\n    window.HTMLMediaElement.prototype.setAttribute = function() {\n      if (arguments.length === 2 &&\n          ('' + arguments[0]).toLowerCase() === 'src') {\n        this.srcObject = streams.get(arguments[1]) || null;\n      }\n      return nativeSetAttribute.apply(this, arguments);\n    };\n  },\n\n  shimMaxMessageSize: function(window) {\n    if (window.RTCSctpTransport || !window.RTCPeerConnection) {\n      return;\n    }\n    var browserDetails = utils.detectBrowser(window);\n\n    if (!('sctp' in window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n        get: function() {\n          return typeof this._sctp === 'undefined' ? null : this._sctp;\n        }\n      });\n    }\n\n    var sctpInDescription = function(description) {\n      var sections = SDPUtils.splitSections(description.sdp);\n      sections.shift();\n      return sections.some(function(mediaSection) {\n        var mLine = SDPUtils.parseMLine(mediaSection);\n        return mLine && mLine.kind === 'application'\n            && mLine.protocol.indexOf('SCTP') !== -1;\n      });\n    };\n\n    var getRemoteFirefoxVersion = function(description) {\n      // TODO: Is there a better solution for detecting Firefox?\n      var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n      if (match === null || match.length < 2) {\n        return -1;\n      }\n      var version = parseInt(match[1], 10);\n      // Test for NaN (yes, this is ugly)\n      return version !== version ? -1 : version;\n    };\n\n    var getCanSendMaxMessageSize = function(remoteIsFirefox) {\n      // Every implementation we know can send at least 64 KiB.\n      // Note: Although Chrome is technically able to send up to 256 KiB, the\n      //       data does not reach the other peer reliably.\n      //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n      var canSendMaxMessageSize = 65536;\n      if (browserDetails.browser === 'firefox') {\n        if (browserDetails.version < 57) {\n          if (remoteIsFirefox === -1) {\n            // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n            // fragmentation.\n            canSendMaxMessageSize = 16384;\n          } else {\n            // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n            // messages. Thus, supporting ~2 GiB when sending.\n            canSendMaxMessageSize = 2147483637;\n          }\n        } else {\n          // Currently, all FF >= 57 will reset the remote maximum message size\n          // to the default value when a data channel is created at a later\n          // stage. :(\n          // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n          canSendMaxMessageSize =\n            browserDetails.version === 57 ? 65535 : 65536;\n        }\n      }\n      return canSendMaxMessageSize;\n    };\n\n    var getMaxMessageSize = function(description, remoteIsFirefox) {\n      // Note: 65536 bytes is the default value from the SDP spec. Also,\n      //       every implementation we know supports receiving 65536 bytes.\n      var maxMessageSize = 65536;\n\n      // FF 57 has a slightly incorrect default remote max message size, so\n      // we need to adjust it here to avoid a failure when sending.\n      // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n      if (browserDetails.browser === 'firefox'\n           && browserDetails.version === 57) {\n        maxMessageSize = 65535;\n      }\n\n      var match = SDPUtils.matchPrefix(description.sdp, 'a=max-message-size:');\n      if (match.length > 0) {\n        maxMessageSize = parseInt(match[0].substr(19), 10);\n      } else if (browserDetails.browser === 'firefox' &&\n                  remoteIsFirefox !== -1) {\n        // If the maximum message size is not present in the remote SDP and\n        // both local and remote are Firefox, the remote peer can receive\n        // ~2 GiB.\n        maxMessageSize = 2147483637;\n      }\n      return maxMessageSize;\n    };\n\n    var origSetRemoteDescription =\n        window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function() {\n      var pc = this;\n      pc._sctp = null;\n\n      if (sctpInDescription(arguments[0])) {\n        // Check if the remote is FF.\n        var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n        // Get the maximum message size the local peer is capable of sending\n        var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n        // Get the maximum message size of the remote peer.\n        var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n        // Determine final maximum message size\n        var maxMessageSize;\n        if (canSendMMS === 0 && remoteMMS === 0) {\n          maxMessageSize = Number.POSITIVE_INFINITY;\n        } else if (canSendMMS === 0 || remoteMMS === 0) {\n          maxMessageSize = Math.max(canSendMMS, remoteMMS);\n        } else {\n          maxMessageSize = Math.min(canSendMMS, remoteMMS);\n        }\n\n        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n        // attribute.\n        var sctp = {};\n        Object.defineProperty(sctp, 'maxMessageSize', {\n          get: function() {\n            return maxMessageSize;\n          }\n        });\n        pc._sctp = sctp;\n      }\n\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  },\n\n  shimSendThrowTypeError: function(window) {\n    if (!(window.RTCPeerConnection &&\n        'createDataChannel' in window.RTCPeerConnection.prototype)) {\n      return;\n    }\n\n    // Note: Although Firefox >= 57 has a native implementation, the maximum\n    //       message size can be reset for all data channels at a later stage.\n    //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n    var origCreateDataChannel =\n      window.RTCPeerConnection.prototype.createDataChannel;\n    window.RTCPeerConnection.prototype.createDataChannel = function() {\n      var pc = this;\n      var dataChannel = origCreateDataChannel.apply(pc, arguments);\n      var origDataChannelSend = dataChannel.send;\n\n      // Patch 'send' method\n      dataChannel.send = function() {\n        var dc = this;\n        var data = arguments[0];\n        var length = data.length || data.size || data.byteLength;\n        if (length > pc.sctp.maxMessageSize) {\n          throw new DOMException('Message too large (can send a maximum of ' +\n            pc.sctp.maxMessageSize + ' bytes)', 'TypeError');\n        }\n        return origDataChannelSend.apply(dc, arguments);\n      };\n\n      return dataChannel;\n    };\n  }\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar utils = require('./utils');\n// Shimming starts here.\nmodule.exports = function(dependencies, opts) {\n  var window = dependencies && dependencies.window;\n\n  var options = {\n    shimChrome: true,\n    shimFirefox: true,\n    shimEdge: true,\n    shimSafari: true,\n  };\n\n  for (var key in opts) {\n    if (hasOwnProperty.call(opts, key)) {\n      options[key] = opts[key];\n    }\n  }\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n  var commonShim = require('./common_shim') || null;\n\n  // Export to the adapter global object visible in the browser.\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection ||\n          !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      chromeShim.shimGetUserMedia(window);\n      chromeShim.shimMediaStream(window);\n      chromeShim.shimSourceObject(window);\n      chromeShim.shimPeerConnection(window);\n      chromeShim.shimOnTrack(window);\n      chromeShim.shimAddTrackRemoveTrack(window);\n      chromeShim.shimGetSendersWithDtmf(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection ||\n          !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n      commonShim.shimCreateObjectURL(window);\n\n      firefoxShim.shimGetUserMedia(window);\n      firefoxShim.shimSourceObject(window);\n      firefoxShim.shimPeerConnection(window);\n      firefoxShim.shimOnTrack(window);\n      firefoxShim.shimRemoveStream(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection || !options.shimEdge) {\n        logging('MS edge shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = edgeShim;\n      commonShim.shimCreateObjectURL(window);\n\n      edgeShim.shimGetUserMedia(window);\n      edgeShim.shimPeerConnection(window);\n      edgeShim.shimReplaceTrack(window);\n\n      // the edge shim implements the full RTCIceCandidate object.\n\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n      commonShim.shimCreateObjectURL(window);\n\n      safariShim.shimRTCIceServerUrls(window);\n      safariShim.shimCallbacksAPI(window);\n      safariShim.shimLocalStreamsAPI(window);\n      safariShim.shimRemoteStreamsAPI(window);\n      safariShim.shimTrackEventTransceiver(window);\n      safariShim.shimGetUserMedia(window);\n      safariShim.shimCreateOfferLegacy(window);\n\n      commonShim.shimRTCIceCandidate(window);\n      commonShim.shimMaxMessageSize(window);\n      commonShim.shimSendThrowTypeError(window);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n};\n","/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n'use strict';\n\nvar adapterFactory = require('./adapter_factory.js');\nmodule.exports = adapterFactory({window: global.window});\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/set-prototype-of\"), __esModule: true };","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && ((typeof call === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(call)) === \"object\" || typeof call === \"function\") ? call : self;\n};","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","/**\n * A camera for video input available to be used on the device.\n */\nexport interface Camera {\n  /**\n   * The unique identifier for the device, can change between page loads.\n   */\n  readonly deviceId: string;\n  /**\n   * The label describing the device.\n   */\n  readonly label: string;\n  /**\n   * The type of camera, back or front (not guaranteed to be correct, depending on the device).\n   */\n  readonly cameraType: Camera.Type;\n  /**\n   * The current video resolution if and when the camera is in use, given as width and height in pixels.\n   */\n  currentResolution?: { width: number; height: number };\n}\n\nexport namespace Camera {\n  /**\n   * Camera type (not guaranteed to be correct, depending on the device).\n   */\n  export enum Type {\n    /**\n     * Front facing camera.\n     */\n    FRONT_DEPRECATED = 0,\n    /**\n     * Back facing camera.\n     */\n    BACK_DEPRECATED = 1,\n    /**\n     * Front facing camera.\n     */\n    FRONT = \"front\",\n    /**\n     * Back facing camera.\n     */\n    BACK = \"back\"\n  }\n}\n","/**\n * A configuration object to define the properties of an image to be scanned.\n */\nexport interface ImageSettings {\n  /**\n   * The width of the image (columns of pixels).\n   */\n  readonly width: number;\n  /**\n   * The height of the image (rows of pixels).\n   */\n  readonly height: number;\n  /**\n   * The format of the pixel data, meaning the mapping of array bytes to image pixels.\n   */\n  readonly format: ImageSettings.Format;\n}\n\nexport namespace ImageSettings {\n  // Warning: the values of Format are important as the engine web worker relies on them without type checking.\n  /**\n   * Image bytes format/layout.\n   */\n  export enum Format {\n    /**\n     * Single-channel 8-bit gray scale image.\n     */\n    GRAY_8U = 0,\n    /**\n     * RGB image with 8 bits per color channel.\n     */\n    RGB_8U = 1,\n    /**\n     * RGBA image with 8 bits per color channel.\n     */\n    RGBA_8U = 2\n  }\n}\n","import { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CustomError } from \"./customError\";\n\n/**\n * A helper object to interact with cameras.\n */\nexport namespace CameraAccess {\n  /**\n   * @hidden\n   *\n   * Handle localized camera labels. Supported languages:\n   * English, German, French, Spanish (spain), Portuguese (brasil), Portuguese (portugal), Italian,\n   * Chinese (simplified), Chinese (traditional), Japanese, Russian, Turkish, Dutch, Arabic, Thai, Swedish,\n   * Danish, Vietnamese, Norwegian, Polish, Finnish, Indonesian, Hebrew, Greek, Romanian, Hungarian, Czech,\n   * Catalan, Slovak, Ukraininan, Croatian, Malay, Hindi.\n   */\n  const backCameraKeywords: string[] = [\n    \"rear\",\n    \"back\",\n    \"rück\",\n    \"arrière\",\n    \"trasera\",\n    \"trás\",\n    \"traseira\",\n    \"posteriore\",\n    \"后面\",\n    \"後面\",\n    \"背面\",\n    \"后置\", // alternative\n    \"後置\", // alternative\n    \"背置\", // alternative\n    \"задней\",\n    \"الخلفية\",\n    \"후\",\n    \"arka\",\n    \"achterzijde\",\n    \"หลัง\",\n    \"baksidan\",\n    \"bagside\",\n    \"sau\",\n    \"bak\",\n    \"tylny\",\n    \"takakamera\",\n    \"belakang\",\n    \"אחורית\",\n    \"πίσω\",\n    \"spate\",\n    \"hátsó\",\n    \"zadní\",\n    \"darrere\",\n    \"zadná\",\n    \"задня\",\n    \"stražnja\",\n    \"belakang\",\n    \"बैक\"\n  ];\n\n  /**\n   * @hidden\n   */\n  export let mediaStream: MediaStream;\n\n  /**\n   * Get a list of cameras (if any) available on the device, a camera access permission is requested to the user\n   * the first time this method is called if needed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   *\n   * @returns A promise resolving to the array of available [[Camera]] objects (could be empty).\n   */\n  export function getCameras(): Promise<Camera[]> {\n    return new Promise((resolve, reject) => {\n      const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n      if (unsupportedBrowserError != null) {\n        return reject(unsupportedBrowserError);\n      }\n\n      let accessPermissionPromise: Promise<any> = Promise.resolve();\n      if (mediaStream == null) {\n        accessPermissionPromise = navigator.mediaDevices.getUserMedia({\n          video: true,\n          audio: false\n        });\n      }\n\n      accessPermissionPromise\n        .then(stream => {\n          if (stream != null) {\n            mediaStream = stream;\n          }\n\n          return enumerateDevices()\n            .then(devices => {\n              const cameras: Camera[] = devices\n                .filter(device => {\n                  return device.kind === \"videoinput\";\n                })\n                .map(videoDevice => {\n                  const label: string = videoDevice.label != null ? videoDevice.label : \"\";\n                  const lowercaseLabel: string = label.toLowerCase();\n\n                  return {\n                    deviceId: videoDevice.deviceId,\n                    label: label,\n                    cameraType: backCameraKeywords.some(keyword => {\n                      return lowercaseLabel.indexOf(keyword) !== -1;\n                    })\n                      ? Camera.Type.BACK\n                      : Camera.Type.FRONT\n                  };\n                });\n              if (\n                cameras.length > 1 &&\n                !cameras.some(camera => {\n                  return camera.cameraType === Camera.Type.BACK;\n                })\n              ) {\n                const camera: Camera = cameras.slice(-1)[0];\n                cameras[cameras.length - 1] = {\n                  deviceId: camera.deviceId,\n                  label: camera.label,\n                  cameraType: Camera.Type.BACK\n                };\n              }\n\n              mediaStream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return resolve(cameras);\n            })\n            .catch(error => {\n              mediaStream.getVideoTracks().forEach(track => {\n                track.stop();\n              });\n\n              return reject(error);\n            });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  }\n\n  /**\n   * @hidden\n   *\n   * Try to access a given camera for video input at the given resolution level.\n   *\n   * @param resolutionFallbackLevel The number representing the wanted resolution, from 0 to 6,\n   * resulting in higher to lower video resolutions.\n   * @param camera The camera to try to access for video input.\n   * @returns A promise resolving to the <tt>MediaStream</tt> object coming from the accessed camera.\n   */\n  export function accessCameraStream(resolutionFallbackLevel: number, camera?: Camera): Promise<MediaStream> {\n    const getUserMediaParams: any = {\n      audio: false,\n      video: {}\n    };\n    if (resolutionFallbackLevel === 0) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1400,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1440,\n          max: 1440\n        }\n      };\n    } else if (resolutionFallbackLevel === 1) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1200,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1200,\n          max: 1200\n        }\n      };\n    } else if (resolutionFallbackLevel === 2) {\n      getUserMediaParams.video = {\n        width: {\n          min: 1080,\n          ideal: 1920,\n          max: 1920\n        },\n        height: {\n          min: 900,\n          ideal: 1080,\n          max: 1080\n        }\n      };\n    } else if (resolutionFallbackLevel === 3) {\n      getUserMediaParams.video = {\n        width: {\n          min: 960,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 960,\n          max: 960\n        }\n      };\n    } else if (resolutionFallbackLevel === 4) {\n      getUserMediaParams.video = {\n        width: {\n          min: 720,\n          ideal: 1280,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 768\n        }\n      };\n    } else if (resolutionFallbackLevel === 5) {\n      getUserMediaParams.video = {\n        width: {\n          min: 640,\n          ideal: 960,\n          max: 1440\n        },\n        height: {\n          min: 480,\n          ideal: 720,\n          max: 720\n        }\n      };\n    }\n\n    if (camera === undefined) {\n      getUserMediaParams.video = true;\n    } else {\n      getUserMediaParams.video.deviceId = {\n        exact: camera.deviceId\n      };\n    }\n\n    return navigator.mediaDevices.getUserMedia(getUserMediaParams);\n  }\n\n  /**\n   * @hidden\n   *\n   * Get a list of available devices in a cross-browser compatible way.\n   *\n   * @returns A promise resolving to the <tt>MediaDeviceInfo</tt> array of all available devices.\n   */\n  function enumerateDevices(): Promise<MediaDeviceInfo[]> {\n    if (typeof (<any>window.navigator).enumerateDevices === \"function\") {\n      return (<any>window.navigator).enumerateDevices();\n    } else if (\n      typeof (<any>window.navigator).mediaDevices === \"object\" &&\n      typeof (<any>window.navigator).mediaDevices.enumerateDevices === \"function\"\n    ) {\n      return window.navigator.mediaDevices.enumerateDevices();\n    } else {\n      return new Promise((resolve, reject) => {\n        try {\n          (<any>window).MediaStreamTrack.getSources((devices: MediaDeviceInfo[]) => {\n            resolve(\n              devices\n                .filter(device => {\n                  return device.kind.toLowerCase() === \"video\" || device.kind.toLowerCase() === \"videoinput\";\n                })\n                .map(device => {\n                  return {\n                    deviceId: device.deviceId != null ? device.deviceId : \"\",\n                    groupId: device.groupId,\n                    kind: <MediaDeviceKind>\"videoinput\",\n                    label: device.label\n                  };\n                })\n            );\n          });\n        } catch (error) {\n          reject(\n            new CustomError({\n              name: \"UnsupportedBrowserError\",\n              message: \"Media devices are not supported on this OS / Browser\"\n            })\n          );\n        }\n      });\n    }\n  }\n}\n","import { CustomError } from \"./customError\";\n\n/**\n * @hidden\n */\nexport namespace BrowserHelper {\n  /**\n   * @returns The first matching error indicating a missing browser feature, or undefined.\n   */\n  export function checkBrowserCompatibility(): Error | undefined {\n    if (/; wv\\)/.test(window.navigator.userAgent)) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser (WebView)\"\n      });\n    }\n\n    if (window.navigator.mediaDevices == null || typeof window.navigator.mediaDevices.getUserMedia !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Media devices are not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Worker\") || typeof (<any>window).Worker !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Web Worker is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"WebAssembly\") || typeof (<any>window).WebAssembly !== \"object\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"WebAssembly is not supported on this OS / Browser\"\n      });\n    }\n\n    if (!window.hasOwnProperty(\"Blob\") || typeof (<any>window).Blob !== \"function\") {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"Blob object is not supported on this OS / Browser\"\n      });\n    }\n\n    if (\n      !window.hasOwnProperty(\"URL\") ||\n      (typeof (<any>window).URL !== \"function\" && typeof (<any>window).URL !== \"object\") ||\n      typeof (<any>window).URL.createObjectURL !== \"function\"\n    ) {\n      return new CustomError({\n        name: \"UnsupportedBrowserError\",\n        message: \"URL object is not supported on this OS / Browser\"\n      });\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Get a value from a cookie.\n   *\n   * @param key The key for the cookie for which to get the value.\n   * @returns The cookie value for the given key, empty string if not found.\n   */\n  function getCookieValue(key: string): string {\n    const cookieMatch: RegExpMatchArray | null = document.cookie.match(`(^|;)\\\\s*${key}\\\\s*=\\\\s*([^;]+)`);\n\n    if (cookieMatch == null) {\n      return \"\";\n    } else {\n      const cookieValue: string | undefined = cookieMatch.pop();\n\n      // istanbul ignore next\n      return cookieValue == null ? \"\" : cookieValue;\n    }\n  }\n\n  /**\n   * Store a value in a cookie.\n   *\n   * @param key The key for the cookie.\n   * @param value The value of the cookie.\n   * @param expirationDays The amount of days after which the cookie will expire.\n   */\n  function setCookieValue(key: string, value: string, expirationDays: number): void {\n    const date: Date = new Date();\n    date.setTime(date.getTime() + expirationDays * 24 * 60 * 60 * 1000);\n    document.cookie = `${key}=${value};expires=${date.toUTCString()}`;\n  }\n\n  /**\n   * Get a device id for the current browser, when available it's retrieved from a cookie,\n   * when not it's randomly generated and stored in a cookie to be retrieved by later calls.\n   *\n   * @returns The device id for the current browser.\n   */\n  export function getDeviceId(): string {\n    const cookieKey: string = \"scandit-device-id\";\n    const storedDeviceId: string = getCookieValue(cookieKey);\n    if (storedDeviceId !== \"\") {\n      return storedDeviceId;\n    }\n    const hexCharacters: string = \"0123456789abcdef\";\n    let randomDeviceId: string = \"\";\n    for (let i: number = 0; i < 40; ++i) {\n      // tslint:disable-next-line:insecure-random\n      randomDeviceId += hexCharacters.charAt(Math.floor(Math.random() * 16));\n    }\n    setCookieValue(cookieKey, randomDeviceId, 3650);\n\n    return randomDeviceId;\n  }\n}\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _setPrototypeOf = require(\"../core-js/object/set-prototype-of\");\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = require(\"../core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = require(\"../helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};","/**\n * @hidden\n */\nexport class CustomError extends Error {\n  constructor(\n    {\n      name = \"\",\n      message = \"\"\n    }: {\n      name?: string;\n      message?: string;\n    } = {}\n  ) {\n    super(message);\n    Object.setPrototypeOf(this, CustomError.prototype);\n    this.name = name;\n  }\n}\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","import { ParserResult } from \"./parserResult\";\nimport { Scanner } from \"./scanner\";\n\n// Deprecated but useful function for easy UTF-8 handling\n/**\n * @hidden\n */\ndeclare function escape(s: string): string;\n\n/**\n * A data string parser.\n *\n * Parsers are capable of parsing one particular data format, which is passed to them during construction.\n *\n * The parser is created through [[BarcodePicker.createParserForFormat]] or [[Scanner.createParserForFormat]].\n * Note that you need to have a valid license with the parsing feature enabled to use the parser functionalities.\n *\n * For documentation on the available formats, check the official parser library documentation here:\n * https://docs.scandit.com/parser/formats.html.\n */\nexport class Parser {\n  private options: any;\n\n  /**\n   * @hidden\n   *\n   * @param scanner The [[Scanner]] object used to interact with the external Scandit library.\n   * @param dataFormat The data format for this parser.\n   */\n  constructor(private scanner: Scanner, private dataFormat: Parser.DataFormat) {}\n\n  /**\n   * Apply the option map to the parser, allowing the user to fine-tune the behaviour of the parser.\n   * Available options depend on the data format and are specified in the respective documentation.\n   *\n   * @param options The new options to be applied (replacing previous ones, if any).\n   */\n  public setOptions(options: object): void {\n    this.options = options;\n  }\n\n  /**\n   * Process the given raw data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataRaw The raw data to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseRawData(dataRaw: Uint8Array): Promise<ParserResult> {\n    let dataString: string;\n    try {\n      dataString = decodeURIComponent(escape(String.fromCharCode.apply(null, dataRaw)));\n    } catch (error) {\n      dataString = \"\";\n    }\n\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n\n  /**\n   * Process the given string data with the parser, retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataString The string to be parsed.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataString: string): Promise<ParserResult> {\n    return this.scanner.parseString(this.dataFormat, dataString, this.options);\n  }\n}\n\n// istanbul ignore next\nexport namespace Parser {\n  /**\n   * Data format of a string to be parsed into a set of key-value mappings by the Scandit Parser Library.\n   *\n   * See https://docs.scandit.com/parser/formats.html for more details.\n   */\n  export enum DataFormat {\n    /**\n     * GS1 Application Identifier (AI).\n     *\n     * See: http://www.gs1.org/docs/barcodes/GS1_General_Specifications.pdf.\n     */\n    GS1_AI = 1,\n    /**\n     * Health Industry Bar Code (HIBC).\n     *\n     * See: http://www.hibcc.org.\n     */\n    HIBC = 2,\n    /**\n     * AAMVA Driver License/Identification (DL/ID).\n     *\n     * See: http://www.aamva.org.\n     */\n    DLID = 3,\n    /**\n     * ICAO Machine Readable Travel Document (MRTD).\n     *\n     * See: https://www.icao.int.\n     */\n    MRTD = 4,\n    /**\n     * Swiss QR ISO 20022.\n     *\n     * See: https://www.paymentstandards.ch.\n     */\n    SWISSQR = 5\n  }\n}\n","import { BarcodeEncodingRange } from \"./barcodeEncodingRange\";\nimport { Quadrilateral } from \"./quadrilateral\";\n\n/**\n * A barcode result.\n */\nexport interface Barcode {\n  /**\n   * The symbology type.\n   */\n  readonly symbology: Barcode.Symbology;\n  /**\n   * The data encoded in the barcode interpreted as a UTF-8 string.\n   * If the raw data is not a valid UTF-8 string, this field will be an empty string.\n   */\n  readonly data: string;\n  /**\n   * The raw data encoded in the barcode, given as an array of bytes.\n   * To interpret this correctly you may have to use the information contained in encodingArray.\n   */\n  readonly rawData: Uint8Array;\n  /**\n   * The location of the barcode.\n   */\n  readonly location: Quadrilateral;\n  /**\n   * Whether the barcode is part of a composite code.\n   */\n  readonly compositeFlag: Barcode.CompositeFlag;\n  /**\n   * Whether the barcode is a GS1 data carrier.\n   */\n  readonly isGs1DataCarrier: boolean;\n  /**\n   * The data encoding of the data in the barcode, given as an array of encoding ranges.\n   */\n  readonly encodingArray: BarcodeEncodingRange[];\n}\n\nexport namespace Barcode {\n  // Deprecated but useful function for easy UTF-8 handling\n  /**\n   * @hidden\n   */\n  declare function escape(s: string): string;\n\n  /**\n   * @hidden\n   *\n   * Create a [[Barcode]] object from a partial object returned by the external Scandit Engine library.\n   * The <i>rawData</i> and <i>data</i> fields are computed and stored.\n   *\n   * @param result The barcode result coming from the external Scandit Engine library.\n   * @returns The generated [[Barcode]] object.\n   */\n  export function createFromWASMResult(result: any): Barcode {\n    let decodedData: string;\n    try {\n      decodedData = decodeURIComponent(escape(String.fromCharCode.apply(null, result.rawData)));\n    } catch (error) {\n      decodedData = \"\";\n    }\n\n    return {\n      symbology: result.symbology,\n      data: decodedData,\n      rawData: new Uint8Array(result.rawData),\n      location: {\n        topLeft: { x: result.location[0][0], y: result.location[0][1] },\n        topRight: { x: result.location[1][0], y: result.location[1][1] },\n        bottomRight: { x: result.location[2][0], y: result.location[2][1] },\n        bottomLeft: { x: result.location[3][0], y: result.location[3][1] }\n      },\n      compositeFlag: result.compositeFlag,\n      isGs1DataCarrier: result.isGs1DataCarrier,\n      encodingArray: result.encodingArray\n    };\n  }\n\n  /**\n   * Barcode symbology type.\n   */\n  export enum Symbology {\n    EAN13 = \"ean13\",\n    EAN8 = \"ean8\",\n    UPCA = \"upca\",\n    UPCE = \"upce\",\n    CODE128 = \"code128\",\n    CODE39 = \"code39\",\n    CODE93 = \"code93\",\n    INTERLEAVED_2_OF_5 = \"itf\",\n    QR = \"qr\",\n    DATA_MATRIX = \"data-matrix\",\n    PDF417 = \"pdf417\",\n    MSI_PLESSEY = \"msi-plessey\",\n    GS1_DATABAR = \"databar\",\n    GS1_DATABAR_EXPANDED = \"databar-expanded\",\n    CODABAR = \"codabar\",\n    AZTEC = \"aztec\",\n    TWO_DIGIT_ADD_ON = \"two-digit-add-on\",\n    FIVE_DIGIT_ADD_ON = \"five-digit-add-on\",\n    MAXICODE = \"maxicode\",\n    CODE11 = \"code11\",\n    GS1_DATABAR_LIMITED = \"databar-limited\",\n    CODE25 = \"code25\",\n    MICRO_PDF417 = \"micropdf417\",\n    RM4SCC = \"rm4scc\",\n    KIX = \"kix\",\n    DOTCODE = \"dotcode\"\n  }\n\n  /**\n   * Flags to hint that two codes form a composite code.\n   */\n  export enum CompositeFlag {\n    /**\n     * Code is not part of a composite code.\n     */\n    NONE = 0x0,\n    /**\n     * Code could be part of a composite code. This flag is set by linear (1D) symbologies that have\n     * no composite flag support but can be part of a composite code like the EAN/UPC symbology family.\n     */\n    UNKNOWN = 0x1,\n    /**\n     * Code is the linear component of a composite code. This flag can be set by GS1 DataBar or GS1-128 (Code 128).\n     */\n    LINKED = 0x2,\n    /**\n     * Code is a GS1 Composite Code Type A (CC - A).This flag can be set by MicroPDF417 codes.\n     */\n    GS1_A = 0x4,\n    /**\n     * Code is a GS1 Composite Code Type B (CC-B). This flag can be set by MicroPDF417 codes.\n     */\n    GS1_B = 0x8,\n    /**\n     * Code is a GS1 Composite Code Type C (CC-C). This flag can be set by PDF417 codes.\n     */\n    GS1_C = 0x10\n  }\n\n  // istanbul ignore next\n  export namespace Symbology {\n    // tslint:disable:no-unnecessary-qualifier\n    /**\n     * Get the humanized name of a symbology.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The humanized name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toHumanizedName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"EAN-13\";\n        case Symbology.EAN8:\n          return \"EAN-8\";\n        case Symbology.UPCA:\n          return \"UPC-A\";\n        case Symbology.UPCE:\n          return \"UPC-E\";\n        case Symbology.CODE128:\n          return \"Code 128\";\n        case Symbology.CODE39:\n          return \"Code 39\";\n        case Symbology.CODE93:\n          return \"Code 93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"Interleaved Two of Five\";\n        case Symbology.QR:\n          return \"QR\";\n        case Symbology.DATA_MATRIX:\n          return \"Data Matrix\";\n        case Symbology.PDF417:\n          return \"PDF417\";\n        case Symbology.MSI_PLESSEY:\n          return \"MSI-Plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"GS1 DataBar 14\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"GS1 DataBar Expanded\";\n        case Symbology.CODABAR:\n          return \"Codabar\";\n        case Symbology.AZTEC:\n          return \"Aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"Two-Digit Add-On\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"Five-Digit Add-On\";\n        case Symbology.MAXICODE:\n          return \"MaxiCode\";\n        case Symbology.CODE11:\n          return \"Code 11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"GS1 DataBar Limited\";\n        case Symbology.CODE25:\n          return \"Code 25\";\n        case Symbology.MICRO_PDF417:\n          return \"MicroPDF417\";\n        case Symbology.RM4SCC:\n          return \"RM4SCC\";\n        case Symbology.KIX:\n          return \"KIX\";\n        case Symbology.DOTCODE:\n          return \"DotCode\";\n        default:\n          return \"Unknown\";\n      }\n    }\n\n    /**\n     * Get the JSON key name of a symbology, used for JSON-formatted ScanSettings and Scandit Engine library.\n     *\n     * @param symbology The symbology for which to retrieve the name.\n     * @returns The json key name of the symbology.\n     */\n    // tslint:disable-next-line:cyclomatic-complexity\n    export function toJSONName(symbology: Symbology): string {\n      switch (symbology.toLowerCase()) {\n        case Symbology.EAN13:\n          return \"ean13\";\n        case Symbology.EAN8:\n          return \"ean8\";\n        case Symbology.UPCA:\n          return \"upca\";\n        case Symbology.UPCE:\n          return \"upce\";\n        case Symbology.CODE128:\n          return \"code128\";\n        case Symbology.CODE39:\n          return \"code39\";\n        case Symbology.CODE93:\n          return \"code93\";\n        case Symbology.INTERLEAVED_2_OF_5:\n          return \"itf\";\n        case Symbology.QR:\n          return \"qr\";\n        case Symbology.DATA_MATRIX:\n          return \"data-matrix\";\n        case Symbology.PDF417:\n          return \"pdf417\";\n        case Symbology.MSI_PLESSEY:\n          return \"msi-plessey\";\n        case Symbology.GS1_DATABAR:\n          return \"databar\";\n        case Symbology.GS1_DATABAR_EXPANDED:\n          return \"databar-expanded\";\n        case Symbology.CODABAR:\n          return \"codabar\";\n        case Symbology.AZTEC:\n          return \"aztec\";\n        case Symbology.TWO_DIGIT_ADD_ON:\n          return \"two-digit-add-on\";\n        case Symbology.FIVE_DIGIT_ADD_ON:\n          return \"five-digit-add-on\";\n        case Symbology.MAXICODE:\n          return \"maxicode\";\n        case Symbology.CODE11:\n          return \"code11\";\n        case Symbology.GS1_DATABAR_LIMITED:\n          return \"databar-limited\";\n        case Symbology.CODE25:\n          return \"code25\";\n        case Symbology.MICRO_PDF417:\n          return \"micropdf417\";\n        case Symbology.RM4SCC:\n          return \"rm4scc\";\n        case Symbology.KIX:\n          return \"kix\";\n        case Symbology.DOTCODE:\n          return \"dotcode\";\n        default:\n          return \"unknown\";\n      }\n    }\n    // tslint:enable:no-unnecessary-qualifier\n  }\n}\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// tslint:disable:no-string-literal\nimport { ImageSettings } from \"../imageSettings\";\nimport { Parser } from \"../parser\";\n\n// TODO: Find a nice way to use typescript WebWorker lib/types just for worker files\n/**\n * @hidden\n */\ndeclare const importScripts: (...urls: string[]) => void;\n/**\n * @hidden\n */\ndeclare const postMessage: (message: any, transfer?: any[] | undefined) => void;\n\n/**\n * @hidden\n */\ntype FileSystemType = {};\n\n/**\n * @hidden\n */\ndeclare const Module: {\n  HEAPU8: Uint8Array;\n  asm: any;\n  lengthBytesUTF8(str: string): number;\n  UTF8ToString(ptr: number): string;\n  stringToUTF8(str: string, outPtr: number, maxBytesToWrite: number): void;\n  _malloc(size: number): number;\n  _free(ptr: number): void;\n  callMain(): void;\n};\n\n/**\n * @hidden\n */\ndeclare namespace FS {\n  function syncfs(populate: boolean, callback: (e: any) => any): void;\n  function syncfs(callback: (e: any) => any, populate?: boolean): void;\n  function mount(fsType: FileSystemType, opts: any, mountpoint: string): any;\n  function mkdir(path: string, mode?: number): any;\n}\n\n/**\n * @hidden\n */\ndeclare const IDBFS: FileSystemType;\n\n/**\n * @hidden\n */\ndeclare type ScanWorkUnit = {\n  requestId: number;\n  data: ArrayBuffer;\n};\n\n/**\n * @hidden\n */\ndeclare type ParseWorkUnit = {\n  requestId: number;\n  dataFormat: Parser.DataFormat;\n  dataString: string;\n  options: string;\n};\n\n/**\n * @hidden\n */\n// tslint:disable-next-line:max-func-body-length\nfunction engineSDKWorkerFunction(): void {\n  let imageBufferPointer: number | undefined;\n  let licenseKey: string;\n  let settings: string;\n  let imageSettings: ImageSettings;\n  let wasmLoaded: boolean = false;\n  let scannerSettingsReady: boolean = false;\n  let scannerImageSettingsReady: boolean = false;\n  const scanQueue: ScanWorkUnit[] = [];\n  const parseQueue: ParseWorkUnit[] = [];\n  let contextAvailable: boolean = false;\n  let scanWorkSubmitted: boolean = false;\n  let parseWorkSubmitted: boolean = false;\n  let blurryDecodingEnabled: boolean = false;\n\n  // Adapted from: https://github.com/mdn/webassembly-examples/blob/master/wasm-utils.js\n  function instantiateWasmWithCache(\n    wasmURI: string,\n    wasmVersion: number,\n    importObject: any,\n    successCallback: (instance: any) => void\n  ): void {\n    const dbName: string = \"scandit_wasm_cache\";\n    const storeName: string = \"scandit_wasm_cache\";\n    let db: IDBDatabase;\n    function loadDatabase(resolve: (result: any) => void, reject: (result: any) => void): void {\n      let openDBRequest: IDBOpenDBRequest;\n      try {\n        openDBRequest = indexedDB.open(dbName, wasmVersion);\n      } catch (error) {\n        return reject(`Failed to open scandit-sdk WebAssembly cache database: ${error}`);\n      }\n      openDBRequest.onerror = () => {\n        return reject(\"Failed to open scandit-sdk WebAssembly cache database\");\n      };\n      openDBRequest.onsuccess = () => {\n        db = openDBRequest.result;\n        const store: IDBObjectStore = db.transaction([storeName]).objectStore(storeName);\n        const request: IDBRequest = store.get(wasmURI);\n        request.onerror = () => {\n          return reject(\"Failed to open scandit-sdk WebAssembly cache database\");\n        };\n        request.onsuccess = () => {\n          if (request.result != null) {\n            return resolve(request.result);\n          } else {\n            return reject(\"No cached version of the scandit-sdk WebAssembly code has been found\");\n          }\n        };\n      };\n      openDBRequest.onupgradeneeded = () => {\n        db = openDBRequest.result;\n        if (db.objectStoreNames.contains(storeName)) {\n          db.deleteObjectStore(storeName);\n        }\n        db.createObjectStore(storeName);\n      };\n    }\n    function storeInDatabase(moduleObject: any): void {\n      try {\n        const store: IDBObjectStore = db.transaction([storeName], \"readwrite\").objectStore(storeName);\n        const request: IDBRequest = store.put(moduleObject, wasmURI);\n        request.onerror = error => {\n          console.debug(`Failed to cache scandit-sdk WebAssembly code: ${error}`);\n        };\n        request.onsuccess = () => {\n          console.debug(\"Successfully cached scandit-sdk WebAssembly code\");\n        };\n      } catch (error) {\n        if (error.name === \"DataCloneError\") {\n          console.debug(\"Failed to cache scandit-sdk WebAssembly code: This browser doesn't support this feature yet\");\n        } else {\n          console.debug(`Failed to cache scandit-sdk WebAssembly code: ${error}`);\n        }\n      }\n    }\n\n    loadDatabase(\n      moduleObject => {\n        console.debug(\"Found cached scandit-sdk WebAssembly code\");\n        // Note that here instantiate() returns the instance directly, not inside another object\n        (<any>self).WebAssembly.instantiate(moduleObject, importObject).then((instance: any) => {\n          successCallback(instance);\n        });\n      },\n      errMsg => {\n        console.debug(errMsg);\n        function instantiate(): void {\n          fetch(wasmURI)\n            .then(response => response.arrayBuffer())\n            .then(bytes => {\n              (<any>self).WebAssembly.instantiate(bytes, importObject).then((results: any) => {\n                if (db != null) {\n                  storeInDatabase(results.module);\n                }\n                successCallback(results.instance);\n              });\n            });\n        }\n        function instantiateStreaming(): void {\n          (<any>self).WebAssembly.instantiateStreaming(fetch(wasmURI), importObject)\n            .then((results: any) => {\n              if (db != null) {\n                storeInDatabase(results.module);\n              }\n              successCallback(results.instance);\n            })\n            .catch((error: Error) => {\n              console.warn(`wasm streaming compile failed: ${error}, falling back to ArrayBuffer instantiation`);\n              instantiate();\n            });\n        }\n\n        if (typeof (<any>self).WebAssembly.instantiateStreaming === \"function\") {\n          instantiateStreaming();\n        } else {\n          instantiate();\n        }\n      }\n    );\n  }\n\n  function loadLibrary(deviceId: string, libraryLocation: string): void {\n    const customModule: any = {\n      arguments: [deviceId],\n      instantiateWasm: (importObject: any, successCallback: (instance: any) => void) => {\n        const wasmURI: string = `${libraryLocation}scandit-engine-sdk.wasm`;\n        const wasmVersion: number = \"%WASM_VERSION%\"\n          .split(\".\")\n          .map((n, i) => parseInt(n, 10) * Math.pow(10, 6 - i * 3))\n          .reduce((a, b) => a + b);\n\n        instantiateWasmWithCache(wasmURI, wasmVersion, importObject, successCallback);\n\n        return {};\n      },\n      noInitialRun: true,\n      preRun: () => {\n        try {\n          FS.mkdir(\"/scandit_sync_folder\");\n        } catch (error) {\n          if (error.code !== \"EEXIST\") {\n            throw error;\n          }\n        }\n        FS.mount(IDBFS, {}, \"/scandit_sync_folder\");\n        FS.syncfs(true, () => {\n          Module.callMain();\n          wasmLoaded = true;\n          postMessage([\"status\", \"ready\"]);\n          workOnScanQueue();\n          workOnParseQueue();\n        });\n      }\n    };\n    (<any>self).Module = customModule;\n\n    if (typeof importScripts === \"function\") {\n      try {\n        importScripts(`${libraryLocation}scandit-engine-sdk.min.js`);\n      } catch (error) {\n        console.warn(error);\n        console.error(\n          `Couldn't retrieve Scandit SDK Engine library at ${libraryLocation}scandit-engine-sdk.min.js, ` +\n            \"did you configure the path for it correctly?\"\n        );\n      }\n    }\n  }\n\n  function createContext(): void {\n    if (contextAvailable || licenseKey == null || !wasmLoaded) {\n      return;\n    }\n\n    const licenseKeyLength: number = Module.lengthBytesUTF8(licenseKey) + 1;\n    const licenseKeyPointer: number = Module._malloc(licenseKeyLength);\n    Module.stringToUTF8(licenseKey, licenseKeyPointer, licenseKeyLength);\n    Module.asm._create_context(licenseKeyPointer);\n    Module._free(licenseKeyPointer);\n\n    contextAvailable = true;\n  }\n\n  function setupSettings(): void {\n    if (settings == null || !contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    scannerSettingsReady = false;\n\n    if (licenseKey == null) {\n      console.error(\"No license key found, the library must be set up before the scanning engine can be used\");\n\n      return;\n    }\n\n    const settingsLength: number = Module.lengthBytesUTF8(settings) + 1;\n    const settingsPointer: number = Module._malloc(settingsLength);\n    Module.stringToUTF8(settings, settingsPointer, settingsLength);\n    const resultPointer: number = Module.asm._scanner_settings_new_from_json(\n      settingsPointer,\n      blurryDecodingEnabled ? 1 : 0\n    );\n    Module._free(settingsPointer);\n\n    const result: string = Module.UTF8ToString(resultPointer);\n    if (result !== \"\") {\n      scannerSettingsReady = true;\n      console.debug(JSON.parse(result));\n    }\n  }\n\n  function setupImageSettings(): void {\n    if (imageSettings == null || !wasmLoaded) {\n      return;\n    }\n\n    scannerImageSettingsReady = false;\n\n    let channels: number;\n    // TODO: For now it's not possible to use imported variables as the worker doesn't have access at runtime\n    switch (imageSettings.format.valueOf()) {\n      case 0: // GRAY_8U\n        channels = 1;\n        break;\n      case 1: // RGB_8U\n        channels = 3;\n        break;\n      case 2: // RGBA_8U\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    Module.asm._scanner_image_settings_new(imageSettings.width, imageSettings.height, channels);\n    if (imageBufferPointer != null) {\n      Module._free(imageBufferPointer);\n      imageBufferPointer = undefined;\n    }\n    imageBufferPointer = Module._malloc(imageSettings.width * imageSettings.height * channels);\n\n    scannerImageSettingsReady = true;\n  }\n\n  function scanImage(imageData: ArrayBuffer): string {\n    Module.HEAPU8.set(new Uint8Array(imageData), imageBufferPointer);\n\n    return Module.UTF8ToString(Module.asm._scanner_scan(imageBufferPointer));\n  }\n\n  function parseString(dataFormat: Parser.DataFormat, dataString: string, options: string): string {\n    const dataStringLength: number = Module.lengthBytesUTF8(dataString) + 1;\n    const dataStringPointer: number = Module._malloc(dataStringLength);\n    Module.stringToUTF8(dataString, dataStringPointer, dataStringLength);\n    const optionsLength: number = Module.lengthBytesUTF8(options) + 1;\n    const optionsPointer: number = Module._malloc(optionsLength);\n    Module.stringToUTF8(options, optionsPointer, optionsLength);\n    const resultPointer: number = Module.asm._parser_parse_string(\n      dataFormat.valueOf(),\n      dataStringPointer,\n      dataStringLength - 1,\n      optionsPointer\n    );\n    Module._free(dataStringPointer);\n    Module._free(optionsPointer);\n\n    return Module.UTF8ToString(resultPointer);\n  }\n\n  function workOnScanQueue(): void {\n    if ((!scannerSettingsReady || !scannerImageSettingsReady) && scanQueue.length !== 0) {\n      createContext();\n      setupSettings();\n      setupImageSettings();\n    }\n\n    if (!scannerSettingsReady || !scannerImageSettingsReady) {\n      return;\n    }\n\n    let currentScanWorkUnit: ScanWorkUnit;\n    let resultData: string;\n    while (scanQueue.length !== 0) {\n      currentScanWorkUnit = <ScanWorkUnit>scanQueue.shift();\n      resultData = scanImage(currentScanWorkUnit.data);\n      const result: any = JSON.parse(resultData);\n      // Important! We send back data that is actually ignored by the receiver (currentScanWorkUnit.data).\n      // This is needed however because some browsers run out of memory due to no GC being run\n      // if this data is not send back (cleared) by the worker for some weird reason...\n      if (result.error != null) {\n        postMessage(\n          [\n            \"work-error\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              error: result.error\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else if (result.result != null) {\n        postMessage(\n          [\n            \"work-result\",\n            {\n              requestId: currentScanWorkUnit.requestId,\n              result: result.result\n            }\n          ],\n          [currentScanWorkUnit.data]\n        );\n      } else {\n        console.error(\"Unrecognized Scandit Engine result:\", result);\n        postMessage([\"\"], [currentScanWorkUnit.data]);\n      }\n    }\n  }\n\n  function workOnParseQueue(): void {\n    if (!contextAvailable && parseQueue.length !== 0) {\n      createContext();\n    }\n\n    if (!contextAvailable || !wasmLoaded) {\n      return;\n    }\n\n    let currentParseWorkUnit: ParseWorkUnit;\n    let resultData: string;\n    while (parseQueue.length !== 0) {\n      currentParseWorkUnit = <ParseWorkUnit>parseQueue.shift();\n      resultData = parseString(\n        currentParseWorkUnit.dataFormat,\n        currentParseWorkUnit.dataString,\n        currentParseWorkUnit.options\n      );\n      const result: any = JSON.parse(resultData);\n      if (result.error != null) {\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: result.error\n          }\n        ]);\n      } else if (result.result != null) {\n        postMessage([\n          \"parse-string-result\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            result: result.result\n          }\n        ]);\n      } else {\n        console.error(\"Unrecognized Scandit Parser result:\", result);\n        postMessage([\n          \"parse-string-error\",\n          {\n            requestId: currentParseWorkUnit.requestId,\n            error: {\n              errorCode: -1,\n              errorMessage: \"Unknown Scandit Parser error\"\n            }\n          }\n        ]);\n      }\n    }\n  }\n\n  onmessage = e => {\n    // Setting settings triggers license verification and activation: delay until first frame processed\n    const data: any = e.data;\n    switch (data.type) {\n      case \"enable-blurry-decoding\":\n        blurryDecodingEnabled = true;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"load-library\":\n        loadLibrary(data.deviceId, data.libraryLocation);\n        break;\n      case \"license-key\":\n        licenseKey = data.licenseKey;\n        createContext();\n        if (parseWorkSubmitted) {\n          workOnParseQueue();\n        }\n        break;\n      case \"settings\":\n        settings = data.settings;\n        if (scanWorkSubmitted) {\n          setupSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"image-settings\":\n        imageSettings = data.imageSettings;\n        if (scanWorkSubmitted) {\n          setupImageSettings();\n          workOnScanQueue();\n        }\n        break;\n      case \"work\":\n        scanWorkSubmitted = true;\n        scanQueue.push({\n          requestId: data.requestId,\n          data: data.data\n        });\n        workOnScanQueue();\n        break;\n      case \"parse-string\":\n        parseWorkSubmitted = true;\n        parseQueue.push({\n          requestId: data.requestId,\n          dataFormat: data.dataFormat,\n          dataString: data.dataString,\n          options: data.options\n        });\n        workOnParseQueue();\n        break;\n      default:\n        break;\n    }\n  };\n}\n\n/**\n * @hidden\n */\nexport const engineSDKWorker: Blob = new Blob([`(${engineSDKWorkerFunction.toString()})()`], {\n  type: \"text/javascript\"\n});\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","/**\n * A symbology-specific configuration object.\n *\n * See https://docs.scandit.com/stable/c_api/symbologies.html for more details.\n */\nexport class SymbologySettings {\n  private enabled: boolean;\n  private colorInvertedEnabled: boolean;\n  private activeSymbolCounts: number[];\n  private extensions: Set<SymbologySettings.Extension>;\n  private checksums: Set<SymbologySettings.Checksum>;\n  private customExtensions: boolean;\n  private customChecksums: boolean;\n\n  /**\n   * Creates a SymbologySettings instance.\n   *\n   * @param enabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the symbology is enabled for recognition.\n   * @param colorInvertedEnabled <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether color inverted recognition is enabled.\n   * @param activeSymbolCounts\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology range)</div>\n   * The list of active symbol counts.\n   * @param extensions\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology extensions)</div>\n   * The list/set of enabled extensions.\n   * @param checksums\n   * <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined &nbsp;(default symbology checksums)</div>\n   * The list/set of enabled checksums.\n   */\n  constructor({\n    enabled = false,\n    colorInvertedEnabled = false,\n    activeSymbolCounts = [],\n    extensions = null,\n    checksums = null\n  }: {\n    enabled?: boolean;\n    colorInvertedEnabled?: boolean;\n    activeSymbolCounts?: number[];\n    extensions?: SymbologySettings.Extension[] | Set<SymbologySettings.Extension>;\n    checksums?: SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>;\n  } = {}) {\n    this.enabled = enabled;\n    this.colorInvertedEnabled = colorInvertedEnabled;\n    this.activeSymbolCounts = activeSymbolCounts;\n    this.customExtensions = extensions != null;\n    this.customChecksums = checksums != null;\n    if (extensions == null) {\n      extensions = [];\n    }\n    if (checksums == null) {\n      checksums = [];\n    }\n    this.extensions = new Set(\n      Array.from(extensions).filter(e => {\n        return (\n          e in SymbologySettings.Extension || Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n        );\n      })\n    );\n    this.checksums = new Set(\n      Array.from(checksums).filter(c => {\n        return (\n          c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n        );\n      })\n    );\n  }\n\n  /**\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isEnabled(): boolean {\n    return this.enabled;\n  }\n\n  /**\n   * Enable or disable recognition of the symbology.\n   *\n   * @param enabled Whether the symbology is enabled for recognition.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setEnabled(enabled: boolean): SymbologySettings {\n    this.enabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether color inverted recognition is enabled.\n   */\n  public isColorInvertedEnabled(): boolean {\n    return this.colorInvertedEnabled;\n  }\n\n  /**\n   * Enable or disable recognition of inverted-color symbology (in addition to normal colors).\n   *\n   * @param enabled Whether color inverted recognition is enabled.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setColorInvertedEnabled(enabled: boolean): SymbologySettings {\n    this.colorInvertedEnabled = enabled;\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom list of active symbol counts.\n   * If never set, an empty array is returned\n   * but the Scandit Engine library will use the default list for the symbology.\n   *\n   * @returns The list of active symbol counts.\n   */\n  public getActiveSymbolCounts(): number[] {\n    return this.activeSymbolCounts;\n  }\n\n  /**\n   * Set the list of active symbol counts.\n   *\n   * @param activeSymbolCounts The list of active symbol counts.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCounts(activeSymbolCounts: number[]): SymbologySettings {\n    this.activeSymbolCounts = activeSymbolCounts;\n\n    return this;\n  }\n\n  /**\n   * Set the range of active symbol counts.\n   *\n   * @param minCount The minimum accepted number of symbols.\n   * @param maxCount The minimum accepted number of symbols.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public setActiveSymbolCountsRange(minCount: number, maxCount: number): SymbologySettings {\n    this.activeSymbolCounts = Array.from({ length: maxCount - minCount + 1 }, (_, k) => {\n      return k + minCount;\n    });\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of extensions.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default extension set for the symbology.\n   *\n   * @returns The set of enabled extensions.\n   */\n  public getEnabledExtensions(): Set<SymbologySettings.Extension> {\n    return this.extensions;\n  }\n\n  /**\n   * Enable an extension or list/set of extensions\n   *\n   * @param extension The single extension or list/set of extensions to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    this.customExtensions = true;\n    if (typeof extension === \"object\") {\n      this.extensions = new Set([\n        ...this.extensions,\n        ...Array.from(extension).filter(e => {\n          return (\n            e in SymbologySettings.Extension ||\n            Object.values(SymbologySettings.Extension).indexOf(e.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        extension in SymbologySettings.Extension ||\n        Object.values(SymbologySettings.Extension).indexOf(extension.toLowerCase()) !== -1\n      ) {\n        this.extensions.add(extension);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable an extension or list/set of extensions.\n   *\n   * @param extension The single extension or list/set of extensions to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableExtensions(\n    extension: SymbologySettings.Extension | SymbologySettings.Extension[] | Set<SymbologySettings.Extension>\n  ): SymbologySettings {\n    if (typeof extension === \"object\") {\n      this.extensions = new Set(\n        [...this.extensions].filter(x => {\n          return extension instanceof Array ? extension.indexOf(x) === -1 : !extension.has(x);\n        })\n      );\n    } else {\n      this.extensions.delete(extension);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get the currently set custom set of checksums.\n   * If never set, an empty set is returned\n   * but the Scandit Engine library will use the default checksum set for the symbology.\n   *\n   * @returns The set of enabled checksums.\n   */\n  public getEnabledChecksums(): Set<SymbologySettings.Checksum> {\n    return this.checksums;\n  }\n\n  /**\n   * Enable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to enable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public enableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    this.customChecksums = true;\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set([\n        ...this.checksums,\n        ...Array.from(checksum).filter(c => {\n          return (\n            c in SymbologySettings.Checksum || Object.values(SymbologySettings.Checksum).indexOf(c.toLowerCase()) !== -1\n          );\n        })\n      ]);\n    } else {\n      if (\n        checksum in SymbologySettings.Checksum ||\n        Object.values(SymbologySettings.Checksum).indexOf(checksum.toLowerCase()) !== -1\n      ) {\n        this.checksums.add(checksum);\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable a checksum or list/set of checksums.\n   *\n   * @param checksum The single checksum or list/set of checksums to disable.\n   * @returns The updated [[SymbologySettings]] object.\n   */\n  public disableChecksums(\n    checksum: SymbologySettings.Checksum | SymbologySettings.Checksum[] | Set<SymbologySettings.Checksum>\n  ): SymbologySettings {\n    if (typeof checksum === \"object\") {\n      this.checksums = new Set(\n        [...this.checksums].filter(x => {\n          return checksum instanceof Array ? checksum.indexOf(x) === -1 : !checksum.has(x);\n        })\n      );\n    } else {\n      this.checksums.delete(checksum);\n    }\n\n    return this;\n  }\n\n  protected toJSON(): object {\n    return {\n      enabled: this.enabled,\n      colorInvertedEnabled: this.colorInvertedEnabled,\n      activeSymbolCounts: this.activeSymbolCounts.length === 0 ? undefined : this.activeSymbolCounts,\n      extensions: this.customExtensions ? Array.from(this.extensions) : undefined,\n      checksums: this.customChecksums ? Array.from(this.checksums) : undefined\n    };\n  }\n}\n\n// istanbul ignore next\nexport namespace SymbologySettings {\n  /**\n   * Symbology extensions for particular functionalities, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Extension {\n    /**\n     * Improve scan performance when reading direct part marked (DPM) Data Matrix codes.\n     * Enabling this extension comes at the cost of increased frame processing times.\n     */\n    DIRECT_PART_MARKING_MODE = \"direct_part_marking_mode\",\n    /**\n     * Interpret the Code 39 / Code 93 code data using two symbols per output character to encode all ASCII characters.\n     */\n    FULL_ASCII = \"full_ascii\",\n    /**\n     * Enable scanning codes that have quiet zones (white area before and after the code) significantly smaller\n     * than what's allowed by the symbology specification.\n     */\n    RELAXED_SHARP_QUIET_ZONE_CHECK = \"relaxed_sharp_quiet_zone_check\",\n    /**\n     * Remove the leading zero digit from the result.\n     */\n    REMOVE_LEADING_ZERO = \"remove_leading_zero\",\n    /**\n     * Remove the leading zero digit from the result if the UPC-A representation extension \"RETURN_AS_UPCA\" is enabled.\n     */\n    REMOVE_LEADING_UPCA_ZERO = \"remove_leading_upca_zero\",\n    /**\n     * Transform the UPC-E result into its UPC-A representation.\n     */\n    RETURN_AS_UPCA = \"return_as_upca\",\n    /**\n     * Removes the leading FNC1 character that indicates a GS1 code.\n     */\n    STRIP_LEADING_FNC1 = \"strip_leading_fnc1\"\n  }\n\n  /**\n   * Checksum algorithms, only applicable to specific barcodes.\n   * See: https://docs.scandit.com/stable/c_api/symbologies.html.\n   */\n  export enum Checksum {\n    /**\n     * Modulo 10 checksum.\n     */\n    MOD_10 = \"mod10\",\n    /**\n     * Modulo 11 checksum.\n     */\n    MOD_11 = \"mod11\",\n    /**\n     * Modulo 16 checksum.\n     */\n    MOD_16 = \"mod16\",\n    /**\n     * Modulo 43 checksum.\n     */\n    MOD_43 = \"mod43\",\n    /**\n     * Modulo 47 checksum.\n     */\n    MOD_47 = \"mod47\",\n    /**\n     * Modulo 103 checksum.\n     */\n    MOD_103 = \"mod103\",\n    /**\n     * Two modulo 10 checksums.\n     */\n    MOD_1010 = \"mod1010\",\n    /**\n     * Modulo 11 and modulo 10 checksum.\n     */\n    MOD_1110 = \"mod1110\"\n  }\n}\n","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };","import { Barcode } from \"./barcode\";\nimport { SearchArea } from \"./searchArea\";\nimport { SymbologySettings } from \"./symbologySettings\";\n/**\n * A configuration object for scanning options.\n *\n * Modified ScanSettings need to be applied to a scanner via\n * [[BarcodePicker.applyScanSettings]] or [[Scanner.applyScanSettings]] to take effect.\n */\nexport class ScanSettings {\n  // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n  private symbologySettings: { [symbology: string]: SymbologySettings };\n  private codeDuplicateFilter: number;\n  private maxNumberOfCodesPerFrame: number;\n  private baseSearchArea: SearchArea;\n  private searchArea: SearchArea;\n\n  /**\n   * Creates a ScanSettings instance.\n   *\n   * @param enabledSymbologies <div class=\"tsd-signature-symbol\">Default =&nbsp;[]</div>\n   * The single symbology or list/set of symbologies\n   * that should be initialized as enabled for recognition.\n   * @param codeDuplicateFilter <div class=\"tsd-signature-symbol\">Default =&nbsp;0</div>\n   * The duplicate filter specifying how often a code can be scanned.\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   * When the same code (data/symbology) is scanned within the specified interval it is filtered out as a duplicate.\n   * @param maxNumberOfCodesPerFrame <div class=\"tsd-signature-symbol\">Default =&nbsp;1</div>\n   * The maximum number of barcodes to be recognized every frame.\n   * @param searchArea <div class=\"tsd-signature-symbol\">Default =&nbsp;{ x: 0, y: 0, width: 1.0, height: 1.0 }</div>\n   * The area of the image in which barcodes are searched.\n   */\n  constructor({\n    enabledSymbologies = [],\n    codeDuplicateFilter = 0,\n    maxNumberOfCodesPerFrame = 1,\n    searchArea = { x: 0, y: 0, width: 1.0, height: 1.0 }\n  }: {\n    enabledSymbologies?: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>;\n    codeDuplicateFilter?: number;\n    maxNumberOfCodesPerFrame?: number;\n    searchArea?: SearchArea;\n  } = {}) {\n    this.symbologySettings = {};\n    this.enableSymbologies(enabledSymbologies);\n    this.codeDuplicateFilter = codeDuplicateFilter;\n    this.maxNumberOfCodesPerFrame = maxNumberOfCodesPerFrame;\n    this.baseSearchArea = { x: 0, y: 0, width: 1.0, height: 1.0 };\n    this.searchArea = searchArea;\n  }\n\n  /**\n   * @returns The configuration object as a JSON string.\n   */\n  public toJSONString(): string {\n    // TODO: [symbology in Barcode.Symbology] not working as index type for now...\n    const symbologies: { [jsonSymbologyName: string]: SymbologySettings } = {};\n    Object.keys(this.symbologySettings).forEach(s => {\n      symbologies[Barcode.Symbology.toJSONName(<Barcode.Symbology>s)] = (<any>this.symbologySettings)[s];\n    });\n\n    const combinedSearchArea: SearchArea = {\n      x: Math.min(1, this.baseSearchArea.x + this.searchArea.x * this.baseSearchArea.width),\n      y: Math.min(1, this.baseSearchArea.y + this.searchArea.y * this.baseSearchArea.height),\n      width: Math.min(1, this.baseSearchArea.width * this.searchArea.width),\n      height: Math.min(1, this.baseSearchArea.height * this.searchArea.height)\n    };\n\n    const isFullSearchArea: boolean =\n      Math.round(combinedSearchArea.x * 100) === 0 &&\n      Math.round(combinedSearchArea.y * 100) === 0 &&\n      Math.round(combinedSearchArea.width * 100) === 100 &&\n      Math.round(combinedSearchArea.height * 100) === 100;\n\n    return JSON.stringify({\n      symbologies: symbologies,\n      codeDuplicateFilter: this.codeDuplicateFilter,\n      maxNumberOfCodesPerFrame: this.maxNumberOfCodesPerFrame,\n      searchArea: combinedSearchArea,\n      codeLocation1d: isFullSearchArea\n        ? undefined\n        : {\n            area: {\n              x: combinedSearchArea.x,\n              y: combinedSearchArea.y + combinedSearchArea.height * 0.75 / 2,\n              width: combinedSearchArea.width,\n              height: combinedSearchArea.height * 0.25\n            }\n          },\n      codeLocation2d: isFullSearchArea\n        ? undefined\n        : {\n            area: combinedSearchArea\n          }\n    });\n  }\n\n  /**\n   * Get the configuration object for a symbology (which can then be modified).\n   *\n   * @param symbology The symbology for which to retrieve the configuration.\n   * @returns The symbology configuration object for the specified symbology.\n   */\n  public getSymbologySettings(symbology: Barcode.Symbology): SymbologySettings {\n    const ls: string = symbology.toLowerCase();\n    if (this.symbologySettings.hasOwnProperty(ls)) {\n      return this.symbologySettings[ls];\n    } else {\n      this.symbologySettings[ls] = new SymbologySettings();\n\n      return this.symbologySettings[ls];\n    }\n  }\n\n  /**\n   * Get the recognition enabled status for a symbology.\n   *\n   * @param symbology The symbology for which to retrieve the recognition enabled status.\n   * @returns Whether the symbology enabled for recognition.\n   */\n  public isSymbologyEnabled(symbology: Barcode.Symbology): boolean {\n    const ls: string = symbology.toLowerCase();\n\n    return this.symbologySettings.hasOwnProperty(ls) && this.symbologySettings[ls].isEnabled();\n  }\n\n  /**\n   * Enable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to enable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public enableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, true);\n  }\n\n  /**\n   * Disable recognition of a symbology or list/set of symbologies.\n   *\n   * @param symbology The single symbology or list/set of symbologies to disable.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public disableSymbologies(symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>): ScanSettings {\n    return this.setSymbologiesEnabled(symbology, false);\n  }\n\n  /**\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @returns The code duplicate filter value.\n   */\n  public getCodeDuplicateFilter(): number {\n    return this.codeDuplicateFilter;\n  }\n\n  /**\n   * Set the code duplicate filter value.\n   *\n   * When the filter is set to -1, each unique code is only scanned once. When set to 0,\n   * duplicate filtering is disabled. Otherwise the duplicate filter specifies an interval in milliseconds.\n   *\n   * @param durationMilliseconds The new value (-1, 0, or positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setCodeDuplicateFilter(durationMilliseconds: number): ScanSettings {\n    this.codeDuplicateFilter = durationMilliseconds;\n\n    return this;\n  }\n\n  /**\n   * @returns The maximum number of barcodes to be recognized every frame.\n   */\n  public getMaxNumberOfCodesPerFrame(): number {\n    return this.maxNumberOfCodesPerFrame;\n  }\n\n  /**\n   * Set the maximum number of barcodes to be recognized every frame.\n   *\n   * @param limit The new value (non-zero positive integer).\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setMaxNumberOfCodesPerFrame(limit: number): ScanSettings {\n    this.maxNumberOfCodesPerFrame = limit;\n\n    return this;\n  }\n\n  /**\n   * @returns The area of the image in which barcodes are searched.\n   */\n  public getSearchArea(): SearchArea {\n    return this.searchArea;\n  }\n\n  /**\n   * Set the area of the image in which barcodes are searched.\n   *\n   * @param searchArea The new search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setSearchArea(searchArea: SearchArea): ScanSettings {\n    this.searchArea = searchArea;\n\n    return this;\n  }\n\n  /**\n   * @hidden\n   *\n   * Set the base area of the image in which barcodes are searched, this is set automatically by a [[BarcodePicker]]\n   * and is combined with the searchArea to obtain the final combined search area.\n   *\n   * @param baseSearchArea The new base search area.\n   * @returns The updated [[ScanSettings]] object.\n   */\n  public setBaseSearchArea(baseSearchArea: SearchArea): ScanSettings {\n    this.baseSearchArea = baseSearchArea;\n\n    return this;\n  }\n\n  private setSymbologiesEnabled(\n    symbology: Barcode.Symbology | Barcode.Symbology[] | Set<Barcode.Symbology>,\n    enabled: boolean\n  ): ScanSettings {\n    if (typeof symbology === \"object\") {\n      for (const s of symbology) {\n        const ls: string = s.toLowerCase();\n        if (s in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n          if (this.symbologySettings.hasOwnProperty(ls)) {\n            this.symbologySettings[ls].setEnabled(enabled);\n          } else {\n            this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n          }\n        }\n      }\n    } else {\n      const ls: string = symbology.toLowerCase();\n      if (symbology in Barcode.Symbology || Object.values(Barcode.Symbology).indexOf(ls) !== -1) {\n        if (this.symbologySettings.hasOwnProperty(ls)) {\n          this.symbologySettings[ls].setEnabled(enabled);\n        } else {\n          this.symbologySettings[ls] = new SymbologySettings({ enabled: enabled });\n        }\n      }\n    }\n\n    return this;\n  }\n}\n","import { EventEmitter } from \"eventemitter3\";\n\nimport { engineSDKWorker } from \"./workers/engineSDKWorker\";\n\nimport { deviceId, scanditEngineLocation, userLicenseKey } from \"../index\";\nimport { Barcode } from \"./barcode\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { ParserField } from \"./parserField\";\nimport { ParserResult } from \"./parserResult\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A low-level scanner interacting with the external Scandit Engine library.\n * Used to set up scan / image settings and to process single image frames.\n *\n * The loading of the external Scandit Engine library can take some time, the [[onReady]] method\n * can be used to set up a listener function to be called when the library is loaded and the [[isReady]] method\n * can return the current status. The scanner will be ready to start scanning when the library is loaded.\n */\nexport class Scanner {\n  private scanSettings: ScanSettings;\n  private imageSettings: ImageSettings;\n  private engineSDKWorker: Worker;\n  private eventEmitter: EventEmitter;\n  private workerParseRequestId: number;\n  private workerScanRequestId: number;\n  private workerScanQueueLength: number;\n  private isReadyToWork: boolean;\n\n  /**\n   * Creates a Scanner instance.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * Before processing an image the relative settings must also have been set.\n   *\n   * If the library has not been correctly configured yet a <tt>LibraryNotConfiguredError</tt> error is thrown.\n   *\n   * If a browser is incompatible a <tt>UnsupportedBrowserError</tt> error is thrown.\n   *\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options.\n   * @param imageSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The configuration object to define the properties of an image to be scanned.\n   */\n  constructor({\n    scanSettings = new ScanSettings(),\n    imageSettings\n  }: {\n    scanSettings?: ScanSettings;\n    imageSettings?: ImageSettings;\n  } = {}) {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      throw unsupportedBrowserError;\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      throw new CustomError({\n        name: \"LibraryNotConfiguredError\",\n        message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n      });\n    }\n\n    this.isReadyToWork = false;\n    this.workerScanQueueLength = 0;\n\n    this.engineSDKWorker = new Worker(URL.createObjectURL(engineSDKWorker));\n    this.engineSDKWorker.onmessage = this.engineWokerOnMessage.bind(this);\n    this.engineSDKWorker.postMessage({\n      type: \"load-library\",\n      deviceId: deviceId,\n      libraryLocation: scanditEngineLocation\n    });\n\n    this.eventEmitter = new EventEmitter();\n    this.workerParseRequestId = 0;\n    this.workerScanRequestId = 0;\n\n    this.applyLicenseKey(userLicenseKey);\n    this.applyScanSettings(scanSettings);\n    if (imageSettings != null) {\n      this.applyImageSettings(imageSettings);\n    }\n  }\n\n  /**\n   * Stop the internal <tt>WebWorker</tt> and destroy the scanner itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the scanner anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    if (this.engineSDKWorker != null) {\n      this.engineSDKWorker.terminate();\n    }\n    this.eventEmitter.removeAllListeners();\n  }\n\n  /**\n   * Applies a new set of scan settings to the scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): Scanner {\n    this.scanSettings = scanSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"settings\",\n      settings: this.scanSettings.toJSONString()\n    });\n\n    return this;\n  }\n\n  /**\n   * Applies a new set of image settings to the scanner (replacing old settings).\n   *\n   * @param imageSettings The image configuration object to be applied to the scanner.\n   * @returns The updated [[Scanner]] object.\n   */\n  public applyImageSettings(imageSettings: ImageSettings): Scanner {\n    this.imageSettings = imageSettings;\n    this.engineSDKWorker.postMessage({\n      type: \"image-settings\",\n      imageSettings: this.imageSettings\n    });\n\n    return this;\n  }\n\n  /**\n   * Process a given image using the previously set scanner and image settings,\n   * recognizing codes and retrieving the result as a list of barcodes (if any).\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * Depending on the current image settings, given <i>imageData</i> and scanning execution, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>NoImageSettings</tt>\n   * - <tt>ImageSettingsDataMismatch</tt>\n   * - <tt>ScanditEngineError</tt>\n   *\n   * @param imageData The image data given as a byte array, complying with the previously set image settings.\n   * @returns A promise resolving to the [[ScanResult]] object.\n   */\n  public processImage(imageData: Uint8ClampedArray): Promise<ScanResult> {\n    if (this.imageSettings == null) {\n      return Promise.reject(\n        new CustomError({ name: \"NoImageSettings\", message: \"No image settings set up in the scanner\" })\n      );\n    }\n\n    let channels: number;\n    switch (this.imageSettings.format.valueOf()) {\n      case ImageSettings.Format.GRAY_8U:\n        channels = 1;\n        break;\n      case ImageSettings.Format.RGB_8U:\n        channels = 3;\n        break;\n      case ImageSettings.Format.RGBA_8U:\n        channels = 4;\n        break;\n      default:\n        channels = 1;\n        break;\n    }\n\n    if (this.imageSettings.width * this.imageSettings.height * channels !== imageData.length) {\n      return Promise.reject(\n        new CustomError({\n          name: \"ImageSettingsDataMismatch\",\n          message: \"The provided image data doesn't match the previously set image settings\"\n        })\n      );\n    }\n\n    this.workerScanRequestId++;\n    this.workerScanQueueLength++;\n\n    return new Promise<ScanResult>((resolve, reject) => {\n      const workResultEvent: string = `work-result-${this.workerScanRequestId}`;\n      const workErrorEvent: string = `work-error-${this.workerScanRequestId}`;\n      const originalImageData: Uint8ClampedArray = imageData.slice();\n      this.eventEmitter.once(workResultEvent, result => {\n        this.eventEmitter.removeAllListeners(workErrorEvent);\n        resolve({\n          barcodes: result.map(Barcode.createFromWASMResult),\n          imageData: originalImageData,\n          imageSettings: { ...this.imageSettings }\n        });\n      });\n      this.eventEmitter.once(workErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(workResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage(\n        {\n          type: \"work\",\n          requestId: this.workerScanRequestId,\n          data: imageData.buffer\n        },\n        [imageData.buffer]\n      );\n    });\n  }\n\n  /**\n   * @returns Whether the scanner is currently busy processing an image.\n   */\n  public isBusyProcessing(): boolean {\n    return this.workerScanQueueLength !== 0;\n  }\n\n  /**\n   * @returns Whether the scanner has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the scanner can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[Scanner]] object.\n   */\n  public onReady(listener: () => void): Scanner {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return new Parser(this, dataFormat);\n  }\n\n  /**\n   * @hidden\n   *\n   * Return the current scan settings, this is used automatically by a [[BarcodePicker]].\n   *\n   * @returns The current scan settings.\n   */\n  public getScanSettings(): ScanSettings {\n    return this.scanSettings;\n  }\n\n  /**\n   * @hidden\n   *\n   * Process a given string using the Scandit Parser library,\n   * parsing the data in the given format and retrieving the result as a [[ParserResult]] object.\n   *\n   * Multiple requests done without waiting for previous results will be queued and handled in order.\n   *\n   * If parsing of the data fails the returned promise is rejected with a <tt>ScanditEngineError</tt> error.\n   *\n   * @param dataFormat The format of the given data.\n   * @param dataString The string containing the data to be parsed.\n   * @param options Options for the specific data format parser.\n   * @returns A promise resolving to the [[ParserResult]] object.\n   */\n  public parseString(dataFormat: Parser.DataFormat, dataString: string, options?: any): Promise<ParserResult> {\n    this.workerParseRequestId++;\n\n    return new Promise<ParserResult>((resolve, reject) => {\n      const parseStringResultEvent: string = `parse-string-result-${this.workerParseRequestId}`;\n      const parseStringErrorEvent: string = `parse-string-error-${this.workerParseRequestId}`;\n      this.eventEmitter.once(parseStringResultEvent, result => {\n        this.eventEmitter.removeAllListeners(parseStringErrorEvent);\n        const parserResult: ParserResult = {\n          jsonString: result,\n          fields: [],\n          fieldsByName: {}\n        };\n        (<ParserField[]>JSON.parse(result)).forEach(parserField => {\n          parserResult.fields.push(parserField);\n          parserResult.fieldsByName[parserField.name] = parserField;\n        });\n        resolve(parserResult);\n      });\n      this.eventEmitter.once(parseStringErrorEvent, error => {\n        console.error(`Scandit Engine error (${error.errorCode}):`, error.errorMessage);\n        this.eventEmitter.removeAllListeners(parseStringResultEvent);\n        const errorObject: Error = new CustomError({\n          name: \"ScanditEngineError\",\n          message: `${error.errorMessage} (${error.errorCode})`\n        });\n        reject(errorObject);\n      });\n      this.engineSDKWorker.postMessage({\n        type: \"parse-string\",\n        requestId: this.workerParseRequestId,\n        dataFormat: dataFormat,\n        dataString: dataString,\n        options: options == null ? \"{}\" : JSON.stringify(options)\n      });\n    });\n  }\n\n  private applyLicenseKey(licenseKey: string): Scanner {\n    this.engineSDKWorker.postMessage({\n      type: \"license-key\",\n      licenseKey: licenseKey\n    });\n\n    return this;\n  }\n\n  private engineWokerOnMessage(ev: MessageEvent): void {\n    const messageType: string | undefined = ev.data[0];\n    const messageData: any | undefined = ev.data[1];\n\n    if (messageType === \"status\") {\n      if (messageData === \"ready\") {\n        this.isReadyToWork = true;\n        this.eventEmitter.emit(\"ready\");\n      }\n    } else if (messageType === \"work-result\" && messageData != null) {\n      this.eventEmitter.emit(`work-result-${messageData.requestId}`, messageData.result);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"work-error\" && messageData != null) {\n      this.eventEmitter.emit(`work-error-${messageData.requestId}`, messageData.error);\n      this.workerScanQueueLength--;\n    } else if (messageType === \"parse-string-result\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-result-${messageData.requestId}`, messageData.result);\n    } else if (messageType === \"parse-string-error\" && messageData != null) {\n      this.eventEmitter.emit(`parse-string-error-${messageData.requestId}`, messageData.error);\n    }\n  }\n}\n","/*! howler.js v2.0.9 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com */\n!function(){\"use strict\";var e=function(){this.init()};e.prototype={init:function(){var e=this||n;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=\"canplaythrough\",e._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||n;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.volume=u._volume*e)}return t}return t._volume},mute:function(e){var t=this||n;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,n.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var r=t._howls[o]._getSoundIds(),a=0;a<r.length;a++){var u=t._howls[o]._soundById(r[a]);u&&u._node&&(u._node.muted=!!e||u._muted)}return t},unload:function(){for(var e=this||n,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||n)._codecs[e.replace(/^x-/,\"\")]},_setup:function(){var e=this||n;if(e.state=e.ctx?e.ctx.state||\"running\":\"running\",e._autoSuspend(),!e.usingWebAudio)if(\"undefined\"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent=\"canplay\")}catch(n){e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||n,t=null;try{t=\"undefined\"!=typeof Audio?new Audio:null}catch(n){return e}if(!t||\"function\"!=typeof t.canPlayType)return e;var o=t.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),r=e._navigator&&e._navigator.userAgent.match(/OPR\\/([0-6].)/g),a=r&&parseInt(r[0].split(\"/\")[1],10)<33;return e._codecs={mp3:!(a||!o&&!t.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!t.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!t.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!t.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(t.canPlayType(\"audio/x-m4a;\")||t.canPlayType(\"audio/m4a;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(t.canPlayType(\"audio/x-mp4;\")||t.canPlayType(\"audio/mp4;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),dolby:!!t.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(t.canPlayType(\"audio/x-flac;\")||t.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},e},_enableMobileAudio:function(){var e=this||n,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),o=!!(\"ontouchend\"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(t||o)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(){n._autoResume();var t=e.ctx.createBufferSource();t.buffer=e._scratchBuffer,t.connect(e.ctx.destination),void 0===t.start?t.noteOn(0):t.start(0),\"function\"==typeof e.ctx.resume&&e.ctx.resume(),t.onended=function(){t.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener(\"touchstart\",r,!0),document.removeEventListener(\"touchend\",r,!0)}};return document.addEventListener(\"touchstart\",r,!0),document.addEventListener(\"touchend\",r,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&n.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state=\"suspending\",e.ctx.suspend().then(function(){e.state=\"suspended\",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&n.usingWebAudio)return\"running\"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):\"suspended\"===e.state?(e.ctx.resume().then(function(){e.state=\"running\";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit(\"resume\")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):\"suspending\"===e.state&&(e._resumeAfterSuspend=!0),e}};var n=new e,t=function(e){var n=this;if(!e.src||0===e.src.length)return void console.error(\"An array of source files must be passed with any new Howl.\");n.init(e)};t.prototype={init:function(e){var t=this;return n.ctx||_(),t._autoplay=e.autoplay||!1,t._format=\"string\"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state=\"unloaded\",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onresume=[],t._webAudio=n.usingWebAudio&&!t._html5,void 0!==n.ctx&&n.ctx&&n.mobileAutoEnable&&n._enableMobileAudio(),n._howls.push(t),t._autoplay&&t._queue.push({event:\"play\",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(n.noAudio)return void e._emit(\"loaderror\",null,\"No audio support.\");\"string\"==typeof e._src&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,i;if(e._format&&e._format[r])u=e._format[r];else{if(\"string\"!=typeof(i=e._src[r])){e._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}u=/^data:audio\\/([^;,]+);/i.exec(i),u||(u=/\\.([^.]+)$/.exec(i.split(\"?\",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),u&&n.codecs(u)){t=e._src[r];break}}return t?(e._src=t,e._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new o(e),e._webAudio&&a(e),e):void e._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")},play:function(e,t){var o=this,r=null;if(\"number\"==typeof e)r=e,e=null;else{if(\"string\"==typeof e&&\"loaded\"===o._state&&!o._sprite[e])return null;if(void 0===e){e=\"__default\";for(var a=0,u=0;u<o._sounds.length;u++)o._sounds[u]._paused&&!o._sounds[u]._ended&&(a++,r=o._sounds[u]._id);1===a?e=null:r=null}}var i=r?o._soundById(r):o._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||\"__default\"),\"loaded\"!==o._state){i._sprite=e,i._ended=!1;var d=i._id;return o._queue.push({event:\"play\",action:function(){o.play(d)}}),d}if(r&&!i._paused)return t||o._loadQueue(\"play\"),i._id;o._webAudio&&n._autoResume();var _=Math.max(0,i._seek>0?i._seek:o._sprite[e][0]/1e3),s=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-_),l=1e3*s/Math.abs(i._rate);i._paused=!1,i._ended=!1,i._sprite=e,i._seek=_,i._start=o._sprite[e][0]/1e3,i._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,i._loop=!(!i._loop&&!o._sprite[e][2]);var c=i._node;if(o._webAudio){var f=function(){o._refreshBuffer(i);var e=i._muted||o._muted?0:i._volume;c.gain.setValueAtTime(e,n.ctx.currentTime),i._playStart=n.ctx.currentTime,void 0===c.bufferSource.start?i._loop?c.bufferSource.noteGrainOn(0,_,86400):c.bufferSource.noteGrainOn(0,_,s):i._loop?c.bufferSource.start(0,_,86400):c.bufferSource.start(0,_,s),l!==1/0&&(o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l)),t||setTimeout(function(){o._emit(\"play\",i._id)},0)};\"running\"===n.state?f():(o.once(\"resume\",f),o._clearTimer(i._id))}else{var p=function(){c.currentTime=_,c.muted=i._muted||o._muted||n._muted||c.muted,c.volume=i._volume*n.volume(),c.playbackRate=i._rate;try{var r=c.play();if(\"undefined\"!=typeof Promise&&r instanceof Promise){o._playLock=!0;var a=function(){o._playLock=!1,t||o._emit(\"play\",i._id)};r.then(a,a)}else t||o._emit(\"play\",i._id);if(c.paused)return void o._emit(\"playerror\",i._id,\"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.\");\"__default\"!==e?o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l):(o._endTimers[i._id]=function(){o._ended(i),c.removeEventListener(\"ended\",o._endTimers[i._id],!1)},c.addEventListener(\"ended\",o._endTimers[i._id],!1))}catch(e){o._emit(\"playerror\",i._id,e)}},m=window&&window.ejecta||!c.readyState&&n._navigator.isCocoonJS;if(c.readyState>=3||m)p();else{var v=function(){p(),c.removeEventListener(n._canPlayEvent,v,!1)};c.addEventListener(n._canPlayEvent,v,!1),o._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"pause\",action:function(){n.pause(e)}}),n;for(var t=n._getSoundIds(e),o=0;o<t.length;o++){n._clearTimer(t[o]);var r=n._soundById(t[o]);if(r&&!r._paused&&(r._seek=n.seek(t[o]),r._rateSeek=0,r._paused=!0,n._stopFade(t[o]),r._node))if(n._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||n._emit(\"pause\",r?r._id:null)}return n},stop:function(e,n){var t=this;if(\"loaded\"!==t._state)return t._queue.push({event:\"stop\",action:function(){t.stop(e)}}),t;for(var o=t._getSoundIds(e),r=0;r<o.length;r++){t._clearTimer(o[r]);var a=t._soundById(o[r]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,t._stopFade(o[r]),a._node&&(t._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause())),n||t._emit(\"stop\",a._id))}return t},mute:function(e,t){var o=this;if(\"loaded\"!==o._state)return o._queue.push({event:\"mute\",action:function(){o.mute(e,t)}}),o;if(void 0===t){if(\"boolean\"!=typeof e)return o._muted;o._muted=e}for(var r=o._getSoundIds(t),a=0;a<r.length;a++){var u=o._soundById(r[a]);u&&(u._muted=e,u._interval&&o._stopFade(u._id),o._webAudio&&u._node?u._node.gain.setValueAtTime(e?0:u._volume,n.ctx.currentTime):u._node&&(u._node.muted=!!n._muted||e),o._emit(\"mute\",u._id))}return o},volume:function(){var e,t,o=this,r=arguments;if(0===r.length)return o._volume;if(1===r.length||2===r.length&&void 0===r[1]){o._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var a;if(!(void 0!==e&&e>=0&&e<=1))return a=t?o._soundById(t):o._sounds[0],a?a._volume:0;if(\"loaded\"!==o._state)return o._queue.push({event:\"volume\",action:function(){o.volume.apply(o,r)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var u=0;u<t.length;u++)(a=o._soundById(t[u]))&&(a._volume=e,r[2]||o._stopFade(t[u]),o._webAudio&&a._node&&!a._muted?a._node.gain.setValueAtTime(e,n.ctx.currentTime):a._node&&!a._muted&&(a._node.volume=e*n.volume()),o._emit(\"volume\",a._id));return o},fade:function(e,t,o,r){var a=this;if(\"loaded\"!==a._state)return a._queue.push({event:\"fade\",action:function(){a.fade(e,t,o,r)}}),a;a.volume(e,r);for(var u=a._getSoundIds(r),i=0;i<u.length;i++){var d=a._soundById(u[i]);if(d){if(r||a._stopFade(u[i]),a._webAudio&&!d._muted){var _=n.ctx.currentTime,s=_+o/1e3;d._volume=e,d._node.gain.setValueAtTime(e,_),d._node.gain.linearRampToValueAtTime(t,s)}a._startFadeInterval(d,e,t,o,u[i],void 0===r)}}return a},_startFadeInterval:function(e,n,t,o,r,a){var u=this,i=n,d=t-n,_=Math.abs(d/.01),s=Math.max(4,_>0?o/_:o),l=Date.now();e._fadeTo=t,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),i+=d*r,i=Math.max(0,i),i=Math.min(1,i),i=Math.round(100*i)/100,u._webAudio?e._volume=i:u.volume(i,e._id,!0),a&&(u._volume=i),(t<n&&i<=t||t>n&&i>=t)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,u.volume(t,e._id),u._emit(\"fade\",e._id))},s)},_stopFade:function(e){var t=this,o=t._soundById(e);return o&&o._interval&&(t._webAudio&&o._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(o._interval),o._interval=null,t.volume(o._fadeTo,e),o._fadeTo=null,t._emit(\"fade\",e)),t},loop:function(){var e,n,t,o=this,r=arguments;if(0===r.length)return o._loop;if(1===r.length){if(\"boolean\"!=typeof r[0])return!!(t=o._soundById(parseInt(r[0],10)))&&t._loop;e=r[0],o._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var a=o._getSoundIds(n),u=0;u<a.length;u++)(t=o._soundById(a[u]))&&(t._loop=e,o._webAudio&&t._node&&t._node.bufferSource&&(t._node.bufferSource.loop=e,e&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop)));return o},rate:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));var i;if(\"number\"!=typeof e)return i=o._soundById(t),i?i._rate:o._rate;if(\"loaded\"!==o._state)return o._queue.push({event:\"rate\",action:function(){o.rate.apply(o,r)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var d=0;d<t.length;d++)if(i=o._soundById(t[d])){i._rateSeek=o.seek(t[d]),i._playStart=o._webAudio?n.ctx.currentTime:i._playStart,i._rate=e,o._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(e,n.ctx.currentTime):i._node&&(i._node.playbackRate=e);var _=o.seek(t[d]),s=(o._sprite[i._sprite][0]+o._sprite[i._sprite][1])/1e3-_,l=1e3*s/Math.abs(i._rate);!o._endTimers[t[d]]&&i._paused||(o._clearTimer(t[d]),o._endTimers[t[d]]=setTimeout(o._ended.bind(o,i),l)),o._emit(\"rate\",i._id)}return o},seek:function(){var e,t,o=this,r=arguments;if(0===r.length)t=o._sounds[0]._id;else if(1===r.length){var a=o._getSoundIds(),u=a.indexOf(r[0]);u>=0?t=parseInt(r[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return o;if(\"loaded\"!==o._state)return o._queue.push({event:\"seek\",action:function(){o.seek.apply(o,r)}}),o;var i=o._soundById(t);if(i){if(!(\"number\"==typeof e&&e>=0)){if(o._webAudio){var d=o.playing(t)?n.ctx.currentTime-i._playStart:0,_=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(_+d*Math.abs(i._rate))}return i._node.currentTime}var s=o.playing(t);if(s&&o.pause(t,!0),i._seek=e,i._ended=!1,o._clearTimer(t),s&&o.play(t,!0),!o._webAudio&&i._node&&(i._node.currentTime=e),s&&!o._webAudio){var l=function(){o._playLock?setTimeout(l,0):o._emit(\"seek\",t)};setTimeout(l,0)}else o._emit(\"seek\",t)}return o},playing:function(e){var n=this;if(\"number\"==typeof e){var t=n._soundById(e);return!!t&&!t._paused}for(var o=0;o<n._sounds.length;o++)if(!n._sounds[o]._paused)return!0;return!1},duration:function(e){var n=this,t=n._duration,o=n._soundById(e);return o&&(t=n._sprite[o._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++){if(t[o]._paused||e.stop(t[o]._id),!e._webAudio){/MSIE |Trident\\//.test(n._navigator&&n._navigator.userAgent)||(t[o]._node.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"),t[o]._node.removeEventListener(\"error\",t[o]._errorFn,!1),t[o]._node.removeEventListener(n._canPlayEvent,t[o]._loadFn,!1)}delete t[o]._node,e._clearTimer(t[o]._id);var a=n._howls.indexOf(e);a>=0&&n._howls.splice(a,1)}var u=!0;for(o=0;o<n._howls.length;o++)if(n._howls[o]._src===e._src){u=!1;break}return r&&u&&delete r[e._src],n.noAudio=!1,e._state=\"unloaded\",e._sounds=[],e=null,null},on:function(e,n,t,o){var r=this,a=r[\"_on\"+e];return\"function\"==typeof n&&a.push(o?{id:t,fn:n,once:o}:{id:t,fn:n}),r},off:function(e,n,t){var o=this,r=o[\"_on\"+e],a=0;if(\"number\"==typeof n&&(t=n,n=null),n||t)for(a=0;a<r.length;a++){var u=t===r[a].id;if(n===r[a].fn&&u||!n&&u){r.splice(a,1);break}}else if(e)o[\"_on\"+e]=[];else{var i=Object.keys(o);for(a=0;a<i.length;a++)0===i[a].indexOf(\"_on\")&&Array.isArray(o[i[a]])&&(o[i[a]]=[])}return o},once:function(e,n,t){var o=this;return o.on(e,n,t,1),o},_emit:function(e,n,t){for(var o=this,r=o[\"_on\"+e],a=r.length-1;a>=0;a--)r[a].id&&r[a].id!==n&&\"load\"!==e||(setTimeout(function(e){e.call(this,n,t)}.bind(o,r[a].fn),0),r[a].once&&o.off(e,r[a].fn,r[a].id));return o._loadQueue(e),o},_loadQueue:function(e){var n=this;if(n._queue.length>0){var t=n._queue[0];t.event===e&&(n._queue.shift(),n._loadQueue()),e||t.action()}return n},_ended:function(e){var t=this,o=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[o][2]);if(t._emit(\"end\",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit(\"play\",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=n.ctx.currentTime;var a=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),a)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),n._autoSuspend()),t._webAudio||r||t.stop(e._id),t},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(\"function\"!=typeof n._endTimers[e])clearTimeout(n._endTimers[e]);else{var t=n._soundById(e);t&&t._node&&t._node.removeEventListener(\"ended\",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,t=0;t<n._sounds.length;t++)if(e===n._sounds[t]._id)return n._sounds[t];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new o(e)},_drain:function(){var e=this,n=e._pool,t=0,o=0;if(!(e._sounds.length<n)){for(o=0;o<e._sounds.length;o++)e._sounds[o]._ended&&t++;for(o=e._sounds.length-1;o>=0;o--){if(t<=n)return;e._sounds[o]._ended&&(e._webAudio&&e._sounds[o]._node&&e._sounds[o]._node.disconnect(0),e._sounds.splice(o,1),t--)}}},_getSoundIds:function(e){var n=this;if(void 0===e){for(var t=[],o=0;o<n._sounds.length;o++)t.push(n._sounds[o]._id);return t}return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=n.ctx.createBufferSource(),e._node.bufferSource.buffer=r[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,n.ctx.currentTime),t},_cleanBuffer:function(e){var t=this;if(n._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=n._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var o=function(e){this._parent=e,this.init()};o.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,o=n._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),e._node.gain.setValueAtTime(o,n.ctx.currentTime),e._node.paused=!0,e._node.connect(n.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(\"error\",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(n._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload=\"auto\",e._node.volume=o*n.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite=\"__default\",e._id=++n._counter,e},_errorListener:function(){var e=this;e._parent._emit(\"loaderror\",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener(\"error\",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),\"loaded\"!==t._state&&(t._state=\"loaded\",t._emit(\"load\"),t._loadQueue()),e._node.removeEventListener(n._canPlayEvent,e._loadFn,!1)}};var r={},a=function(e){var n=e._src;if(r[n])return e._duration=r[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var t=atob(n.split(\",\")[1]),o=new Uint8Array(t.length),a=0;a<t.length;++a)o[a]=t.charCodeAt(a);i(o.buffer,e)}else{var _=new XMLHttpRequest;_.open(\"GET\",n,!0),_.withCredentials=e._xhrWithCredentials,_.responseType=\"arraybuffer\",_.onload=function(){var n=(_.status+\"\")[0];if(\"0\"!==n&&\"2\"!==n&&\"3\"!==n)return void e._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+_.status+\".\");i(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete r[n],e.load())},u(_)}},u=function(e){try{e.send()}catch(n){e.onerror()}},i=function(e,t){n.ctx.decodeAudioData(e,function(e){e&&t._sounds.length>0&&(r[t._src]=e,d(t,e))},function(){t._emit(\"loaderror\",null,\"Decoding audio data failed.\")})},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue())},_=function(){try{\"undefined\"!=typeof AudioContext?n.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch(e){n.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),t=n._navigator&&n._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var r=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());(n._navigator&&n._navigator.standalone&&!r||n._navigator&&!n._navigator.standalone&&!r)&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=void 0===n.ctx.createGain?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:1,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()};\"function\"==typeof define&&define.amd&&define([],function(){return{Howler:n,Howl:t}}),\"undefined\"!=typeof exports&&(exports.Howler=n,exports.Howl=t),\"undefined\"!=typeof window?(window.HowlerGlobal=e,window.Howler=n,window.Howl=t,window.Sound=o):\"undefined\"!=typeof global&&(global.HowlerGlobal=e,global.Howler=n,global.Howl=t,global.Sound=o)}();","// TODO: gracefully load assets from files inside build process\n\n/**\n * @hidden\n */\nexport const beepSound: string =\n  \"data:audio/mp3;base64,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\\\n4WkYO8cgBAIAxQQANlMUDB4LAkByw1k3LVZpl+pNlGNZem5stM2Wr6j1Z9AMMBYjily+nv/WqtU3SzFd\\\nqLW+g9ay+GvQb2oJMhV52tK+eZCvrd0BNqdIzFngHBYCQQIIaJ1PtUjVq//qP+ohdCZhgRJDlF/////z\\\noi5C6lVAABQCoDYQD4ZCwVB9kTFKkiv9NQcExMLk3ipgtxrzPf8LZgdNYHsgYIPgbIgAEXEAwCgpAie4\\\nXVi5BaBlBUxSQfMO7yfQPFcsGReNjIgX0QvmASaIgQc3SJkgpqr+myNNNNJSSX/n1Hw/4CgwqkXN3qSM\\\nTVX//U2skkQuTq9JJEy/+ybvT6p1IjCCpfiL/+SuQupVQAAUAqA2EA+GQsFQfZExSpIr/TUHBMTC5N4q\\\nYLca8z3/C2YHTWB7IGCD4GyIABFxAMAoKQInuF1YuQWgZQVMUkHzDu8n0DxXLBkXjYyIF9EL5gEmiIEH\\\nN0iZIKaq/psjTTTSUkl/59R8P+AoMKpFzd6kjE1V//1NrJJELk6vSSRMv/sm70+qdSIwgqX4i//klMQU\\\n1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+7IAAA/wAABpBwAACAAADSDgAAEAAAGkAAAAIA\\\nAANIAAAARMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\\\nVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=\";\n\n/**\n * @hidden\n */\nexport const scanditLogoImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUcAAAAhCAMAAAB9TZmqAAABgFBMVEVHcE\\\nyCgoL+/v6Kior///+FhYXW1tbn5+eAgIDp6en+/v6BgYH///////////+BgYH///////////+wsLCCgo\\\nL4+PiBgYH///+srKyAgID////s7OyCgoKBgYGDg4P///+BgYH6+vqBgYH////MzMz39/f///+BgYGbm5\\\nuDg4OMjIyBgYG+vr6QkJD///////+BgYGDg4P+/v7Hx8eOjo6BgYH09PT7+/v///////+MjIz9/f3///\\\n/////Y2Nj6+vrPz8+BgYH9/f3///+3t7f///+Ghob///+AgICDg4P///+IiIj///////+CgoL6+vqmpq\\\nb////////t7e3////////////b29vj4+PNzc3y8vLl5eXv7+/U1NTDw8O8vLyRkZH////x8fGJiYmZmZ\\\nnDw8Pf39/S0tLT09PCwsKfn5/4+PjV1dWlpaWwsLCjo6OsrKzj4+OZmZnCwsLq6uqurq7///+AgICfn5\\\n+Tk5OFhYXCwsLJycmYmJjU1NS/v79wPZvPAAAAdnRSTlMAcvoPxiTEAsby9L8p/eusNEoJBlEZ2Pb67n\\\nz25fVGOv1Eh+RW7oyC/ToXzkALzmqTe8BJHmf9Uu+n/B2Dnt7/+6MvEP2ZKrmzXHIx2dScYv6wkf3o3S\\\nL+/uDhqLbnuNrVV4u4ie7LNGlhweeUnrTsZOjkis/PjpWtfQAACfhJREFUaN7tmXlbGksWxtlMEwRUVj\\\nUgrSQqEAQccXdQQRUVVYxqoolqjGa9WW7uW25Xv/pUdxe9q2TM88zMM55/aE5V1/Lr03XeqrZYHuzBHu\\\nzB/vPmX+hzgdmcyh/sXrIx95LKPQ64/JoG5oaHHVztzya8Ssl0rV1PfO6A03YbR4xdzUBnblbgXphZm2\\\nhv+W0z9bW0+H7tjmL9d2w6VDPon7XX/CsuxR2fTcr1hervk+oWBM9KDa0bLqVys5pOn1vTrxfvG6SrCT\\\n3HpwNiS3O1Gzt/E8dN5RHVadNAsL6aXB9ch3/9zWyUdDF/Bqh8/ngm2Shpkp+QB49xEdJy3MbgW4UjaV\\\nQ42nola73ywDWt5XhKpIcWbP4h9F3CIOuOEOodiwNz4wvdDsDW/N/PMYPhb1GiGOMY82CiSeWWObYgXs\\\n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\";\n\n/**\n * @hidden\n */\nexport const laserActiveImage: string =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuwAAAAvCAMAAACPHW/9AAAAwFBMVEVHcE\\\nxUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyN\\\nFUyNFUyNFUyNFUyNFUyNFUyNFUyNFUyNFVydJUyNFUyNFUyNFUyNH8/v5UyNFUyNFUyNFVydJUyNFUyN\\\nFUyNFVydJUyNFVydL3/f1YytNUyNFUyNFUyNHx+/ve9fbp+PnR8fNUyNGF2N9009q15+uW3ePD7O+l4+\\\ndv0dlv0dj///9Ujp4pAAAAP3RSTlMAiXJnBFsIARM5oA1+UKsuG5W3JEULBishQj5iAm0QkTQZ/h5MF3\\\nsnWISbSHb8plMFjfjv9Oeyua3Ww9/Nn4y/IgemAAAIrElEQVR42u2da1saOxCAq8jRVuql0qOVIgcvgH\\\nhBrBbUYv//vzpzySSTZBeWqo8fOm+E9Vv3eXxnOptNJh8+vD3rhvFC3lHR73/GmmEsxdKKVY+N3ONFN3\\\nOT8O+S/GMYnmXtid0rCJAy7b3nrPDyQn5dnk3DiFnaoeJ4Ife98ZnqTnTSPHZ38R0ezWPDMF6BeY6lse\\\nK0F+Ej3Vl1MJ1EZ78rmXrmBvxWTLcCO4axU8WUEsk2nIMhJsh6Et75HnQn10l1NB093xB9F9p4UsBBKX\\\nuGsQSlIuXSScSQ/Og8Ch9097aT66I6mo6S74i1c++mn7G/v4+fQrYNYymKPWLBEvEkOtD7LhoPvmN+R9\\\n3R9sR1UR1FR8n7/cqS/oejjI+G8UIyqbb9NQ4NtB6MJ99J99j2deU6q35AnrPDFew99FcY+MN8K6VpGH\\\nMpVecwQL5p/1h+dL6/Bwm+i9k92M6yY2IPrpPqaLqT2omrR7hk9l4ETvEHRuAzD8OogNNFgUpd8DeRhg\\\nYGACkPvqPuO5jc2XZM7SGxK9dRdRSdknNicIy+Ey/xyDMYDRR1dzGMaihrHKCUxweFhALpD8qj76Q71j\\\nLOdknt6y6xB9dZdRCddU4ibpSgdA606q2cWqtWq7VqfDWMUpwk8BVRd99xPHAYkP6oPPkOurPtVMlwan\\\neyU2KHZ1NxHVVvXqDm3uXC0GuR1Nrr+J7bODyr9IGByNUwYtr+wrYEgcClJCZ0FJD6YDz5Drqz7Vi3U2\\\noX2amKgcR+1nWuk+okelmOrmVWB6XxVi9xBHpFNHoNw0gpUkU8WsUfCYoQBLW2uA/Cj0aQ353tBydcyH\\\nAdQ8+na5TYsYg52GPXUXUwnbXW2TnC/atKbO+x47xxnrFiGBXIxEGbkoCQAHD2k/CgO2T3JtkOT6ldl9\\\nq17JtUxOz1xXXM6WC6N5qVVtm6B2ZfRmrnPo9Xxkxn3InYlWEYGudFDOjDpHEAyin7UXoQnnVn27mQod\\\nQusksVw0UMuj6CrM6mU7ZO/6ehIFNZ28uNXjudFUPNJxz8ZRgxw09eDbgEQCEdERwCSn+X+EF48B11B9\\\nuxkqFCZmNjk4t2/3xKFTsl9m9Ndh1N7zUa5eWHZO1Y7qFzW+7/GgZ+AVvXW1v0RR/DKMGZgldAFJKAcP\\\n7vDhP30fkG6I7ZnWynQoZS+9ev/ISKz6euioHEDkWMdx1UJ8Wdz+NOqEZU1vaJW9ntxBZ+5nzhYRgJJE\\\nYBKhQoAjL3wXr0nXRH20+bnNpdHQNPqCQ7VzGS2C9GXnUQncQe+nyNZcjsegZMZ1NgMp0Aj8Av5AF5Qu\\\n6RH8wdcctcBY49v42/m6CC8oN8YXnu2CSyivwi01A5dO8RJZxMp+jl8/Pzee+yXasPJLV3pWj3slMVgx\\\nV78xTyunN93KG8HWoqjKkZfKZb06A6u462P4DtTyT7Pdn+g3S/I9tvyfYrHInpJPvxbzP+79Qc//BBdd\\\nEdPLm9cvmRZCfd78t0d7ZP2fbn3mq7VcfU7uqYWPYjnnekKmYAiV1cZ9W5MnGmo+jadQotSuwPvySxR6\\\n4H1dl2dh1/LLMbLHyku8/sV2z6rU/tJPvTvbhO1cSjtx2E5NzeoNT++SLUMaWy1yPZOZ+L7VtTlP3ndP\\\nqFbJ9M0irmKVQxktddYpfMTrofp5ndMNlF9WNnep7ZXWIH2x+C7uT6Y5zaWfZvy8o+lPIF8/oW6z5F3S\\\nec2UNiDxX7vS7Z7+6KqhjU3TK7kVTsKrOz7XeuaM/KGK5iojpmSmU7uT43s0c1Oz2fNs7P8elUlewzrG\\\nJwkO6+Yp/oil1ndl2ySxnjXD9OUrv9vU12pzqNUMWEZ9TwiPoUinYpYySzu0dUKmNKa3Y9G0MTj5doO0\\\n/G4BzMDAZ+fZrRXEw0FePLmHQu5l5l9rRmvzLZjeLUfhW7ns3GJM+nfj5mqlzHB9Ti2Zh8nr2l5tnjF/\\\n67qL9+PxomJYd6ziZ6bVQwz24Y5XPt2SQ7jvDGiebZr7Np9irz7Okb1IvsDeqKjNIXqJ3s/elQvWOS6R\\\nz1psneoRrlL1D16yN+gxpeoPplBLslb1BXy9+ghrUx3cK1Mb2CtTGN4oWMWv6Ol1/nfnkvRStkeJmMrZ\\\nExooUxTo4E8kjWioXFYdHSsEZj0dqYSqseLwuQNY9h0WMjW0Yz9sTrHnnFY0fu3jCcCR2vc77ocbwyzt\\\nf/hmWPbtVjbf6qR1nP3o3Xs9fdevaa3yeithz5bRpxMMT6Fy1o53vlj61tN+I17JEX2Xr282SDh9/TIb\\\ns5eD37YDRvPXvpTqV6vcI+Jdou5f1XWzr0fwL5ZiW+a9uZY0T7lBpzNioFsfVOJdr9WXGnkt+DulG+B7\\\nVk+3eyZa+m4qCdbEBVwWCbT41Ke1H1/tOgdbtoE6reg3qa7kHd1HtQo+4Ce2l3gfLeAoO4X0YSBfWstU\\\nAr7Bo3jMXtBdiatMGA7i5Qj3pshO4C4rokdtVdwPeNOYv7xnD7o6W6xnzWoTBIWsdwRFjrGGNBw5ikT4\\\nYyelDaN+ZU+sYcUp+k4r4xlTqCHc7radcsagiWBINvCGYdwYxqHcFO855g1BWMWs2VtwRTHcHQ9aOoI9\\\njcXo/S3NEP/3tOHBSuRV4WGNbq0ajW7DFr+Mg9F2Oy5qfS6/Eg9HpUib2ki+8ed/HtL27iK91PS9ugWh\\\ntf4zW6+H7MO/lux518ky6+2vWsZ3VRf/ZqzdnD70l39m1rz268eoN2TML9/Vi90J/9ZE5/9kUnbyx77g\\\nYOfdqGHbxhvPLRGycFZ2+EkzfO+LQZOXnjZi0/Z6boTKVFJyrJLy84UcmOVDJefqhSctDYnDOVotPy3G\\\nGQ1Q7LO8JhZ+UZ731cHoqojsuT0/Ju1uYeDpmfg/pmp6DaMajGWx2EOvcc1OTg32oHXN+89HxrO+DaeN\\\nMjrqsd7M5Huxfy/Y9ZM4wlWVoyZ+mHd2LdMF7Ma5j4P+hE04Z78rHKAAAAAElFTkSuQmCC\";\n\n/**\n * @hidden\n */\nexport const laserPausedImage: string =\n  \"data:image/png;base64,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\";\n\n/**\n * @hidden\n */\nexport const switchCameraImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTI2LjE0IDhjLTEuNjc1IDAtMy4yMy44MzItNC4xNiAyLjIyN2wtMi\\\n4yMTggMy4zMjhhMS4wMDMgMS4wMDMgMCAwIDEtLjgzMi40NDVIMTh2LTJjMC0xLjEwMi0uODk4LTItMi\\\n0yaC02Yy0xLjEwMiAwLTIgLjg5OC0yIDJ2Mkg1Yy0xLjY1MiAwLTMgMS4zNDgtMyAzdjM2YzAgMS42NT\\\nIgMS4zNDggMyAzIDNoNTRjMS42NTIgMCAzLTEuMzQ4IDMtM1YxN2MwLTEuNjUyLTEuMzQ4LTMtMy0zaC\\\n0zdi0xYzAtMS4xMDItLjg5OC0yLTItMmgtMmMtMS4xMDIgMC0yIC44OTgtMiAydjFoLTQuOTM4YS45OT\\\ncuOTk3IDAgMCAxLS44MjgtLjQ0MWwtMi4yNTQtMy4zNTJBNS4wMDEgNS4wMDEgMCAwIDAgMzcuODI4ID\\\nh6bTAgMmgxMS42ODhjMSAwIDEuOTM0LjQ5NiAyLjQ5MiAxLjMyNGwyLjI1NCAzLjM1MkEyLjk5OCAyLj\\\nk5OCAwIDAgMCA0NS4wNjMgMTZINTljLjU1IDAgMSAuNDUgMSAxdjM2YzAgLjU1LS40NSAxLTEgMUg1Yy\\\n0uNTUgMC0xLS40NS0xLTFWMTdjMC0uNTUuNDUtMSAxLTFoMTMuOTNjMS4wMDQgMCAxLjkzNy0uNSAyLj\\\nQ5Ni0xLjMzNmwyLjIxOS0zLjMyOEEyLjk5OCAyLjk5OCAwIDAgMSAyNi4xNCAxMHpNMTAgMTJoNnYyaC\\\n02em00MiAxaDJ2MWgtMnptLTIwIDVjLTUuMjkgMC0xMC4yNDYgMi44MzYtMTIuOTM0IDcuMzk4YS45OT\\\nYuOTk2IDAgMCAwIC4zNTYgMS4zNjguOTk3Ljk5NyAwIDAgMCAxLjM2Ny0uMzU2QTEzLjA2NSAxMy4wNj\\\nUgMCAwIDEgMzIgMjBjNy4xNjggMCAxMyA1LjgzMiAxMyAxMyAwIC4xODgtLjAxNi4zNzUtLjAyMy41Nj\\\nNsLTIuMjctMi4yN2ExIDEgMCAxIDAtMS40MTQgMS40MTRsNCA0Yy4xOTUuMTk1LjQ1LjI5My43MDcuMj\\\nkzYS45OTMuOTkzIDAgMCAwIC43MDctLjI5M2w0LTRhMSAxIDAgMSAwLTEuNDE0LTEuNDE0bC0yLjMyID\\\nIuMzE2Yy4wMTEtLjIwMy4wMjctLjQwNi4wMjctLjYwOSAwLTguMjctNi43My0xNS0xNS0xNXpNMTggMj\\\nlhMSAxIDAgMCAwLS43MDcuMjkzbC00IDRhMSAxIDAgMSAwIDEuNDE0IDEuNDE0bDIuMzEzLTIuMzE2Yy\\\n0uMDA4LjIwMy0uMDIuNDA2LS4wMi42MDkgMCA4LjI3IDYuNzMgMTUgMTUgMTUgNS4zNjcgMCAxMC4zNi\\\n0yLjg5OCAxMy4wMjctNy41NjNhLjk5OS45OTkgMCAxIDAtMS43MzQtLjk5MkExMy4wNDIgMTMuMDQyID\\\nAgMCAxIDMyIDQ2Yy03LjE2OCAwLTEzLTUuODMyLTEzLTEzIDAtLjE4OC4wMTItLjM3OS4wMi0uNTY2bD\\\nIuMjczIDIuMjczYy4xOTUuMTk1LjQ1LjI5My43MDcuMjkzYTEgMSAwIDAgMCAuNzA3LTEuNzA3bC00LT\\\nRBMSAxIDAgMCAwIDE4IDI5em05IDJjLS41NTUgMC0xIC40NDUtMSAxdjJjMCAuNTU1LjQ0NSAxIDEgMS\\\nAuNTU1IDAgMS0uNDQ1IDEtMXYtMmMwLS41NTUtLjQ0NS0xLTEtMXptNSAwYy0uNTU1IDAtMSAuNDQ1LT\\\nEgMXYyYzAgLjU1NS40NDUgMSAxIDEgLjU1NSAwIDEtLjQ0NSAxLTF2LTJjMC0uNTU1LS40NDUtMS0xLT\\\nF6bTUgMGMtLjU1NSAwLTEgLjQ0NS0xIDF2MmMwIC41NTUuNDQ1IDEgMSAxIC41NTUgMCAxLS40NDUgMS\\\n0xdi0yYzAtLjU1NS0uNDQ1LTEtMS0xeiIvPjwvc3ZnPg==\";\n\n/**\n * @hidden\n */\nexport const toggleTorchImage: string =\n  \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIH\\\nZpZXdCb3g9IjAgMCA2NCA2NCIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZm\\\nlsbD0iI2ZmZiI+PHBhdGggZD0iTTMwLjkzOCAxYy0uNDQ2LjAyLTEgLjIzLTEuMzEzLjY1NmExLjMwMi\\\nAxLjMwMiAwIDAgMC0uMDYzLjA5NGwtNi43OCAxMi4wNjMtLjA2My4wOTNjLS41NTUuNzg1LS43MjcgMS\\\n43My0uNTk0IDIuNjU2bC0yMC41IDIyLjU2My0uMDMxLjAzMWMtMS4wNyAxLjIxOS0uNjY0IDMuMDEyLj\\\nQ2OCA0LjE1N2guMDMybDQuNTk0IDQuNTkzYy41Ny41NyAxLjI2NS45NSAyIDEuMDYzLjczNC4xMTMgMS\\\n41NDYtLjA1NSAyLjE1Ni0uNTk0aC4wMzFsMjIuNTYzLTIwLjVjLjkzLjEyOSAxLjg3LS4wNDMgMi42NT\\\nYtLjU5NC4wMi0uMDE1LjA0My0uMDE1LjA2Mi0uMDMxbC4wNjMtLjAzMSAxMi4wMzEtNi43ODJjLjAzMS\\\n0uMDE5LjA2My0uMDM5LjA5NC0uMDYyLjQyMi0uMzEzLjYzNi0uODY3LjY1Ni0xLjMxMy4wMi0uNDQ1LS\\\n4wOTgtLjg0LS4yNS0xLjI1LS4zMDUtLjgyLS44MjgtMS42OS0xLjUzMS0yLjY4Ny0xLjQwNy0xLjk5Mi\\\n0zLjUxNi00LjM5LTUuNzUtNi42MjUtMi4yMzUtMi4yMzQtNC42MDItNC4zMTMtNi41OTQtNS43MTktLj\\\nk5Ni0uNzAzLTEuODY3LTEuMjI2LTIuNjg4LTEuNTMxLS40MS0uMTUyLS44MDQtLjI3LTEuMjUtLjI1em\\\n0uMjE4IDIuMDMxYy4wNzguMDEyLjE1My4wMjQuMzQ0LjA5NC41Mi4xOTEgMS4zLjYzMyAyLjIxOSAxLj\\\nI4MSAxLjgzNiAxLjI5NyA0LjE2OCAzLjM1NiA2LjM0MyA1LjUzMiAyLjE3NiAyLjE3NSA0LjIzNSA0Lj\\\nQ3NiA1LjUzMiA2LjMxMi42NDguOTE4IDEuMDkgMS43MyAxLjI4MSAyLjI1LjA3LjE5MS4wODIuMjY2Lj\\\nA5NC4zNDRMMzUuMTI1IDI1LjUzYS45NDkuOTQ5IDAgMCAwLS4xMjUuMDk0Yy0uMzE2LjI0Mi0uODYuMz\\\nI4LTEuNDM4LjIxOWExLjA1NiAxLjA1NiAwIDAgMC0uMTg3LS4wNjMgMy4xMTMgMy4xMTMgMCAwIDEtMS\\\n40MzgtLjgxMmwtNi45MDYtNi45MDdjLS45NzYtLjk4NC0xLjEyOS0yLjQzNy0uNjU2LTMuMDYyYS41Mz\\\nIuNTMyIDAgMCAwIC4wOTQtLjA5NHptLTguMjE4IDE1LjU5NGMuMTk5LjI5Ny40My41ODYuNjg3Ljg0NG\\\nw2LjkwNiA2LjkwNmMuMjYyLjI2Mi41NDMuNDg4Ljg0NC42ODhMOS41MzEgNDYuOTA2Yy0uMDg2LjA3OC\\\n0uMjU0LjEzNy0uNTMxLjA5NC0uMjc3LS4wNDMtLjYyOS0uMjIzLS45MDYtLjVMMy41IDQxLjkwNmMtLj\\\nU1OS0uNTY2LS41NjMtMS4yNjEtLjQwNi0xLjQzN3ptLTIuODc1IDguMzEzYy0uNzcgMC0xLjU0My4yOT\\\nItMi4xMjUuODc1bC0yLjEyNSAyLjEyNWEzLjAyMyAzLjAyMyAwIDAgMCAwIDQuMjUgMy4wMjMgMy4wMj\\\nMgMCAwIDAgNC4yNSAwbDIuMTI1LTIuMTI2YTMuMDIzIDMuMDIzIDAgMCAwIDAtNC4yNSAzLjAwMiAzLj\\\nAwMiAwIDAgMC0yLjEyNS0uODc1em0wIDJjLjI1MyAwIC41MTkuMDgyLjcxOC4yOC4zOTkuNC4zOTkgMS\\\n4wNCAwIDEuNDM4bC0yLjEyNSAyLjEyNWExLjAxNCAxLjAxNCAwIDAgMS0xLjQzNyAwIDEuMDE0IDEuMD\\\nE0IDAgMCAxIDAtMS40MzdjLjQyMi0uNDIyIDEuNjk5LTEuNjk2IDIuMTI1LTIuMTI1LjE5OS0uMi40Nj\\\nUtLjI4Mi43MTgtLjI4MnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4K\";\n","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","require('../../modules/es6.math.hypot');\nmodule.exports = require('../../modules/_core').Math.hypot;\n","/**\n * A configuration object to request custom capabilities when accessing a camera.\n */\nexport interface CameraSettings {\n  /**\n   * The preferred video fram resolution (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  readonly resolutionPreference: CameraSettings.ResolutionPreference;\n}\n\nexport namespace CameraSettings {\n  /**\n   * Video frame resolution request (not guaranteed to be precise depending on device, could be imprecise/lower).\n   */\n  export enum ResolutionPreference {\n    /**\n     * Resolution of around 1080p (or less).\n     */\n    FULL_HD,\n    /**\n     * Resolution of around 720p (or less).\n     */\n    HD\n  }\n}\n","module.exports = { \"default\": require(\"core-js/library/fn/math/hypot\"), __esModule: true };","import { EventEmitter } from \"eventemitter3\";\nimport { Howl, Howler } from \"howler/dist/howler.core.min.js\";\n\nimport { beepSound, laserActiveImage, laserPausedImage, scanditLogoImage } from \"./assets/base64assets\";\n\nimport { userLicenseKey } from \"../index\";\nimport { BarcodePickerCameraManager } from \"./barcodePickerCameraManager\";\nimport { BrowserHelper } from \"./browserHelper\";\nimport { Camera } from \"./camera\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\nimport { ImageSettings } from \"./imageSettings\";\nimport { Parser } from \"./parser\";\nimport { Scanner } from \"./scanner\";\nimport { ScanResult } from \"./scanResult\";\nimport { ScanSettings } from \"./scanSettings\";\n\n/**\n * A barcode picker element used to get and show camera input and perform scanning operations.\n *\n * The barcode picker will automatically fit and scale inside the given <i>originElement</i>.\n *\n * Each barcode picker internally contains a [[Scanner]] object with its own WebWorker thread running a\n * separate copy of the external Scandit Engine library. To optimize loading times and performance it's\n * recommended to reuse the same picker and to already create the picker in advance (hidden) and just\n * display it when needed whenever possible.\n *\n * As the loading of the external Scandit Engine library can take some time the picker always starts inactive\n * (but showing GUI and video) and then activates, if not paused, as soon as the library is ready to scan.\n * The [[onReady]] method can be used to set up a listener function to be called when the library is loaded.\n *\n * You are not allowed to hide the Scandit logo present in the corner of the GUI.\n */\nexport class BarcodePicker {\n  /**\n   * @hidden\n   */\n  public static readonly grandParentElementClassName: string = \"scandit scandit-container\";\n  /**\n   * @hidden\n   */\n  public static readonly parentElementClassName: string = \"scandit scandit-barcode-picker\";\n  /**\n   * @hidden\n   */\n  public static readonly videoElementClassName: string = \"scandit-video\";\n  /**\n   * @hidden\n   */\n  public static readonly scanditLogoImageElementClassName: string = \"scandit-logo\";\n  /**\n   * @hidden\n   */\n  public static readonly laserImageElementClassName: string = \"scandit-laser\";\n  /**\n   * @hidden\n   */\n  public static readonly viewfinderElementClassName: string = \"scandit-viewfinder\";\n  /**\n   * @hidden\n   */\n  public static readonly cameraSwitcherElementClassName: string = \"scandit-camera-switcher\";\n  /**\n   * @hidden\n   */\n  public static readonly torchToggleElementClassName: string = \"scandit-torch-toggle\";\n\n  /**\n   * @hidden\n   */\n  public readonly grandParentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly parentElement: HTMLDivElement;\n  /**\n   * @hidden\n   */\n  public readonly videoElement: HTMLVideoElement;\n  /**\n   * @hidden\n   */\n  public readonly laserActiveImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly laserPausedImageElement: HTMLImageElement;\n  /**\n   * @hidden\n   */\n  public readonly viewfinderElement: HTMLDivElement;\n\n  private cameraManager: BarcodePickerCameraManager;\n  private visible: boolean;\n  private playSoundOnScan: boolean;\n  private vibrateOnScan: boolean;\n  private scanningPaused: boolean;\n  private guiStyle: BarcodePicker.GuiStyle;\n  private videoFit: BarcodePicker.ObjectFit;\n  private eventEmitter: EventEmitter;\n  private scanner: Scanner;\n  private mirrorImage: boolean;\n  private videoImageCanvasContext: CanvasRenderingContext2D;\n  private fatalError: Error;\n  private beepSound: Howl;\n  private vibrateFunction: (pattern: number | number[]) => boolean;\n  private latestVideoTimeProcessed: number;\n  private resizeInterval: number;\n  private lastKnownOriginElementWidth: number;\n  private lastKnownOriginElementHeight: number;\n  private destroyed: boolean;\n  private isReadyToWork: boolean;\n  private cameraAccess: boolean;\n  private globalListener: EventListenerOrEventListenerObject;\n  private targetScanningFPS: number;\n  private averageProcessingTime: number;\n\n  private constructor(\n    private originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      guiStyle = BarcodePicker.GuiStyle.LASER,\n      videoFit = BarcodePicker.ObjectFit.CONTAIN,\n      scanSettings = new ScanSettings(),\n      targetScanningFPS = 30\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      videoFit?: BarcodePicker.ObjectFit;\n      scanSettings?: ScanSettings;\n      targetScanningFPS?: number;\n    } = {}\n  ) {\n    this.isReadyToWork = false;\n    this.destroyed = false;\n    this.scanningPaused = scanningPaused;\n\n    Howler.autoSuspend = false;\n    this.beepSound = new Howl({\n      src: beepSound\n    });\n\n    this.vibrateFunction =\n      <any>navigator.vibrate ||\n      (<any>navigator).webkitVibrate ||\n      (<any>navigator).mozVibrate ||\n      (<any>navigator).msVibrate;\n\n    this.eventEmitter = new EventEmitter();\n\n    this.grandParentElement = document.createElement(\"div\");\n    this.grandParentElement.className = BarcodePicker.grandParentElementClassName;\n    this.originElement.appendChild(this.grandParentElement);\n    this.parentElement = document.createElement(\"div\");\n    this.parentElement.className = BarcodePicker.parentElementClassName;\n    this.grandParentElement.appendChild(this.parentElement);\n\n    this.videoElement = document.createElement(\"video\");\n    this.setupVideoElement(this.videoElement);\n\n    this.setupVideoImageCanvasElement(document.createElement(\"canvas\"));\n\n    this.setVisible(visible);\n    this.setPlaySoundOnScanEnabled(playSoundOnScan);\n    this.setVibrateOnScanEnabled(vibrateOnScan);\n    this.setTargetScanningFPS(targetScanningFPS);\n\n    this.scanner = new Scanner({ scanSettings: scanSettings });\n    this.scanner.onReady(() => {\n      this.isReadyToWork = true;\n      this.eventEmitter.emit(\"ready\");\n    });\n\n    window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n    this.resizeInterval = window.setInterval(() => {\n      this.resizeIfNeeded();\n    }, 250);\n\n    this.laserActiveImageElement = document.createElement(\"img\");\n    this.laserPausedImageElement = document.createElement(\"img\");\n    this.viewfinderElement = document.createElement(\"div\");\n    this.setupAssets();\n    this.setGuiStyle(guiStyle);\n    this.setVideoFit(videoFit);\n\n    this.setupGlobalListeners();\n\n    this.cameraManager = new BarcodePickerCameraManager(this);\n  }\n\n  /**\n   * Creates a BarcodePicker instance, creating the needed HTML in the given origin element.\n   * If the <i>accessCamera</i> option is enabled (active by default) the available cameras are accessed\n   * and a camera access permission is requested to the user if needed.\n   * This object expects that at least a camera is available. The active camera is accessed and kept active during the\n   * lifetime of the picker (also when hidden or scanning is paused), and is only released when [[destroy]] is called.\n   *\n   * It is required to having configured the library via [[configure]] before this object can be created.\n   *\n   * By default an alert is shown if an internal error during scanning is encountered which prevents the scanning\n   * procedure from continuing. As this uses the built-in [[onScanError]] event functionality, if unwanted it can be\n   * disabled by calling [[removeScanErrorListeners]] on the BarcodePicker instance (right after creation).\n   *\n   * Depending on parameters, device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>LibraryNotConfiguredError</tt>\n   * - <tt>NoOriginElementError</tt>\n   * - <tt>UnsupportedBrowserError</tt>\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param originElement The HTMLElement inside which all the necessary elements for the picker will be added.\n   * @param visible <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether the picker starts in a visible state.\n   * @param playSoundOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether a sound is played on barcode scanned (iOS requires user input).\n   * @param vibrateOnScan <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the device vibrates on barcode scanned (only Chrome & Firefox, requires user input).\n   * @param scanningPaused <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n   * Whether the picker starts in a paused scanning state.\n   * @param guiStyle <div class=\"tsd-signature-symbol\">Default =&nbsp;GuiStyle.LASER</div>\n   * The GUI style for the picker.\n   * @param videoFit <div class=\"tsd-signature-symbol\">Default =&nbsp;ObjectFit.CONTAIN</div>\n   * The fit type for the video element of the picker.\n   * @param enableCameraSwitcher <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to switch between different cameras (when available).\n   * @param enableTorchToggle <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to show a GUI button to toggle device torch on/off (when available, only Chrome).\n   * @param enableTapToFocus <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to trigger a manual focus of the camera when clicking/tapping on the video (when available, only Chrome).\n   * @param enablePinchToZoom <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to control the zoom of the camera when doing a pinching gesture on the video (when available, only Chrome).\n   * @param accessCamera <div class=\"tsd-signature-symbol\">Default =&nbsp;true</div>\n   * Whether to immediately access the camera (and requesting user permissions if needed) on picker creation.\n   * @param camera <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera to be used for video input, if not specified the back or only camera will be used.\n   * @param cameraSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;undefined</div>\n   * The camera options used when accessing the camera, by default HD resolution is used.\n   * @param scanSettings <div class=\"tsd-signature-symbol\">Default =&nbsp;new ScanSettings()</div>\n   * The configuration object for scanning options (All symbologies disabled by default).\n   * @param targetScanningFPS <div class=\"tsd-signature-symbol\">Default =&nbsp;30</div>\n   * The target frames per second to be processed, the final speed is limited by the camera framerate (usually 30 FPS)\n   * and the frame processing time of the device. By setting this to lower numbers devices can save power by performing\n   * less work during scanning operations, depending on device speed (faster devices can \"sleep\" for longer periods).\n   * Must be a number bigger than 0.\n   * @returns A promise resolving to the created ready [[BarcodePicker]] object.\n   */\n  public static create(\n    originElement: HTMLElement,\n    {\n      visible = true,\n      playSoundOnScan = false,\n      vibrateOnScan = false,\n      scanningPaused = false,\n      guiStyle = BarcodePicker.GuiStyle.LASER,\n      videoFit = BarcodePicker.ObjectFit.CONTAIN,\n      scanSettings = new ScanSettings(),\n      enableCameraSwitcher = true,\n      enableTorchToggle = true,\n      enableTapToFocus = true,\n      enablePinchToZoom = true,\n      accessCamera = true,\n      camera,\n      cameraSettings,\n      targetScanningFPS = 30\n    }: {\n      visible?: boolean;\n      playSoundOnScan?: boolean;\n      vibrateOnScan?: boolean;\n      scanningPaused?: boolean;\n      guiStyle?: BarcodePicker.GuiStyle;\n      videoFit?: BarcodePicker.ObjectFit;\n      scanSettings?: ScanSettings;\n      enableCameraSwitcher?: boolean;\n      enableTorchToggle?: boolean;\n      enableTapToFocus?: boolean;\n      enablePinchToZoom?: boolean;\n      accessCamera?: boolean;\n      camera?: Camera;\n      cameraSettings?: CameraSettings;\n      targetScanningFPS?: number;\n    } = {}\n  ): Promise<BarcodePicker> {\n    const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n    if (unsupportedBrowserError != null) {\n      return Promise.reject(unsupportedBrowserError);\n    }\n    if (userLicenseKey == null || userLicenseKey.trim() === \"\") {\n      return Promise.reject(\n        new CustomError({\n          name: \"LibraryNotConfiguredError\",\n          message: \"The library has not correctly been configured yet, please call 'configure' with valid parameters\"\n        })\n      );\n    }\n    if (!(originElement instanceof HTMLElement)) {\n      return Promise.reject(\n        new CustomError({\n          name: \"NoOriginElementError\",\n          message: \"A valid origin HTML element must be given\"\n        })\n      );\n    }\n    if (targetScanningFPS <= 0) {\n      targetScanningFPS = 30;\n    }\n\n    const barcodePicker: BarcodePicker = new BarcodePicker(originElement, {\n      visible,\n      playSoundOnScan,\n      vibrateOnScan,\n      scanningPaused,\n      guiStyle,\n      videoFit,\n      scanSettings,\n      targetScanningFPS\n    });\n\n    barcodePicker.cameraManager.setUIOptions(\n      enableCameraSwitcher,\n      enableTorchToggle,\n      enableTapToFocus,\n      enablePinchToZoom\n    );\n    barcodePicker.cameraManager.setSelectedCamera(camera);\n    barcodePicker.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n    barcodePicker.cameraAccess = accessCamera;\n\n    // Show error in alert on ScanError by default for easier customer debugging\n    barcodePicker.onScanError(error => {\n      alert(error);\n    });\n\n    if (accessCamera) {\n      return barcodePicker.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(barcodePicker);\n  }\n\n  /**\n   * Stop scanning and displaying video output, remove HTML elements added to the page,\n   * destroy the internal [[Scanner]] and destroy the barcode picker itself; ensuring complete cleanup.\n   *\n   * This method should be called after you don't plan to use the picker anymore,\n   * before the object is automatically cleaned up by JavaScript.\n   * The barcode picker must not be used in any way after this call.\n   */\n  public destroy(): void {\n    this.pauseScanning(true);\n    this.destroyed = true;\n    this.scanner.destroy();\n    this.eventEmitter.removeAllListeners();\n    window.clearInterval(this.resizeInterval);\n    this.removeGlobalListeners();\n    this.grandParentElement.remove();\n    this.originElement.classList.remove(\"scandit-hidden\");\n  }\n\n  /**\n   * Applies a new set of scan settings to the internal scanner (replacing old settings).\n   *\n   * @param scanSettings The scan configuration object to be applied to the scanner.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public applyScanSettings(scanSettings: ScanSettings): BarcodePicker {\n    this.scanner.applyScanSettings(scanSettings);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the scanning is currently paused.\n   */\n  public isScanningPaused(): boolean {\n    return this.scanningPaused;\n  }\n\n  /**\n   * Pause the recognition of codes in the input image.\n   *\n   * By default video from the camera is still shown, if the <i>pauseCamera</i> option is enabled the camera stream\n   * is paused (camera access is fully interrupted) and will be resumed when calling [[resumeScanning]],\n   * possibly requesting user permissions if needed.\n   *\n   * @param pauseCamera Whether to also pause the camera stream.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public pauseScanning(pauseCamera: boolean = false): BarcodePicker {\n    this.scanningPaused = true;\n\n    if (pauseCamera) {\n      this.cameraManager.stopStream();\n    }\n\n    if (this.scanner.isReady()) {\n      this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.add(\"paused\");\n    }\n\n    return this;\n  }\n\n  /**\n   * Resume the recognition of codes in the input image.\n   *\n   * If the camera stream was stopped when calling [[pauseScanning]], the camera stream is also resumed and\n   * user permissions are requested if needed to resume video input.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public resumeScanning(): Promise<BarcodePicker> {\n    this.scanningPaused = false;\n\n    if (this.scanner.isReady()) {\n      this.laserPausedImageElement.classList.add(\"scandit-hidden-opacity\");\n      this.laserActiveImageElement.classList.remove(\"scandit-hidden-opacity\");\n      this.viewfinderElement.classList.remove(\"paused\");\n    }\n\n    if (this.cameraManager.activeCamera == null && this.cameraAccess) {\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * @returns The currently active camera.\n   */\n  public getActiveCamera(): Camera | undefined {\n    return this.cameraManager.activeCamera;\n  }\n\n  /**\n   * Select a camera to be used for video input.\n   *\n   * If camera access is enabled, the camera is enabled and accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param camera The new camera to be used.\n   * @param cameraSettings The camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is set\n   * (and accessed, if camera access is currently enabled).\n   */\n  public setActiveCamera(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCamera(camera);\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.initializeCameraWithSettings(camera, cameraSettings);\n  }\n\n  /**\n   * Try to apply new settings to the currently used camera for video input,\n   * if no settings are passed the default ones are set.\n   *\n   * If camera access is enabled, the camera is updated and accessed with the new settings.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @param cameraSettings The new camera options used when accessing the camera, by default HD resolution is used.\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is updated\n   * (and accessed, if camera access is currently enabled).\n   */\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraManager.setSelectedCameraSettings(cameraSettings);\n\n      return Promise.resolve(this);\n    }\n\n    return this.cameraManager.applyCameraSettings(cameraSettings);\n  }\n\n  /**\n   * @returns Whether the picker is in a visible state or not.\n   */\n  public isVisible(): boolean {\n    return this.visible;\n  }\n\n  /**\n   * Enable or disable picker visibility.\n   *\n   * @param visible Whether the picker is in a visible state or not.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVisible(visible: boolean): BarcodePicker {\n    this.visible = visible;\n    if (visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n    } else {\n      this.originElement.classList.add(\"scandit-hidden\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the camera video is mirrored along the vertical axis.\n   */\n  public isMirrorImageEnabled(): boolean {\n    return this.mirrorImage;\n  }\n\n  /**\n   * Enable or disable camera video mirroring along the vertical axis.\n   *\n   * @param enabled Whether the camera video is mirrored along the vertical axis.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setMirrorImageEnabled(enabled: boolean): BarcodePicker {\n    this.mirrorImage = enabled;\n    if (enabled) {\n      this.videoElement.classList.add(\"mirrored\");\n    } else {\n      this.videoElement.classList.remove(\"mirrored\");\n    }\n\n    return this;\n  }\n\n  /**\n   * @returns Whether a sound should be played on barcode recognition (iOS requires user input).\n   */\n  public isPlaySoundOnScanEnabled(): boolean {\n    return this.playSoundOnScan;\n  }\n\n  /**\n   * Enable or disable playing a sound on barcode recognition (iOS requires user input).\n   *\n   * @param enabled Whether a sound should be played on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setPlaySoundOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.playSoundOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the device should vibrate on barcode recognition (only Chrome & Firefox, requires user input).\n   */\n  public isVibrateOnScanEnabled(): boolean {\n    return this.vibrateOnScan;\n  }\n\n  /**\n   * Enable or disable vibrating the device on barcode recognition (only Chrome & Firefox, requires user input).\n   *\n   * @param enabled Whether the device should vibrate on barcode recognition.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVibrateOnScanEnabled(enabled: boolean): BarcodePicker {\n    this.vibrateOnScan = enabled;\n\n    return this;\n  }\n\n  /**\n   * Enable or disable the torch/flashlight of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the torch to become disabled.\n   *\n   * A button on the [[BarcodePicker]] GUI to let the user toggle this functionality can also be set\n   * on creation via the <i>enableTorchToggle</i> option (enabled by default, when available).\n   *\n   * @param enabled Whether the torch should be enabled or disabled.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTorchEnabled(enabled: boolean): BarcodePicker {\n    this.cameraManager.setTorchEnabled(enabled);\n\n    return this;\n  }\n\n  /**\n   * Set the zoom level of the device (when available, only Chrome).\n   * Changing active camera or camera settings will cause the zoom to be reset.\n   *\n   * @param zoomPercentage The percentage of the max zoom (between 0 and 1).\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setZoom(zoomPercentage: number): BarcodePicker {\n    this.cameraManager.setZoom(zoomPercentage);\n\n    return this;\n  }\n\n  /**\n   * @returns Whether the barcode picker has loaded the external Scandit Engine library and is ready to scan.\n   */\n  public isReady(): boolean {\n    return this.isReadyToWork;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"ready\" event, fired when the external\n   * Scandit Engine library has been loaded and the barcode picker can thus start to scan barcodes.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onReady(listener: () => void): BarcodePicker {\n    if (this.isReadyToWork) {\n      listener();\n    } else {\n      this.eventEmitter.once(\"ready\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan\" event, fired when new barcodes\n   * are recognized in the image frame. The returned barcodes are affected\n   * by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScan(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"scan error\" event, fired when an error occurs\n   * during scanning initialization and execution. The barcode picker will be automatically paused when this happens.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with an <tt>ScanditEngineError</tt> object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onScanError(listener: (error: Error) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"scan-error\", listener, this);\n    } else {\n      this.eventEmitter.on(\"scan-error\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"scan error\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"scan-error\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"scan error\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeScanErrorListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"scan-error\");\n\n    return this;\n  }\n\n  /**\n   * Add the listener function to the listeners array for the \"processFrame\" event, fired when a new frame is processed.\n   * This event is fired on every frame, independently from the number of recognized barcodes (can be none).\n   * The returned barcodes are affected by the [[ScanSettings.setCodeDuplicateFilter]] option.\n   *\n   * No checks are made to see if the listener has already been added.\n   * Multiple calls passing the same listener will result in the listener being added, and called, multiple times.\n   *\n   * @param listener The listener function, which will be invoked with a [[ScanResult]] object.\n   * @param once Whether the listener should just be triggered only once and then discarded.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public onProcessFrame(listener: (scanResult: ScanResult) => void, once?: boolean): BarcodePicker {\n    if (once === true) {\n      this.eventEmitter.once(\"processFrame\", listener, this);\n    } else {\n      this.eventEmitter.on(\"processFrame\", listener, this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the specified listener from the \"processFrame\" event listener array.\n   * This will remove, at most, one instance of a listener from the listener array.\n   * If any single listener has been added multiple times then this method must\n   * be called multiple times to remove each instance.\n   *\n   * @param listener The listener function to be removed.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeProcessFrameListener(listener: (scanResult: ScanResult) => void): BarcodePicker {\n    this.eventEmitter.removeListener(\"processFrame\", listener);\n\n    return this;\n  }\n\n  /**\n   * Removes all listeners from the \"processFrame\" event listener array.\n   *\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public removeProcessFrameListeners(): BarcodePicker {\n    this.eventEmitter.removeAllListeners(\"processFrame\");\n\n    return this;\n  }\n\n  /**\n   * Set the GUI style for the picker.\n   *\n   * @param guiStyle The new GUI style to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setGuiStyle(guiStyle: BarcodePicker.GuiStyle): BarcodePicker {\n    this.guiStyle = guiStyle;\n\n    switch (this.guiStyle) {\n      case BarcodePicker.GuiStyle.NONE_DEPRECATED:\n      case BarcodePicker.GuiStyle.NONE:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.LASER_DEPRECATED:\n      case BarcodePicker.GuiStyle.LASER:\n        this.laserActiveImageElement.classList.remove(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.remove(\"scandit-hidden\");\n        this.viewfinderElement.classList.add(\"scandit-hidden\");\n        break;\n      case BarcodePicker.GuiStyle.VIEWFINDER_DEPRECATED:\n      case BarcodePicker.GuiStyle.VIEWFINDER:\n        this.laserActiveImageElement.classList.add(\"scandit-hidden\");\n        this.laserPausedImageElement.classList.add(\"scandit-hidden\");\n        this.viewfinderElement.classList.remove(\"scandit-hidden\");\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * Set the fit type for the video element of the picker.\n   *\n   * If the \"cover\" type is selected the maximum available search area for barcode detection is (continuously) adjusted\n   * automatically according to the visible area of the picker.\n   *\n   * @param objectFit The new fit type to be applied.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setVideoFit(objectFit: BarcodePicker.ObjectFit): BarcodePicker {\n    this.videoFit = objectFit;\n\n    if (objectFit === BarcodePicker.ObjectFit.COVER) {\n      (<any>this.videoElement.style).objectFit = \"cover\";\n      this.videoElement.dataset.objectFit = \"cover\"; // used by \"objectFitPolyfill\" library\n    } else {\n      (<any>this.videoElement.style).objectFit = \"contain\";\n      this.videoElement.dataset.objectFit = \"contain\"; // used by \"objectFitPolyfill\" library\n\n      const scanSettings: ScanSettings = this.scanner.getScanSettings();\n      scanSettings.setBaseSearchArea({ x: 0, y: 0, width: 1.0, height: 1.0 });\n      this.scanner.applyScanSettings(scanSettings);\n    }\n\n    // Retrigger resize\n    this.lastKnownOriginElementWidth = 0;\n    this.lastKnownOriginElementHeight = 0;\n    this.resizeIfNeeded();\n\n    (<any>window).objectFitPolyfill(this.videoElement);\n\n    return this;\n  }\n\n  /**\n   * Access the currently set or default camera, requesting user permissions if needed.\n   * This method is meant to be used after the picker has been initialized with disabled camera access\n   * (<i>cameraAccess</i>=false). Calling this doesn't do anything if the camera has already been accessed.\n   *\n   * Depending on device features and user permissions for camera access, any of the following errors\n   * could be the rejected result of the returned promise:\n   * - <tt>PermissionDeniedError</tt>\n   * - <tt>NotAllowedError</tt>\n   * - <tt>NotFoundError</tt>\n   * - <tt>AbortError</tt>\n   * - <tt>NotReadableError</tt>\n   * - <tt>InternalError</tt>\n   * - <tt>NoCameraAvailableError</tt>\n   *\n   * @returns A promise resolving to the updated [[BarcodePicker]] object when the camera is accessed.\n   */\n  public accessCamera(): Promise<BarcodePicker> {\n    if (!this.cameraAccess) {\n      this.cameraAccess = true;\n\n      return this.cameraManager.setupCameras();\n    }\n\n    return Promise.resolve(this);\n  }\n\n  /**\n   * Create a new parser object.\n   *\n   * @param dataFormat The format of the input data for the parser.\n   * @returns The newly created parser.\n   */\n  public createParserForFormat(dataFormat: Parser.DataFormat): Parser {\n    return this.scanner.createParserForFormat(dataFormat);\n  }\n\n  /**\n   * Reassign the barcode picker to a different HTML element.\n   *\n   * All the barcode picker elements inside the current origin element will be moved to the new given one.\n   *\n   * @param originElement The HTMLElement into which all the necessary elements for the picker will be moved.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public reassignOriginElement(originElement: HTMLElement): BarcodePicker {\n    if (!(originElement instanceof HTMLElement)) {\n      throw new CustomError({\n        name: \"NoOriginElementError\",\n        message: \"A valid origin HTML element must be given\"\n      });\n    }\n\n    if (!this.visible) {\n      this.originElement.classList.remove(\"scandit-hidden\");\n      originElement.classList.add(\"scandit-hidden\");\n    }\n\n    originElement.appendChild(this.grandParentElement);\n    this.checkAndRecoverPlayback();\n    this.resizeIfNeeded();\n\n    this.originElement = originElement;\n\n    return this;\n  }\n\n  /**\n   * Set the target frames per second to be processed by the scanning engine.\n   *\n   * The final speed is limited by the camera framerate (usually 30 FPS) and the frame processing time of the device.\n   * By setting this to lower numbers devices can save power by performing less work during scanning operations,\n   * depending on device speed (faster devices can \"sleep\" for longer periods).\n   *\n   * @param targetScanningFPS The target frames per second to be processed.\n   * Must be a number bigger than 0, by default set to 30.\n   * @returns The updated [[BarcodePicker]] object.\n   */\n  public setTargetScanningFPS(targetScanningFPS: number): BarcodePicker {\n    if (targetScanningFPS > 0) {\n      this.targetScanningFPS = targetScanningFPS;\n    }\n\n    return this;\n  }\n\n  private resizeIfNeeded(): void {\n    if (\n      this.videoElement.videoHeight < 1 ||\n      this.originElement.clientHeight < 1 ||\n      (this.lastKnownOriginElementWidth === this.originElement.clientWidth &&\n        this.lastKnownOriginElementHeight === this.originElement.clientHeight)\n    ) {\n      return;\n    }\n\n    this.parentElement.style.maxWidth = null;\n    this.parentElement.style.maxHeight = null;\n\n    const videoRatio: number = this.videoElement.videoWidth / this.videoElement.videoHeight;\n    let width: number = this.originElement.clientWidth;\n    let height: number = this.originElement.clientHeight;\n\n    this.lastKnownOriginElementWidth = width;\n    this.lastKnownOriginElementHeight = height;\n\n    if (this.videoFit === BarcodePicker.ObjectFit.COVER) {\n      let widthPercentage: number = 1;\n      let heightPercentage: number = 1;\n\n      if (videoRatio < width / height) {\n        heightPercentage = Math.min(1, height / (width / videoRatio));\n      } else {\n        widthPercentage = Math.min(1, width / (height * videoRatio));\n      }\n\n      const scanSettings: ScanSettings = this.scanner.getScanSettings();\n      scanSettings.setBaseSearchArea({\n        x: (1 - widthPercentage) / 2,\n        y: (1 - heightPercentage) / 2,\n        width: widthPercentage,\n        height: heightPercentage\n      });\n      this.scanner.applyScanSettings(scanSettings);\n\n      return;\n    }\n\n    if (videoRatio > width / height) {\n      height = width / videoRatio;\n    } else {\n      width = height * videoRatio;\n    }\n\n    this.parentElement.style.maxWidth = `${Math.ceil(width)}px`;\n    this.parentElement.style.maxHeight = `${Math.ceil(height)}px`;\n  }\n\n  private setupVideoElement(videoElement: HTMLVideoElement): void {\n    videoElement.setAttribute(\"autoplay\", \"autoplay\");\n    videoElement.setAttribute(\"playsinline\", \"true\");\n    videoElement.setAttribute(\"muted\", \"muted\");\n    videoElement.className = BarcodePicker.videoElementClassName;\n\n    videoElement.addEventListener(\"canplay\", () => {\n      if (this.cameraManager.activeCamera != null) {\n        // Retrigger resize\n        this.lastKnownOriginElementWidth = 0;\n        this.lastKnownOriginElementHeight = 0;\n        this.resizeIfNeeded();\n\n        this.cameraManager.activeCamera.currentResolution = {\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight\n        };\n        this.videoImageCanvasContext.canvas.width = this.cameraManager.activeCamera.currentResolution.width;\n        this.videoImageCanvasContext.canvas.height = this.cameraManager.activeCamera.currentResolution.height;\n\n        this.scanner.applyImageSettings({\n          width: videoElement.videoWidth,\n          height: videoElement.videoHeight,\n          format: ImageSettings.Format.RGBA_8U\n        });\n      }\n    });\n\n    this.parentElement.appendChild(videoElement);\n  }\n\n  private setupVideoImageCanvasElement(videoImageCanvasElement: HTMLCanvasElement): void {\n    const canvasContext: CanvasRenderingContext2D | null = videoImageCanvasElement.getContext(\"2d\");\n    if (canvasContext != null) {\n      this.videoImageCanvasContext = canvasContext;\n    }\n  }\n\n  private flashLaser(): void {\n    this.laserActiveImageElement.classList.remove(\"scandit-flash-color\");\n    // tslint:disable-next-line:no-unused-expression\n    this.laserActiveImageElement.offsetHeight; // Trigger reflow to restart animation\n    this.laserActiveImageElement.classList.add(\"scandit-flash-color\");\n  }\n\n  private flashViewfinder(): void {\n    this.viewfinderElement.classList.remove(\"scandit-flash-white\");\n    // tslint:disable-next-line:no-unused-expression\n    this.viewfinderElement.offsetHeight; // Trigger reflow to restart animation\n    this.viewfinderElement.classList.add(\"scandit-flash-white\");\n  }\n\n  private setupAssets(): void {\n    const scanditLogoImageElement: HTMLImageElement = document.createElement(\"img\");\n    scanditLogoImageElement.src = scanditLogoImage;\n    scanditLogoImageElement.className = BarcodePicker.scanditLogoImageElementClassName;\n    this.parentElement.appendChild(scanditLogoImageElement);\n\n    this.laserActiveImageElement.src = laserActiveImage;\n    this.laserActiveImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserActiveImageElement);\n\n    this.laserPausedImageElement.src = laserPausedImage;\n    this.laserPausedImageElement.className = BarcodePicker.laserImageElementClassName;\n    this.parentElement.appendChild(this.laserPausedImageElement);\n\n    this.viewfinderElement.className = BarcodePicker.viewfinderElementClassName;\n    this.parentElement.appendChild(this.viewfinderElement);\n\n    // Show inactive GUI, as for now the scanner isn't ready yet\n    this.laserActiveImageElement.classList.add(\"scandit-hidden-opacity\");\n    this.laserPausedImageElement.classList.remove(\"scandit-hidden-opacity\");\n    this.viewfinderElement.classList.add(\"paused\");\n  }\n\n  private checkAndRecoverPlayback(): void {\n    if (this.cameraManager.activeCamera != null && this.videoElement != null && this.videoElement.srcObject != null) {\n      if (!(<MediaStream>this.videoElement.srcObject).active) {\n        this.cameraManager.reinitializeCamera().catch(error => {\n          this.fatalError = error;\n          console.error(error);\n        });\n      } else {\n        const playPromise: Promise<void> = this.videoElement.play();\n\n        if (playPromise != null) {\n          playPromise.catch(() => {\n            // Can sometimes cause an incorrect rejection (all is good, ignore).\n          });\n        }\n      }\n    }\n  }\n\n  private setupGlobalListeners(): void {\n    this.globalListener = this.checkAndRecoverPlayback.bind(this);\n    document.addEventListener(\"visibilitychange\", this.globalListener);\n  }\n\n  private removeGlobalListeners(): void {\n    document.removeEventListener(\"visibilitychange\", this.globalListener);\n  }\n\n  private handleScanResult(scanResult: ScanResult): void {\n    this.eventEmitter.emit(\"processFrame\", scanResult);\n\n    if (scanResult.barcodes.length !== 0) {\n      if (this.guiStyle === BarcodePicker.GuiStyle.LASER || this.guiStyle === BarcodePicker.GuiStyle.LASER_DEPRECATED) {\n        this.flashLaser();\n      } else if (\n        this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER ||\n        this.guiStyle === BarcodePicker.GuiStyle.VIEWFINDER_DEPRECATED\n      ) {\n        this.flashViewfinder();\n      }\n      if (this.playSoundOnScan) {\n        this.beepSound.play();\n      }\n      if (this.vibrateOnScan && this.vibrateFunction != null) {\n        this.vibrateFunction.call(navigator, 300);\n      }\n\n      this.eventEmitter.emit(\"scan\", scanResult);\n    }\n  }\n\n  private videoProcessing(): void {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (\n      this.cameraManager.activeCamera == null ||\n      this.cameraManager.activeCamera.currentResolution == null ||\n      this.fatalError != null ||\n      this.scanningPaused ||\n      !this.scanner.isReady() ||\n      this.scanner.isBusyProcessing() ||\n      this.latestVideoTimeProcessed === this.videoElement.currentTime\n    ) {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n\n      return;\n    }\n\n    if (this.latestVideoTimeProcessed == null) {\n      // Show active GUI if needed, as now it's the moment the scanner is ready and used for the first time\n      this.resumeScanning();\n    }\n\n    const processingStartTime: number = performance.now();\n    this.latestVideoTimeProcessed = this.videoElement.currentTime;\n\n    this.videoImageCanvasContext.drawImage(this.videoElement, 0, 0);\n    try {\n      const imageData: Uint8ClampedArray = this.videoImageCanvasContext.getImageData(\n        0,\n        0,\n        this.videoImageCanvasContext.canvas.width,\n        this.videoImageCanvasContext.canvas.height\n      ).data;\n      this.scanner\n        .processImage(imageData)\n        .then(scanResult => {\n          if (!this.scanningPaused) {\n            this.handleScanResult(scanResult);\n          }\n        })\n        .catch(scanError => {\n          if (!this.scanningPaused) {\n            this.pauseScanning();\n            this.eventEmitter.emit(\"scan-error\", scanError);\n          }\n        });\n    } catch (error) {\n      this.fatalError = error;\n      console.error(error);\n    }\n\n    if (this.targetScanningFPS < 30) {\n      if (this.averageProcessingTime == null) {\n        this.averageProcessingTime = performance.now() - processingStartTime;\n      } else {\n        this.averageProcessingTime = this.averageProcessingTime * 0.9 + (performance.now() - processingStartTime) * 0.1;\n      }\n      const nextProcessingCallDelay: number = 1000 / this.targetScanningFPS - this.averageProcessingTime;\n      if (nextProcessingCallDelay > 16) {\n        // More than 60 FPS, we have time to sleep (slower than requestAnimationFrame)\n        window.setTimeout(() => {\n          this.videoProcessing();\n        }, nextProcessingCallDelay);\n      } else {\n        window.requestAnimationFrame(this.videoProcessing.bind(this));\n      }\n    } else {\n      window.requestAnimationFrame(this.videoProcessing.bind(this));\n    }\n  }\n}\n\n// istanbul ignore next\nexport namespace BarcodePicker {\n  /**\n   * GUI style to be used by a barcode picker, used to hint barcode placement in the frame.\n   */\n  export enum GuiStyle {\n    /**\n     * @hidden\n     * @deprecated\n     */\n    NONE_DEPRECATED = 0,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    LASER_DEPRECATED = 1,\n    /**\n     * @hidden\n     * @deprecated\n     */\n    VIEWFINDER_DEPRECATED = 2,\n    /**\n     * No GUI is shown to indicate where the barcode should be placed.\n     * Be aware that the Scandit logo continues to be displayed as showing it is part of the license agreement.\n     */\n    NONE = \"none\",\n    /**\n     * A laser line is shown.\n     */\n    LASER = \"laser\",\n    /**\n     * A rectangular viewfinder with rounded corners is shown.\n     */\n    VIEWFINDER = \"viewfinder\"\n  }\n\n  /**\n   * Fit type used to control the resizing (scale) of the barcode picker to fit in its container <i>originElement</i>.\n   */\n  export enum ObjectFit {\n    /**\n     * Scale to maintain aspect ratio while fitting within the <i>originElement</i>'s content box.\n     * Aspect ratio is preserved, so the barcode picker will be \"letterboxed\" if its aspect ratio\n     * does not match the aspect ratio of the box.\n     */\n    CONTAIN = \"contain\",\n    /**\n     * Scale to maintain aspect ratio while filling the <i>originElement</i>'s entire content box.\n     * Aspect ratio is preserved, so the barcode picker will be clipped to fit if its aspect ratio\n     * does not match the aspect ratio of the box.\n     */\n    COVER = \"cover\"\n  }\n}\n","import { switchCameraImage, toggleTorchImage } from \"./assets/base64assets\";\nimport { BarcodePicker } from \"./barcodePicker\";\nimport { Camera } from \"./camera\";\nimport { CameraAccess } from \"./cameraAccess\";\nimport { CameraSettings } from \"./cameraSettings\";\nimport { CustomError } from \"./customError\";\n\n/**\n * @hidden\n *\n * A barcode picker utility class used to handle camera interaction.\n */\nexport class BarcodePickerCameraManager {\n  private static readonly isIOSDevice: boolean = navigator.platform != null &&\n    navigator.platform !== \"\" &&\n    /iPad|iPhone|iPod/.test(navigator.platform);\n  private static readonly cameraAccessTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckTimeoutMs: number = 4000;\n  private static readonly cameraMetadataCheckIntervalMs: number = 50;\n  private static readonly getCapabilitiesTimeoutMs: number = 500;\n  private static readonly autofocusIntervalMs: number = 1500;\n  private static readonly manualToAutofocusResumeTimeoutMs: number = 5000;\n  private static readonly manualFocusWaitTimeoutMs: number = 400;\n  public activeCamera: Camera | undefined;\n  public activeCameraSettings: CameraSettings | undefined;\n  private selectedCamera: Camera | undefined;\n  private selectedCameraSettings: CameraSettings | undefined;\n\n  private mediaStream: MediaStream | undefined;\n  private mediaTrackCapabilities: any | undefined;\n  private postStreamInitializationListener: () => void = this.postStreamInitialization.bind(this);\n  private triggerManualFocusListener: () => void = this.triggerManualFocus.bind(this);\n  private triggerZoomStartListener: () => void = this.triggerZoomStart.bind(this);\n  private triggerZoomMoveListener: () => void = this.triggerZoomMove.bind(this);\n  private cameraAccessTimeout: number;\n  private cameraMetadataCheckInterval: number;\n  private getCapabilitiesTimeout: number;\n  private autofocusInterval: number;\n  private manualToAutofocusResumeTimeout: number;\n  private manualFocusWaitTimeout: number;\n  private enableCameraSwitcher: boolean;\n  private enableTorchToggle: boolean;\n  private enableTapToFocus: boolean;\n  private enablePinchToZoom: boolean;\n  private torchEnabled: boolean;\n  private cameraSwitcherElement: HTMLImageElement;\n  private torchToggleElement: HTMLImageElement;\n  private pinchToZoomDistance: number | undefined;\n  private pinchToZoomInitialZoom: number;\n\n  constructor(private barcodePicker: BarcodePicker) {\n    this.setupCameraSwitcher();\n    this.setupTorchToggle();\n  }\n\n  public setUIOptions(\n    enableCameraSwitcher: boolean,\n    enableTorchToggle: boolean,\n    enableTapToFocus: boolean,\n    enablePinchToZoom: boolean\n  ): void {\n    this.enableCameraSwitcher = enableCameraSwitcher;\n    this.enableTorchToggle = enableTorchToggle;\n    this.enableTapToFocus = enableTapToFocus;\n    this.enablePinchToZoom = enablePinchToZoom;\n  }\n\n  public setSelectedCamera(camera?: Camera): void {\n    this.selectedCamera = camera;\n  }\n\n  public setSelectedCameraSettings(cameraSettings?: CameraSettings): void {\n    this.selectedCameraSettings = cameraSettings;\n  }\n\n  public setupCameras(): Promise<BarcodePicker> {\n    return CameraAccess.getCameras().then(cameras => {\n      if (this.enableCameraSwitcher && cameras.length > 1) {\n        this.cameraSwitcherElement.classList.remove(\"scandit-hidden\");\n      }\n\n      if (this.selectedCamera == null) {\n        let autoselectedCamera: Camera | undefined = cameras.find(currentCamera => {\n          return currentCamera.cameraType === Camera.Type.BACK;\n        });\n        if (autoselectedCamera === undefined) {\n          autoselectedCamera = cameras[0];\n        }\n        if (autoselectedCamera === undefined) {\n          return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n        }\n\n        return this.initializeCameraWithSettings(autoselectedCamera, this.selectedCameraSettings);\n      } else {\n        return this.initializeCameraWithSettings(this.selectedCamera, this.selectedCameraSettings);\n      }\n    });\n  }\n\n  public stopStream(): void {\n    if (this.activeCamera != null) {\n      this.activeCamera.currentResolution = undefined;\n    }\n\n    this.activeCamera = undefined;\n\n    if (this.mediaStream != null) {\n      window.clearTimeout(this.cameraAccessTimeout);\n      window.clearInterval(this.cameraMetadataCheckInterval);\n      window.clearTimeout(this.getCapabilitiesTimeout);\n      window.clearTimeout(this.manualFocusWaitTimeout);\n      window.clearTimeout(this.manualToAutofocusResumeTimeout);\n      window.clearInterval(this.autofocusInterval);\n      this.mediaStream.getVideoTracks().forEach(track => {\n        track.stop();\n      });\n      this.mediaStream = undefined;\n      this.mediaTrackCapabilities = undefined;\n    }\n  }\n\n  public applyCameraSettings(cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, cameraSettings);\n  }\n\n  public reinitializeCamera(): Promise<BarcodePicker> {\n    if (this.activeCamera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n\n    return this.initializeCameraWithSettings(this.activeCamera, this.activeCameraSettings);\n  }\n\n  public initializeCameraWithSettings(camera: Camera, cameraSettings?: CameraSettings): Promise<BarcodePicker> {\n    this.activeCameraSettings = cameraSettings;\n    if (cameraSettings != null && cameraSettings.resolutionPreference === CameraSettings.ResolutionPreference.FULL_HD) {\n      return this.initializeCamera(camera);\n    } else {\n      return this.initializeCamera(camera, 3);\n    }\n  }\n\n  public setTorchEnabled(enabled: boolean): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.torch) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        videoTracks[0].applyConstraints({ advanced: [<any>{ torch: enabled }] });\n      }\n    }\n  }\n\n  public setZoom(zoomPercentage: number, currentZoom?: number): void {\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.zoom) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        const zoomRange: number = this.mediaTrackCapabilities.zoom.max - this.mediaTrackCapabilities.zoom.min;\n        if (currentZoom == null) {\n          currentZoom = <number>this.mediaTrackCapabilities.zoom.min;\n        }\n        const targetZoom: number = Math.max(\n          this.mediaTrackCapabilities.zoom.min,\n          Math.min(currentZoom + zoomRange * zoomPercentage, this.mediaTrackCapabilities.zoom.max)\n        );\n        videoTracks[0].applyConstraints({ advanced: [<any>{ zoom: targetZoom }] });\n      }\n    }\n  }\n\n  private postStreamInitialization(): void {\n    window.clearTimeout(this.getCapabilitiesTimeout);\n    this.getCapabilitiesTimeout = window.setTimeout(() => {\n      this.storeStreamCapabilities();\n      this.setupAutofocus();\n      if (\n        this.enableTorchToggle &&\n        this.mediaStream != null &&\n        this.mediaTrackCapabilities != null &&\n        this.mediaTrackCapabilities.torch\n      ) {\n        this.torchToggleElement.classList.remove(\"scandit-hidden\");\n      }\n    }, BarcodePickerCameraManager.getCapabilitiesTimeoutMs);\n  }\n\n  private triggerManualFocus(event?: MouseEvent | TouchEvent): void {\n    if (event != null) {\n      event.preventDefault();\n      if (event.type === \"touchend\" && (<TouchEvent>event).touches.length !== 0) {\n        return;\n      }\n      // Check if we were using pinch-to-zoom\n      if (this.pinchToZoomDistance != null) {\n        this.pinchToZoomDistance = undefined;\n\n        return;\n      }\n    }\n    window.clearTimeout(this.manualFocusWaitTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (focusModeCapability instanceof Array && focusModeCapability.indexOf(\"single-shot\") !== -1) {\n        if (focusModeCapability.indexOf(\"continuous\") !== -1 && focusModeCapability.indexOf(\"manual\") !== -1) {\n          this.triggerFocusMode(\"continuous\")\n            .then(() => {\n              this.manualFocusWaitTimeout = window.setTimeout(() => {\n                this.triggerFocusMode(\"manual\");\n              }, BarcodePickerCameraManager.manualFocusWaitTimeoutMs);\n            })\n            .catch(() => {\n              // Ignored\n            });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.triggerFocusMode(\"continuous\");\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        } else if (focusModeCapability.indexOf(\"continuous\") === -1) {\n          window.clearInterval(this.autofocusInterval);\n\n          this.triggerFocusMode(\"single-shot\").catch(() => {\n            // Ignored\n          });\n\n          this.manualToAutofocusResumeTimeout = window.setTimeout(() => {\n            this.autofocusInterval = window.setInterval(\n              this.triggerAutoFocus.bind(this),\n              BarcodePickerCameraManager.autofocusIntervalMs\n            );\n          }, BarcodePickerCameraManager.manualToAutofocusResumeTimeoutMs);\n        }\n      }\n    }\n  }\n\n  private triggerZoomStart(event?: TouchEvent): void {\n    if (event == null || event.touches.length !== 2) {\n      return;\n    }\n    event.preventDefault();\n    this.pinchToZoomDistance = Math.hypot(\n      (event.touches[1].screenX - event.touches[0].screenX) / screen.width,\n      (event.touches[1].screenY - event.touches[0].screenY) / screen.height\n    );\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null && this.mediaTrackCapabilities.zoom) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getConstraints === \"function\") {\n        this.pinchToZoomInitialZoom = this.mediaTrackCapabilities.zoom.min;\n        const currentConstraints: MediaTrackConstraints = videoTracks[0].getConstraints();\n        if (currentConstraints.advanced != null) {\n          const currentZoomConstraint: MediaTrackConstraintSet | undefined = currentConstraints.advanced.find(\n            constraint => {\n              return \"zoom\" in constraint;\n            }\n          );\n          if (currentZoomConstraint != null) {\n            this.pinchToZoomInitialZoom = (<any>currentZoomConstraint).zoom;\n          }\n        }\n      }\n    }\n  }\n\n  private triggerZoomMove(event?: TouchEvent): void {\n    if (this.pinchToZoomDistance == null || event == null || event.touches.length !== 2) {\n      return;\n    }\n    event.preventDefault();\n    this.setZoom(\n      (Math.hypot(\n        (event.touches[1].screenX - event.touches[0].screenX) / screen.width,\n        (event.touches[1].screenY - event.touches[0].screenY) / screen.height\n      ) -\n        this.pinchToZoomDistance) *\n        2,\n      this.pinchToZoomInitialZoom\n    );\n  }\n\n  private storeStreamCapabilities(): void {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].getCapabilities === \"function\") {\n        this.mediaTrackCapabilities = videoTracks[0].getCapabilities();\n      }\n    }\n  }\n\n  private setupAutofocus(): void {\n    window.clearTimeout(this.manualFocusWaitTimeout);\n    window.clearTimeout(this.manualToAutofocusResumeTimeout);\n    if (this.mediaStream != null && this.mediaTrackCapabilities != null) {\n      const focusModeCapability: string[] = this.mediaTrackCapabilities.focusMode;\n      if (\n        focusModeCapability instanceof Array &&\n        focusModeCapability.indexOf(\"continuous\") === -1 &&\n        focusModeCapability.indexOf(\"single-shot\") !== -1\n      ) {\n        window.clearInterval(this.autofocusInterval);\n        this.autofocusInterval = window.setInterval(\n          this.triggerAutoFocus.bind(this),\n          BarcodePickerCameraManager.autofocusIntervalMs\n        );\n      }\n    }\n  }\n\n  private triggerAutoFocus(): void {\n    this.triggerFocusMode(\"single-shot\").catch(() => {\n      // Ignored\n    });\n  }\n\n  private triggerFocusMode(focusMode: string): Promise<void> {\n    if (this.mediaStream != null) {\n      const videoTracks: MediaStreamTrack[] = this.mediaStream.getVideoTracks();\n      if (videoTracks.length !== 0 && typeof videoTracks[0].applyConstraints === \"function\") {\n        return videoTracks[0].applyConstraints({ advanced: [<any>{ focusMode }] });\n      }\n    }\n\n    return Promise.reject(undefined);\n  }\n\n  private enableTapToFocusListeners(): void {\n    [\"touchend\", \"mousedown\"].forEach(eventName => {\n      this.barcodePicker.videoElement.addEventListener(eventName, this.triggerManualFocusListener);\n    });\n  }\n\n  private enablePinchToZoomListeners(): void {\n    this.barcodePicker.videoElement.addEventListener(\"touchstart\", this.triggerZoomStartListener);\n    this.barcodePicker.videoElement.addEventListener(\"touchmove\", this.triggerZoomMoveListener);\n  }\n\n  private initializeCamera(camera: Camera, resolutionFallbackLevel: number = 0): Promise<BarcodePicker> {\n    if (camera == null) {\n      return Promise.reject(new CustomError({ name: \"NoCameraAvailableError\", message: \"No camera available\" }));\n    }\n    this.stopStream();\n    this.torchEnabled = false;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n\n    return new Promise((resolve, reject) => {\n      CameraAccess.accessCameraStream(resolutionFallbackLevel, camera)\n        .then(stream => {\n          // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n          if (typeof stream.getTracks()[0].getSettings === \"function\") {\n            const mediaTrackSettings: MediaTrackSettings = stream.getTracks()[0].getSettings();\n            if (\n              mediaTrackSettings.width != null &&\n              mediaTrackSettings.height != null &&\n              (mediaTrackSettings.width === 2 || mediaTrackSettings.height === 2)\n            ) {\n              if (resolutionFallbackLevel === 6) {\n                return reject(\n                  new CustomError({ name: \"NotReadableError\", message: \"Could not initialize camera correctly\" })\n                );\n              } else {\n                return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n                  .then(() => {\n                    return resolve();\n                  })\n                  .catch(error => {\n                    return reject(error);\n                  });\n              }\n            }\n          }\n          this.mediaStream = stream;\n          // This will add the listener only once in the case of multiple calls, identical listeners are ignored\n          this.barcodePicker.videoElement.addEventListener(\"loadedmetadata\", this.postStreamInitializationListener);\n          if (this.enableTapToFocus) {\n            this.enableTapToFocusListeners();\n          }\n          if (this.enablePinchToZoom) {\n            this.enablePinchToZoomListeners();\n          }\n          this.resolveInitializeCamera(camera, resolve, reject);\n          this.barcodePicker.videoElement.srcObject = stream;\n          this.barcodePicker.videoElement.load();\n          const playPromise: Promise<void> = this.barcodePicker.videoElement.play();\n          if (playPromise != null) {\n            playPromise.catch(() => {\n              // Can sometimes cause an incorrect rejection (all is good, ignore).\n            });\n          }\n        })\n        .catch(error => {\n          if (error.name === \"OverconstrainedError\" && error.constraint === \"deviceId\") {\n            // Camera might have changed deviceId: check for new cameras with same label and type but different deviceId\n            return CameraAccess.getCameras().then(cameras => {\n              const newCamera: Camera | undefined = cameras.find(currentCamera => {\n                return (\n                  currentCamera.label === camera.label &&\n                  currentCamera.cameraType === camera.cameraType &&\n                  currentCamera.deviceId !== camera.deviceId\n                );\n              });\n              if (newCamera == null) {\n                return reject(error);\n              } else {\n                return this.initializeCamera(newCamera, resolutionFallbackLevel)\n                  .then(mediaStream => {\n                    return resolve(mediaStream);\n                  })\n                  .catch(error2 => {\n                    return reject(error2);\n                  });\n              }\n            });\n          }\n          if (\n            error.name === \"PermissionDeniedError\" ||\n            error.name === \"PermissionDismissedError\" ||\n            error.name === \"NotAllowedError\" ||\n            error.name === \"NotFoundError\" ||\n            error.name === \"AbortError\"\n          ) {\n            // Camera is not accessible at all\n            return reject(error);\n          }\n          if (resolutionFallbackLevel < 6) {\n            return this.initializeCamera(camera, resolutionFallbackLevel + 1)\n              .then(mediaStream => {\n                return resolve(mediaStream);\n              })\n              .catch(error2 => {\n                return reject(error2);\n              });\n          } else {\n            return reject(error);\n          }\n        });\n    });\n  }\n\n  private resolveInitializeCamera(\n    camera: Camera,\n    resolve: (value: BarcodePicker) => void,\n    reject: (reason?: any) => void\n  ): void {\n    const cameraNotReadableError: Error = new CustomError({\n      name: \"NotReadableError\",\n      message: \"Could not initialize camera correctly\"\n    });\n\n    this.cameraAccessTimeout = window.setTimeout(() => {\n      this.stopStream();\n      reject(cameraNotReadableError);\n    }, BarcodePickerCameraManager.cameraAccessTimeoutMs);\n\n    if (BarcodePickerCameraManager.isIOSDevice) {\n      // iOS camera access should always work but can fail to call \"later\" video callbacks, so we check loadstart\n      this.barcodePicker.videoElement.onloadstart = () => {\n        (<any>this.barcodePicker.videoElement).onloadstart = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        this.activeCamera = camera;\n        this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n        resolve(this.barcodePicker);\n      };\n    } else {\n      this.barcodePicker.videoElement.onloadeddata = () => {\n        (<any>this.barcodePicker.videoElement).onloadeddata = null;\n        window.clearTimeout(this.cameraAccessTimeout);\n\n        // Detect weird browser behaviour that on unsupported resolution returns a 2x2 video instead\n        // Also detect failed camera access with no error but also no video stream provided\n        if (\n          this.barcodePicker.videoElement.videoWidth > 2 &&\n          this.barcodePicker.videoElement.videoHeight > 2 &&\n          this.barcodePicker.videoElement.currentTime > 0\n        ) {\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          return resolve(this.barcodePicker);\n        }\n\n        const cameraMetadataCheckStartTime: number = performance.now();\n\n        window.clearInterval(this.cameraMetadataCheckInterval);\n        this.cameraMetadataCheckInterval = window.setInterval(() => {\n          if (\n            this.barcodePicker.videoElement.videoWidth === 2 ||\n            this.barcodePicker.videoElement.videoHeight === 2 ||\n            this.barcodePicker.videoElement.currentTime === 0\n          ) {\n            if (\n              performance.now() - cameraMetadataCheckStartTime >\n              BarcodePickerCameraManager.cameraMetadataCheckTimeoutMs\n            ) {\n              window.clearInterval(this.cameraMetadataCheckInterval);\n              this.stopStream();\n\n              return reject(cameraNotReadableError);\n            }\n\n            return;\n          }\n\n          window.clearInterval(this.cameraMetadataCheckInterval);\n\n          this.activeCamera = camera;\n          this.barcodePicker.setMirrorImageEnabled(this.activeCamera.cameraType === Camera.Type.FRONT);\n\n          this.barcodePicker.videoElement.dispatchEvent(new Event(\"canplay\"));\n\n          return resolve(this.barcodePicker);\n        }, BarcodePickerCameraManager.cameraMetadataCheckIntervalMs);\n      };\n    }\n  }\n\n  private setupCameraSwitcher(): void {\n    this.cameraSwitcherElement = document.createElement(\"img\");\n    this.cameraSwitcherElement.src = switchCameraImage;\n    this.cameraSwitcherElement.className = BarcodePicker.cameraSwitcherElementClassName;\n    this.cameraSwitcherElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.cameraSwitcherElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.cameraSwitcherElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        CameraAccess.getCameras()\n          .then(cameras => {\n            const newCameraIndex: number =\n              (cameras.findIndex(camera => {\n                return camera.deviceId === (this.activeCamera == null ? camera.deviceId : this.activeCamera.deviceId);\n              }) +\n                1) %\n              cameras.length;\n            this.initializeCameraWithSettings(cameras[newCameraIndex], this.activeCameraSettings).catch(error => {\n              console.error(error);\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      });\n    });\n  }\n\n  private setupTorchToggle(): void {\n    this.torchToggleElement = document.createElement(\"img\");\n    this.torchToggleElement.src = toggleTorchImage;\n    this.torchToggleElement.className = BarcodePicker.torchToggleElementClassName;\n    this.torchToggleElement.classList.add(\"scandit-hidden\");\n    this.barcodePicker.parentElement.appendChild(this.torchToggleElement);\n    [\"touchstart\", \"mousedown\"].forEach(eventName => {\n      this.torchToggleElement.addEventListener(eventName, event => {\n        event.preventDefault();\n        this.torchEnabled = !this.torchEnabled;\n        this.setTorchEnabled(this.torchEnabled);\n      });\n    });\n  }\n}\n","import \"objectFitPolyfill\";\nimport \"webrtc-adapter\";\n\nimport { BrowserHelper } from \"./lib/browserHelper\";\nimport { CameraAccess } from \"./lib/cameraAccess\";\nimport { CustomError } from \"./lib/customError\";\nimport { ImageSettings } from \"./lib/imageSettings\";\nimport { Scanner } from \"./lib/scanner\";\n\nimport \"./styles/styles.scss\";\n\nexport * from \"./lib/barcode\";\nexport * from \"./lib/barcodeEncodingRange\";\nexport * from \"./lib/barcodePicker\";\nexport * from \"./lib/browserHelper\";\nexport * from \"./lib/camera\";\nexport * from \"./lib/cameraAccess\";\nexport * from \"./lib/cameraSettings\";\nexport * from \"./lib/customError\";\nexport * from \"./lib/imageSettings\";\nexport * from \"./lib/point\";\nexport * from \"./lib/quadrilateral\";\nexport * from \"./lib/parser\";\nexport * from \"./lib/parserField\";\nexport * from \"./lib/parserResult\";\nexport * from \"./lib/scanResult\";\nexport * from \"./lib/scanner\";\nexport * from \"./lib/scanSettings\";\nexport * from \"./lib/searchArea\";\nexport * from \"./lib/symbologySettings\";\n\n/**\n * @hidden\n */\nexport let deviceId: string = BrowserHelper.getDeviceId();\n/**\n * @hidden\n */\nexport let userLicenseKey: string;\n/**\n * @hidden\n */\nexport let scanditEngineLocation: string;\n\n/**\n * Initialize and configure the Scandit Barcode Scanner SDK library. This function must be called as first thing\n * before using any other function of the library.\n *\n * Depending on parameters, device features and user permissions for camera access, any of the following errors\n * could be the rejected result of the returned promise:\n * - <tt>NoLicenseKeyError</tt>\n * - <tt>UnsupportedBrowserError</tt>\n * - <tt>PermissionDeniedError</tt>\n * - <tt>NotAllowedError</tt>\n * - <tt>NotFoundError</tt>\n * - <tt>AbortError</tt>\n * - <tt>NotReadableError</tt>\n * - <tt>InternalError</tt>\n *\n * If the external Scandit Engine library is not loaded now, it can later be loaded via [[loadEngineLibrary]],\n * or it will be downloaded and prepared automatically when needed by other objects/functions.\n *\n * If the cameras are not accessed now, they can later be loaded via [[CameraAccess.getCameras]],\n * or they will be accessed automatically when needed by other objects/functions.\n *\n * Please note that preloading the Scandit Engine library only downloads the library and puts it in a local cache\n * if available (then loads it and verifies the license key). When the library is then required and used by a\n * [[BarcodePicker]] instance the external Scandit Engine library needs to be parsed and executed again and thus still\n * requires some time to be ready. To make the process faster it's recommended, if possible, to instead prepare\n * in advance library and cameras via a hidden [[BarcodePicker]] instead.\n *\n * @param licenseKey The Scandit license key to be used by the library.\n * @param engineLocation <div class=\"tsd-signature-symbol\">Default =&nbsp;\"/\"</div>\n * The location of the folder containing the external scandit-engine-sdk.min.js and\n * scandit-engine-sdk.wasm files (external Scandit Engine library).\n * By default they are retrieved from the root of the web application.\n * Can be a full URL to folder or an absolute folder path.\n * @param preloadEngineLibrary <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly download and prepare the external Scandit Engine library with this call.\n * @param preloadCameras <div class=\"tsd-signature-symbol\">Default =&nbsp;false</div>\n * Whether to eagerly request access (if needed) and access available cameras with this call.\n * @returns A promise resolving when the library has loaded and the available cameras are loaded (if selected).\n */\nexport function configure(\n  licenseKey: string,\n  {\n    engineLocation = \"/\",\n    preloadEngineLibrary = false,\n    preloadCameras = false\n  }: {\n    engineLocation?: string;\n    preloadEngineLibrary?: boolean;\n    preloadCameras?: boolean;\n  } = {}\n): Promise<void> {\n  const unsupportedBrowserError: Error | undefined = BrowserHelper.checkBrowserCompatibility();\n  if (unsupportedBrowserError != null) {\n    return Promise.reject(unsupportedBrowserError);\n  }\n\n  if (licenseKey == null || licenseKey.trim() === \"\") {\n    return Promise.reject(new CustomError({ name: \"NoLicenseKeyError\", message: \"No license key provided\" }));\n  }\n  userLicenseKey = licenseKey;\n\n  engineLocation += engineLocation.slice(-1) === \"/\" ? \"\" : \"/\";\n  if (/^https?:\\/\\//.test(engineLocation)) {\n    scanditEngineLocation = `${engineLocation}`;\n  } else {\n    engineLocation = engineLocation\n      .split(\"/\")\n      .filter(s => {\n        return s.length > 0;\n      })\n      .join(\"/\");\n    if (engineLocation === \"\") {\n      engineLocation = \"/\";\n    } else {\n      engineLocation = `/${engineLocation}/`;\n    }\n    scanditEngineLocation = `${location.origin}${engineLocation}`;\n  }\n\n  const promises: Promise<any>[] = [];\n\n  if (preloadEngineLibrary) {\n    promises.push(loadEngineLibrary());\n  }\n\n  if (preloadCameras) {\n    promises.push(CameraAccess.getCameras());\n  }\n\n  return Promise.all(promises)\n    .then(() => {\n      return;\n    })\n    .catch(error => {\n      return Promise.reject(error);\n    });\n}\n\n/**\n * Download and prepare in memory the external Scandit Engine library.\n * If this method isn't called manually the library will be automatically loaded the first\n * time it's required by another of this library's components.\n *\n * @returns A promise resolving when the external Scandit Engine library has been loaded and is ready.\n */\nexport function loadEngineLibrary(): Promise<void> {\n  try {\n    const scanner: Scanner = new Scanner();\n    scanner.applyImageSettings({ width: 2, height: 2, format: ImageSettings.Format.GRAY_8U });\n\n    return scanner.processImage(new Uint8ClampedArray(4)).then(() => {\n      return;\n    });\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}\n"],"names":["ceil","Math","floor","it","isNaN","undefined","TypeError","TO_STRING","that","pos","a","b","s","String","defined","i","toInteger","l","length","charCodeAt","charAt","slice","global","module","window","self","Function","__g","core","version","__e","fn","aFunction","call","c","apply","arguments","isObject","exec","e","require$$0","Object","defineProperty","get","document","is","createElement","require$$1","require$$2","S","val","toString","valueOf","dP","O","P","Attributes","anObject","toPrimitive","IE8_DOM_DEFINE","value","bitmap","enumerable","configurable","writable","object","key","f","createDesc","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","IS_WRAP","W","exports","expProto","target","ctx","C","this","virtual","R","hide","U","hasOwnProperty","propertyIsEnumerable","cof","split","IObject","min","max","index","IS_INCLUDES","$this","el","fromIndex","toIObject","toLength","toAbsoluteIndex","store","id","px","random","concat","shared","uid","arrayIndexOf","IE_PROTO","names","result","has","push","keys","$keys","enumBugKeys","defineProperties","Properties","getKeys","documentElement","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","open","write","lt","close","create","dPs","Symbol","USE_SYMBOL","def","TAG","tag","stat","prototype","IteratorPrototype","Constructor","NAME","next","descriptor","setToStringTag","ObjectProto","getPrototypeOf","toObject","constructor","ITERATOR","BUGGY","returnThis","Base","DEFAULT","IS_SET","FORCED","$iterCreate","methods","getMethod","kind","proto","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","entries","LIBRARY","Iterators","values","redefine","$at","iterated","_t","_i","point","done","Array","_k","step","Arguments","addToUnscopables","TO_STRING_TAG","DOMIterables","Collection","defer","channel","port","ARG","T","tryGet","callee","forbiddenField","iterator","ret","ArrayProto","getIteratorMethod","classof","BREAK","RETURN","iterable","iterFn","getIterFn","isArrayIter","SPECIES","D","args","un","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","event","data","invoke","nextTick","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","cel","html","removeChild","setTimeout","set","clear","macrotask","Observer","MutationObserver","WebKitMutationObserver","Promise","isNode","head","last","notify","flush","parent","domain","exit","enter","toggle","node","createTextNode","observe","characterData","resolve","promise","then","task","reject","$$resolve","$$reject","v","x","promiseCapability","newPromiseCapability","safe","KEY","DESCRIPTORS","SAFE_CLOSING","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","skipClosing","arr","iter","microtask","$Promise","empty","newPromiseCapabilityModule","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","console","unhandled","isUnhandled","perform","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_d","_w","$resolve","wrapper","executor","anInstance","err","require$$3","onFulfilled","onRejected","speciesConstructor","catch","require$$6","r","capability","promiseResolve","require$$7","all","remaining","forOf","$index","alreadyCalled","race","finally","onFinally","isFunction","try","callbackfn","default","__esModule","t","navigator","userAgent","match","parseInt","objectFitPolyfill","o","n","d","clientWidth","clientHeight","indexOf","dataset","objectFit","getAttribute","objectPosition","parentNode","getComputedStyle","getPropertyValue","position","overflow","height","className","max-width","max-height","min-width","min-height","top","right","bottom","left","margin-top","margin-right","margin-bottom","margin-left","width","marginTop","marginLeft","querySelectorAll","nodeName","toLowerCase","readyState","complete","logDisabled_","deprecationWarnings_","extractVersion","uastring","expr","wrapPeerConnectionEvent","eventNameToWrap","RTCPeerConnection","nativeAddEventListener","nativeEventName","cb","wrappedCallback","_eventMap","nativeRemoveEventListener","removeEventListener","unwrappedCb","disableLog","bool","Error","disableWarnings","log","deprecated","oldMethod","newMethod","warn","detectBrowser","browser","mozGetUserMedia","webkitGetUserMedia","mediaDevices","logging","utils","browserDetails","constraintsToChrome_","mandatory","optional","cc","forEach","ideal","exact","oldname_","prefix","toUpperCase","oc","mix","advanced","shimConstraints_","constraints","func","JSON","parse","stringify","audio","remap","obj","video","face","facingMode","matches","getSupportedFacingModeLies","getSupportedConstraints","enumerateDevices","devices","dev","filter","find","some","label","deviceId","shimError_","PermissionDeniedError","PermissionDismissedError","InvalidStateError","DevicesNotFoundError","ConstraintNotSatisfiedError","TrackStartError","MediaDeviceFailedDueToShutdown","MediaDeviceKillSwitchOn","TabCaptureError","ScreenCaptureError","DeviceCaptureError","message","constraint","constraintName","getUserMedia","onSuccess","onError","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","map","device","groupId","echoCancellation","frameRate","origGetUserMedia","bind","cs","stream","getAudioTracks","getVideoTracks","getTracks","track","stop","DOMException","shimGetUserMedia","shimMediaStream","MediaStream","webkitMediaStream","shimOnTrack","transceiver","receiver","_ontrack","origSetRemoteDescription","setRemoteDescription","pc","_ontrackpoly","te","getReceivers","Event","streams","dispatchEvent","shimGetSendersWithDtmf","shimSenderWithDtmf","dtmf","_dtmf","createDTMFSender","_pc","getSenders","_senders","origAddTrack","addTrack","sender","origRemoveTrack","removeTrack","idx","splice","origAddStream","addStream","origRemoveStream","removeStream","RTCRtpSender","origGetSenders","senders","shimSourceObject","URL","HTMLMediaElement","_srcObject","revokeObjectURL","createObjectURL","shimAddTrackRemoveTrackWithNative","getLocalStreams","_shimmedLocalStreams","streamId","existingSenders","newSenders","newSender","shimAddTrackRemoveTrack","origGetLocalStreams","nativeStreams","_reverseStreams","_streams","newStream","replaceInternalStreamId","description","sdp","internalId","externalStream","internalStream","replace","RegExp","RTCSessionDescription","signalingState","oldStream","method","nativeMethod","desc","origSetLocalDescription","setLocalDescription","replaceExternalStreamId","origLocalDescription","getOwnPropertyDescriptor","streamid","shimPeerConnection","webkitRTCPeerConnection","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","generateCertificate","OrigPeerConnection","iceServers","newIceServers","server","urls","url","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","report","standardStats","timestamp","localcandidate","remotecandidate","makeMapStats","stats","Map","opts","RTCIceCandidate","nativeAddIceCandidate","addIceCandidate","SDPUtils","generateIdentifier","substr","localCName","splitLines","blob","trim","line","splitSections","part","getDescription","sections","getMediaSections","shift","matchPrefix","parseCandidate","parts","candidate","foundation","substring","component","protocol","priority","ip","relatedAddress","relatedPort","tcpType","ufrag","usernameFragment","writeCandidate","join","parseIceOptions","parseRtpMap","parsed","payloadType","clockRate","numChannels","writeRtpMap","codec","pt","preferredPayloadType","parseExtmap","direction","uri","writeExtmap","headerExtension","preferredId","parseFmtp","kv","j","writeFmtp","parameters","params","param","parseRtcpFb","parameter","writeRtcpFb","lines","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getMid","mediaSection","mid","parseFingerprint","algorithm","getDtlsParameters","sessionpart","role","fingerprints","writeDtlsParameters","setupType","fp","getIceParameters","password","writeIceParameters","parseRtpParameters","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","caps","maxptime","extension","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","fec","mechanism","bandwidth","maxBitrate","parseRtcpParameters","rtcpParameters","remoteSsrc","cname","rsize","reducedSize","compound","mux","parseMsid","spec","planB","generateSessionId","writeSessionBoilerplate","sessId","sessVer","writeMediaSection","iceGatherer","getLocalParameters","dtlsTransport","rtpSender","rtpReceiver","msid","sendEncodingParameters","getDirection","getKind","isRejected","parseMLine","fmt","parseOLine","username","sessionId","sessionVersion","netType","addressType","address","dtlsRole","trackId","_initialTrackId","getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","findCodecByPayloadType","rtxCapabilityMatches","lRtx","rRtx","lCodecs","rCodecs","lCodec","rCodec","lHeaderExtension","rHeaderExtension","isActionAllowedInSignalingState","action","offer","answer","maybeAddCandidate","iceTransport","alreadyAdded","getRemoteCandidates","remoteCandidate","addRemoteCandidate","makeError","code","NotSupportedError","InvalidAccessError","OperationError","edgeVersion","addTrackToStreamAndFireEvent","MediaStreamTrackEvent","fireAddTrack","trackEvent","_dispatchEvent","config","_eventTarget","createDocumentFragment","canTrickleIceCandidates","needNegotiation","localStreams","remoteStreams","localDescription","remoteDescription","iceConnectionState","connectionState","iceGatheringState","usingBundle","bundlePolicy","rtcpMuxPolicy","hasTurn","isString","filterIceServers","_iceGatherers","iceCandidatePoolSize","RTCIceGatherer","gatherPolicy","_config","transceivers","_sdpSessionId","_sdpSessionVersion","_dtlsRole","_isClosed","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onconnectionstatechange","onicegatheringstatechange","onnegotiationneeded","ondatachannel","_emitGatheringStateChange","getConfiguration","getRemoteStreams","_createTransceiver","doNotAdd","hasBundleTransport","recvEncodingParameters","associatedRemoteMediaStreams","wantReceive","transports","_createIceAndDtlsTransports","_maybeFireNegotiationNeeded","clonedStream","clone","clonedTrack","enabled","_createIceGatherer","sdpMLineIndex","bufferedCandidateEvents","bufferCandidates","end","state","_gather","onlocalcandidate","evt","sdpMid","cand","serializedCandidate","assign","toJSON","every","RTCIceTransport","onicestatechange","_updateIceConnectionState","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_disposeIceAndDtlsTransports","_transceive","send","recv","encodings","p","receive","isIceLite","rejected","remoteIceParameters","remoteDtlsParameters","start","_updateSignalingState","receiverList","iceOptions","remoteMsid","isComplete","cands","setTransport","setRemoteCandidates","RTCRtpReceiver","getCapabilities","isNewTrack","nativeTrack","sid","item","newState","states","new","closed","checking","connected","completed","disconnected","failed","connecting","createOffer","numAudioTracks","numVideoTracks","offerOptions","offerToReceiveAudio","offerToReceiveVideo","remoteCodec","hdrExt","rHdrExt","getLocalCandidates","createAnswer","mediaSectionsInOffer","localTrack","candidateString","senderOrReceiver","promises","allStats","results","ortcObjectName","nativeGetstats","nativeStats","mapStats","inboundrtp","outboundrtp","candidatepair","origMSTEnabled","ev","RTCDtmfSender","RTCDTMFSender","shimRTCPeerConnection","shimReplaceTrack","replaceTrack","setTrack","InternalError","SecurityError","The operation is insecure.","getUserMedia_","constraintsToFF37_","require","orgEnumerateDevices","nativeGetUserMedia","getSettings","nativeGetSettings","applyConstraints","nativeApplyConstraints","RTCTrackEvent","mozSrcObject","mozRTCPeerConnection","newServer","credential","mozRTCSessionDescription","mozRTCIceCandidate","modernStatsTypes","nativeGetStats","onSucc","onErr","shimRemoveStream","shimLocalStreamsAPI","_localStreams","getStreamById","_remoteStreams","_addTrack","tracks","shimRemoteStreamsAPI","_onaddstream","_onaddstreampoly","shimCallbacksAPI","failureCallback","options","withCallback","errcb","shimRTCIceServerUrls","shimTrackEventTransceiver","RTCTransceiver","shimCreateOfferLegacy","origCreateOffer","audioTransceiver","getTransceivers","setDirection","addTransceiver","videoTransceiver","shimRTCIceCandidate","NativeRTCIceCandidate","nativeCandidate","parsedCandidate","augmentedCandidate","shimCreateObjectURL","nativeCreateObjectURL","nativeRevokeObjectURL","newId","delete","dsc","srcObject","nativeSetAttribute","setAttribute","shimMaxMessageSize","RTCSctpTransport","_sctp","remoteIsFirefox","canSendMaxMessageSize","mLine","maxMessageSize","isFirefox","getRemoteFirefoxVersion","canSendMMS","remoteMMS","getMaxMessageSize","Number","POSITIVE_INFINITY","sctp","shimSendThrowTypeError","origCreateDataChannel","createDataChannel","dataChannel","origDataChannelSend","size","byteLength","dependencies","shimChrome","shimFirefox","shimEdge","shimSafari","chromeShim","edgeShim","firefoxShim","safariShim","commonShim","require$$4","adapter","browserShim","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","$Symbol","wksExt","getOwnPropertySymbols","getSymbols","gOPS","symbols","isEnum","pIE","isArray","arg","hiddenKeys","getOwnPropertyNames","gOPN","windowNames","getWindowNames","gOPD","$GOPD","$DP","gOPNExt","$JSON","_stringify","HIDDEN","wks","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","setter","findChild","setSymbolDesc","$fails","_create","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","enumKeys","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","k","wksDefine","for","keyFor","useSetter","useSimple","replacer","$replacer","require$$5","_iterator2","_interopRequireDefault","_iterator","_symbol2","_symbol","_typeof","check","setPrototypeOf","test","buggy","__proto__","exp","fails","$getPrototypeOf","instance","_typeof3","_typeof2","ReferenceError","Type","Camera","Format","ImageSettings","CameraAccess","backCameraKeywords","BrowserHelper","$Object","_setPrototypeOf2","_setPrototypeOf","_create2","subClass","superClass","CustomError","Worker","WebAssembly","Blob","storedDeviceId","cookieMatch","cookie","cookieValue","pop","getCookieValue","date","randomDeviceId","Date","setTime","getTime","expirationDays","toUTCString","unsupportedBrowserError","checkBrowserCompatibility","accessPermissionPromise","_Promise","mediaStream","cameras","videoDevice","lowercaseLabel","keyword","BACK","FRONT","camera","cameraType","resolutionFallbackLevel","getUserMediaParams","$assign","A","K","aLen","DataFormat","Parser","CompositeFlag","Symbology","Barcode","_defineProperty2","_defineProperty","props","protoProps","staticProps","Events","addListener","emitter","context","once","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","len","removeListener","on","removeAllListeners","off","prefixed","engineSDKWorker","imageBufferPointer","licenseKey","settings","imageSettings","wasmLoaded","scannerSettingsReady","scannerImageSettingsReady","scanQueue","parseQueue","contextAvailable","scanWorkSubmitted","parseWorkSubmitted","blurryDecodingEnabled","licenseKeyLength","Module","lengthBytesUTF8","licenseKeyPointer","_malloc","stringToUTF8","asm","_create_context","_free","settingsLength","settingsPointer","resultPointer","_scanner_settings_new_from_json","UTF8ToString","debug","channels","format","_scanner_image_settings_new","dataFormat","dataString","dataStringLength","dataStringPointer","optionsLength","optionsPointer","_parser_parse_string","imageData","currentScanWorkUnit","resultData","HEAPU8","Uint8Array","_scanner_scan","requestId","currentParseWorkUnit","parseString","libraryLocation","customModule","importObject","wasmURI","wasmVersion","storeName","db","moduleObject","request","transaction","objectStore","put","onsuccess","openDBRequest","indexedDB","instantiate","onupgradeneeded","objectStoreNames","contains","deleteObjectStore","createObjectStore","arrayBuffer","bytes","errMsg","instantiateStreaming","fetch","pow","reduce","mkdir","mount","IDBFS","syncfs","callMain","decodedData","decodeURIComponent","escape","fromCharCode","rawData","symbology","location","y","compositeFlag","isGs1DataCarrier","encodingArray","EAN13","EAN8","UPCA","UPCE","CODE128","CODE39","CODE93","INTERLEAVED_2_OF_5","QR","DATA_MATRIX","PDF417","MSI_PLESSEY","GS1_DATABAR","GS1_DATABAR_EXPANDED","CODABAR","AZTEC","TWO_DIGIT_ADD_ON","FIVE_DIGIT_ADD_ON","MAXICODE","CODE11","GS1_DATABAR_LIMITED","CODE25","MICRO_PDF417","RM4SCC","KIX","DOTCODE","scanner","dataRaw","isEntries","$values","getIterator","from","arrayLike","mapfn","mapping","createProperty","_from2","_from","arr2","TYPE","SIZE","getEntry","entry","_f","getConstructor","IS_MAP","ADDER","_l","redefineAll","validate","prev","setStrong","$iterDefine","setSpecies","original","$create","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","asc","res","each","common","IS_WEAK","IS_ADDER","add","strong","COLLECTION","of","mapFn","nextItem","Checksum","Extension","SymbologySettings","Set","colorInvertedEnabled","activeSymbolCounts","extensions","checksums","customExtensions","customChecksums","_Array$from","_Object$values","minCount","maxCount","_","checksum","enabledSymbologies","codeDuplicateFilter","maxNumberOfCodesPerFrame","searchArea","symbologySettings","enableSymbologies","baseSearchArea","symbologies","toJSONName","_this","combinedSearchArea","isFullSearchArea","round","_JSON$stringify","ls","isEnabled","setSymbologiesEnabled","durationMilliseconds","limit","setEnabled","scanSettings","ScanSettings","userLicenseKey","isReadyToWork","workerScanQueueLength","engineWokerOnMessage","scanditEngineLocation","eventEmitter","workerParseRequestId","workerScanRequestId","applyLicenseKey","applyScanSettings","applyImageSettings","terminate","toJSONString","GRAY_8U","RGB_8U","RGBA_8U","workResultEvent","workErrorEvent","originalImageData","createFromWASMResult","errorCode","errorMessage","errorObject","buffer","parseStringResultEvent","_this2","parseStringErrorEvent","parserResult","fields","parserField","fieldsByName","messageType","messageData","init","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","masterGain","noAudio","usingWebAudio","autoSuspend","mobileAutoEnable","_setup","volume","parseFloat","gain","setValueAtTime","currentTime","_webAudio","_getSoundIds","u","_soundById","_node","mute","muted","unload","_autoSuspend","Audio","oncanplaythrough","_setupCodecs","canPlayType","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","_autoResume","createBufferSource","connect","destination","noteOn","resume","onended","disconnect","suspend","_sounds","_paused","_suspendTimer","clearTimeout","_resumeAfterSuspend","_emit","_autoplay","autoplay","_format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_xhrWithCredentials","xhrWithCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","play","load","_ended","_id","_inactiveSound","_loadQueue","_seek","abs","_start","_stop","_refreshBuffer","_playStart","bufferSource","noteGrainOn","_clearTimer","playbackRate","paused","m","ejecta","isCocoonJS","pause","seek","_rateSeek","_stopFade","noteOff","_cleanBuffer","duration","_interval","fade","linearRampToValueAtTime","_startFadeInterval","_fadeTo","setInterval","clearInterval","cancelScheduledValues","loopStart","loopEnd","playing","_errorFn","_loadFn","ended","_drain","reset","_panner","_parent","createGain","createGainNode","_errorListener","_loadListener","__default","atob","XMLHttpRequest","withCredentials","responseType","status","decodeAudioData","AudioContext","webkitAudioContext","platform","appVersion","standalone","HowlerGlobal","Howler","Howl","Sound","beepSound","hypot","value1","value2","div","sum","larg","Infinity","sqrt","ResolutionPreference","CameraSettings","ObjectFit","GuiStyle","BarcodePicker","barcodePicker","postStreamInitialization","triggerManualFocus","triggerZoomStart","triggerZoomMove","setupCameraSwitcher","setupTorchToggle","enableCameraSwitcher","enableTorchToggle","enableTapToFocus","enablePinchToZoom","selectedCamera","cameraSettings","selectedCameraSettings","getCameras","cameraSwitcherElement","classList","remove","autoselectedCamera","currentCamera","initializeCameraWithSettings","activeCamera","currentResolution","cameraAccessTimeout","cameraMetadataCheckInterval","getCapabilitiesTimeout","manualFocusWaitTimeout","manualToAutofocusResumeTimeout","autofocusInterval","mediaTrackCapabilities","activeCameraSettings","resolutionPreference","FULL_HD","initializeCamera","torch","videoTracks","zoomPercentage","currentZoom","zoom","zoomRange","targetZoom","storeStreamCapabilities","setupAutofocus","torchToggleElement","BarcodePickerCameraManager","getCapabilitiesTimeoutMs","preventDefault","touches","pinchToZoomDistance","focusModeCapability","focusMode","triggerFocusMode","manualFocusWaitTimeoutMs","manualToAutofocusResumeTimeoutMs","_this3","triggerAutoFocus","autofocusIntervalMs","_Math$hypot","screenX","screen","screenY","getConstraints","pinchToZoomInitialZoom","currentConstraints","currentZoomConstraint","setZoom","videoElement","eventName","_this4","triggerManualFocusListener","triggerZoomStartListener","triggerZoomMoveListener","stopStream","torchEnabled","accessCameraStream","mediaTrackSettings","_this5","postStreamInitializationListener","enableTapToFocusListeners","enablePinchToZoomListeners","resolveInitializeCamera","playPromise","newCamera","error2","cameraNotReadableError","cameraAccessTimeoutMs","isIOSDevice","onloadstart","_this6","setMirrorImageEnabled","onloadeddata","videoWidth","videoHeight","cameraMetadataCheckStartTime","performance","cameraMetadataCheckTimeoutMs","cameraMetadataCheckIntervalMs","cameraSwitcherElementClassName","parentElement","newCameraIndex","findIndex","_this7","torchToggleElementClassName","_this8","setTorchEnabled","originElement","visible","playSoundOnScan","vibrateOnScan","scanningPaused","guiStyle","LASER","videoFit","CONTAIN","targetScanningFPS","destroyed","vibrateFunction","vibrate","webkitVibrate","mozVibrate","msVibrate","grandParentElement","grandParentElementClassName","parentElementClassName","setupVideoElement","setupVideoImageCanvasElement","setVisible","setPlaySoundOnScanEnabled","setVibrateOnScanEnabled","setTargetScanningFPS","Scanner","onReady","requestAnimationFrame","videoProcessing","resizeInterval","resizeIfNeeded","laserActiveImageElement","laserPausedImageElement","viewfinderElement","setupAssets","setGuiStyle","setVideoFit","setupGlobalListeners","cameraManager","pauseScanning","destroy","removeGlobalListeners","pauseCamera","isReady","cameraAccess","setupCameras","setSelectedCamera","setSelectedCameraSettings","applyCameraSettings","mirrorImage","NONE_DEPRECATED","NONE","LASER_DEPRECATED","VIEWFINDER_DEPRECATED","VIEWFINDER","COVER","getScanSettings","setBaseSearchArea","lastKnownOriginElementWidth","lastKnownOriginElementHeight","createParserForFormat","HTMLElement","checkAndRecoverPlayback","maxWidth","maxHeight","videoRatio","widthPercentage","heightPercentage","videoElementClassName","videoImageCanvasContext","canvas","videoImageCanvasElement","canvasContext","getContext","offsetHeight","scanditLogoImageElement","scanditLogoImageElementClassName","laserImageElementClassName","viewfinderElementClassName","active","reinitializeCamera","fatalError","globalListener","scanResult","barcodes","flashLaser","flashViewfinder","isBusyProcessing","latestVideoTimeProcessed","resumeScanning","processingStartTime","drawImage","getImageData","processImage","handleScanResult","scanError","averageProcessingTime","nextProcessingCallDelay","accessCamera","setUIOptions","onScanError","getDeviceId","Uint8ClampedArray","engineLocation","preloadEngineLibrary","preloadCameras","origin","loadEngineLibrary"],"mappings":"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"}